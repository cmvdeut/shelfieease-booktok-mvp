module.exports=[7231,(a,b,c)=>{},84612,(a,b,c)=>{},34458,a=>{"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb,bc=a.i(46465),bd=a.i(95584),be=a.i(90954),bf=(b=function(a,c){return(b=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,c)},function(a,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=a}b(a,c),a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}),bg=function(a){function b(b,c){var d,e,f,g,h=this.constructor,i=a.call(this,b,c)||this;return Object.defineProperty(i,"name",{value:h.name,enumerable:!1,configurable:!0}),d=h.prototype,(e=Object.setPrototypeOf)?e(i,d):i.__proto__=d,void 0===f&&(f=i.constructor),(g=Error.captureStackTrace)&&g(i,f),i}return bf(b,a),b}(Error),bh=(c=function(a,b){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function d(){this.constructor=a}c(a,b),a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}),bi=function(a){function b(b){void 0===b&&(b=void 0);var c=a.call(this,b)||this;return c.message=b,c}return bh(b,a),b.prototype.getKind=function(){return this.constructor.kind},b.kind="Exception",b}(bg),bj=(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bk=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bj(b,a),b.kind="ArgumentException",b}(bi),bl=(e=function(a,b){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}e(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bm=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bl(b,a),b.kind="IllegalArgumentException",b}(bi),bn=function(){function a(a){if(this.binarizer=a,null===a)throw new bm("Binarizer must be non-null.")}return a.prototype.getWidth=function(){return this.binarizer.getWidth()},a.prototype.getHeight=function(){return this.binarizer.getHeight()},a.prototype.getBlackRow=function(a,b){return this.binarizer.getBlackRow(a,b)},a.prototype.getBlackMatrix=function(){return(null===this.matrix||void 0===this.matrix)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},a.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},a.prototype.crop=function(b,c,d,e){var f=this.binarizer.getLuminanceSource().crop(b,c,d,e);return new a(this.binarizer.createBinarizer(f))},a.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},a.prototype.rotateCounterClockwise=function(){var b=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new a(this.binarizer.createBinarizer(b))},a.prototype.rotateCounterClockwise45=function(){var b=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new a(this.binarizer.createBinarizer(b))},a.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(a){return""}},a}(),bo=(f=function(a,b){return(f=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}f(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bp=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bo(b,a),b.getChecksumInstance=function(){return new b},b.kind="ChecksumException",b}(bi),bq=function(){function a(a){this.source=a}return a.prototype.getLuminanceSource=function(){return this.source},a.prototype.getWidth=function(){return this.source.getWidth()},a.prototype.getHeight=function(){return this.source.getHeight()},a}(),br=function(){function a(){}return a.arraycopy=function(a,b,c,d,e){for(;e--;)c[d++]=a[b++]},a.currentTimeMillis=function(){return Date.now()},a}(),bs=(g=function(a,b){return(g=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}g(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bt=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bs(b,a),b.kind="IndexOutOfBoundsException",b}(bi),bu=(h=function(a,b){return(h=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}h(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bv=function(a){function b(b,c){void 0===b&&(b=void 0),void 0===c&&(c=void 0);var d=a.call(this,c)||this;return d.index=b,d.message=c,d}return bu(b,a),b.kind="ArrayIndexOutOfBoundsException",b}(bt),bw=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},bx=function(){function a(){}return a.fill=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c]=b},a.fillWithin=function(b,c,d,e){a.rangeCheck(b.length,c,d);for(var f=c;f<d;f++)b[f]=e},a.rangeCheck=function(a,b,c){if(b>c)throw new bm("fromIndex("+b+") > toIndex("+c+")");if(b<0)throw new bv(b);if(c>a)throw new bv(c)},a.asList=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a},a.create=function(a,b,c){return Array.from({length:a}).map(function(a){return Array.from({length:b}).fill(c)})},a.createInt32Array=function(a,b,c){return Array.from({length:a}).map(function(a){return Int32Array.from({length:b}).fill(c)})},a.equals=function(a,b){if(!a||!b||!a.length||!b.length||a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0},a.hashCode=function(a){if(null===a)return 0;var b,c,d=1;try{for(var e=bw(a),f=e.next();!f.done;f=e.next()){var g=f.value;d=31*d+g}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d},a.fillUint8Array=function(a,b){for(var c=0;c!==a.length;c++)a[c]=b},a.copyOf=function(a,b){return a.slice(0,b)},a.copyOfUint8Array=function(a,b){if(a.length<=b){var c=new Uint8Array(b);return c.set(a),c}return a.slice(0,b)},a.copyOfRange=function(a,b,c){var d=c-b,e=new Int32Array(d);return br.arraycopy(a,b,e,0,d),e},a.binarySearch=function(b,c,d){void 0===d&&(d=a.numberComparator);for(var e=0,f=b.length-1;e<=f;){var g=f+e>>1,h=d(c,b[g]);if(h>0)e=g+1;else{if(!(h<0))return g;f=g-1}}return-e-1},a.numberComparator=function(a,b){return a-b},a}(),by=function(){function a(){}return a.numberOfTrailingZeros=function(a){if(0===a)return 32;var b,c=31;return 0!=(b=a<<16)&&(c-=16,a=b),0!=(b=a<<8)&&(c-=8,a=b),0!=(b=a<<4)&&(c-=4,a=b),0!=(b=a<<2)&&(c-=2,a=b),c-(a<<1>>>31)},a.numberOfLeadingZeros=function(a){if(0===a)return 32;var b=1;return a>>>16==0&&(b+=16,a<<=16),a>>>24==0&&(b+=8,a<<=8),a>>>28==0&&(b+=4,a<<=4),a>>>30==0&&(b+=2,a<<=2),b-=a>>>31},a.toHexString=function(a){return a.toString(16)},a.toBinaryString=function(a){return String(parseInt(String(a),2))},a.bitCount=function(a){return a-=a>>>1&0x55555555,a=(a=(0x33333333&a)+(a>>>2&0x33333333))+(a>>>4)&0xf0f0f0f,a+=a>>>8,63&(a+=a>>>16)},a.truncDivision=function(a,b){return Math.trunc(a/b)},a.parseInt=function(a,b){return void 0===b&&(b=void 0),parseInt(a,b)},a.MIN_VALUE_32_BITS=-0x80000000,a.MAX_VALUE=Number.MAX_SAFE_INTEGER,a}(),bz=function(){function a(b,c){void 0===b?(this.size=0,this.bits=new Int32Array(1)):(this.size=b,null==c?this.bits=a.makeArray(b):this.bits=c)}return a.prototype.getSize=function(){return this.size},a.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},a.prototype.ensureCapacity=function(b){if(b>32*this.bits.length){var c=a.makeArray(b);br.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}},a.prototype.get=function(a){return(this.bits[Math.floor(a/32)]&1<<(31&a))!=0},a.prototype.set=function(a){this.bits[Math.floor(a/32)]|=1<<(31&a)},a.prototype.flip=function(a){this.bits[Math.floor(a/32)]^=1<<(31&a)},a.prototype.getNextSet=function(a){var b=this.size;if(a>=b)return b;var c=this.bits,d=Math.floor(a/32),e=c[d];e&=~((1<<(31&a))-1);for(var f=c.length;0===e;){if(++d===f)return b;e=c[d]}var g=32*d+by.numberOfTrailingZeros(e);return g>b?b:g},a.prototype.getNextUnset=function(a){var b=this.size;if(a>=b)return b;var c=this.bits,d=Math.floor(a/32),e=~c[d];e&=~((1<<(31&a))-1);for(var f=c.length;0===e;){if(++d===f)return b;e=~c[d]}var g=32*d+by.numberOfTrailingZeros(e);return g>b?b:g},a.prototype.setBulk=function(a,b){this.bits[Math.floor(a/32)]=b},a.prototype.setRange=function(a,b){if(b<a||a<0||b>this.size)throw new bm;if(b!==a)for(var c=Math.floor(a/32),d=Math.floor(--b/32),e=this.bits,f=c;f<=d;f++){var g=f>c?0:31&a,h=(2<<(f<d?31:31&b))-(1<<g);e[f]|=h}},a.prototype.clear=function(){for(var a=this.bits.length,b=this.bits,c=0;c<a;c++)b[c]=0},a.prototype.isRange=function(a,b,c){if(b<a||a<0||b>this.size)throw new bm;if(b===a)return!0;for(var d=Math.floor(a/32),e=Math.floor(--b/32),f=this.bits,g=d;g<=e;g++){var h=g>d?0:31&a,i=(2<<(g<e?31:31&b))-(1<<h)|0;if((f[g]&i)!==(c?i:0))return!1}return!0},a.prototype.appendBit=function(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},a.prototype.appendBits=function(a,b){if(b<0||b>32)throw new bm("Num bits must be between 0 and 32");this.ensureCapacity(this.size+b);for(var c=b;c>0;c--)this.appendBit((a>>c-1&1)==1)},a.prototype.appendBitArray=function(a){var b=a.size;this.ensureCapacity(this.size+b);for(var c=0;c<b;c++)this.appendBit(a.get(c))},a.prototype.xor=function(a){if(this.size!==a.size)throw new bm("Sizes don't match");for(var b=this.bits,c=0,d=b.length;c<d;c++)b[c]^=a.bits[c]},a.prototype.toBytes=function(a,b,c,d){for(var e=0;e<d;e++){for(var f=0,g=0;g<8;g++)this.get(a)&&(f|=1<<7-g),a++;b[c+e]=f}},a.prototype.getBitArray=function(){return this.bits},a.prototype.reverse=function(){for(var a=new Int32Array(this.bits.length),b=Math.floor((this.size-1)/32),c=b+1,d=this.bits,e=0;e<c;e++){var f=d[e];f=(f=(f=(f=(f=f>>1&0x55555555|(0x55555555&f)<<1)>>2&0x33333333|(0x33333333&f)<<2)>>4&0xf0f0f0f|(0xf0f0f0f&f)<<4)>>8&0xff00ff|(0xff00ff&f)<<8)>>16&65535|(65535&f)<<16,a[b-e]=f}if(this.size!==32*c){for(var g=32*c-this.size,h=a[0]>>>g,e=1;e<c;e++){var i=a[e];h|=i<<32-g,a[e-1]=h,h=i>>>g}a[c-1]=h}this.bits=a},a.makeArray=function(a){return new Int32Array(Math.floor((a+31)/32))},a.prototype.equals=function(b){return b instanceof a&&this.size===b.size&&bx.equals(this.bits,b.bits)},a.prototype.hashCode=function(){return 31*this.size+bx.hashCode(this.bits)},a.prototype.toString=function(){for(var a="",b=0,c=this.size;b<c;b++)(7&b)==0&&(a+=" "),a+=this.get(b)?"X":".";return a},a.prototype.clone=function(){return new a(this.size,this.bits.slice())},a.prototype.toArray=function(){for(var a=[],b=0,c=this.size;b<c;b++)a.push(this.get(b));return a},a}();(i=aZ||(aZ={}))[i.OTHER=0]="OTHER",i[i.PURE_BARCODE=1]="PURE_BARCODE",i[i.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",i[i.TRY_HARDER=3]="TRY_HARDER",i[i.CHARACTER_SET=4]="CHARACTER_SET",i[i.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",i[i.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",i[i.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",i[i.ASSUME_GS1=8]="ASSUME_GS1",i[i.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",i[i.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",i[i.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS";let bA=aZ;var bB=(j=function(a,b){return(j=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}j(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bC=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bB(b,a),b.getFormatInstance=function(){return new b},b.kind="FormatException",b}(bi),bD=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};(k=a$||(a$={}))[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR";var bE=function(){function a(b,c,d){for(var e,f,g=[],h=3;h<arguments.length;h++)g[h-3]=arguments[h];this.valueIdentifier=b,this.name=d,"number"==typeof c?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=g,a.VALUE_IDENTIFIER_TO_ECI.set(b,this),a.NAME_TO_ECI.set(d,this);for(var i=this.values,j=0,k=i.length;j!==k;j++){var l=i[j];a.VALUES_TO_ECI.set(l,this)}try{for(var m=bD(g),n=m.next();!n.done;n=m.next()){var o=n.value;a.NAME_TO_ECI.set(o,this)}}catch(a){e={error:a}}finally{try{n&&!n.done&&(f=m.return)&&f.call(m)}finally{if(e)throw e.error}}}return a.prototype.getValueIdentifier=function(){return this.valueIdentifier},a.prototype.getName=function(){return this.name},a.prototype.getValue=function(){return this.values[0]},a.getCharacterSetECIByValue=function(b){if(b<0||b>=900)throw new bC("incorect value");var c=a.VALUES_TO_ECI.get(b);if(void 0===c)throw new bC("incorect value");return c},a.getCharacterSetECIByName=function(b){var c=a.NAME_TO_ECI.get(b);if(void 0===c)throw new bC("incorect value");return c},a.prototype.equals=function(b){return b instanceof a&&this.getName()===b.getName()},a.VALUE_IDENTIFIER_TO_ECI=new Map,a.VALUES_TO_ECI=new Map,a.NAME_TO_ECI=new Map,a.Cp437=new a(a$.Cp437,Int32Array.from([0,2]),"Cp437"),a.ISO8859_1=new a(a$.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),a.ISO8859_2=new a(a$.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),a.ISO8859_3=new a(a$.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),a.ISO8859_4=new a(a$.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),a.ISO8859_5=new a(a$.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),a.ISO8859_6=new a(a$.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),a.ISO8859_7=new a(a$.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),a.ISO8859_8=new a(a$.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),a.ISO8859_9=new a(a$.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),a.ISO8859_10=new a(a$.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),a.ISO8859_11=new a(a$.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),a.ISO8859_13=new a(a$.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),a.ISO8859_14=new a(a$.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),a.ISO8859_15=new a(a$.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),a.ISO8859_16=new a(a$.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),a.SJIS=new a(a$.SJIS,20,"SJIS","Shift_JIS"),a.Cp1250=new a(a$.Cp1250,21,"Cp1250","windows-1250"),a.Cp1251=new a(a$.Cp1251,22,"Cp1251","windows-1251"),a.Cp1252=new a(a$.Cp1252,23,"Cp1252","windows-1252"),a.Cp1256=new a(a$.Cp1256,24,"Cp1256","windows-1256"),a.UnicodeBigUnmarked=new a(a$.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),a.UTF8=new a(a$.UTF8,26,"UTF8","UTF-8"),a.ASCII=new a(a$.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),a.Big5=new a(a$.Big5,28,"Big5"),a.GB18030=new a(a$.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),a.EUC_KR=new a(a$.EUC_KR,30,"EUC_KR","EUC-KR"),a}(),bF=(l=function(a,b){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}l(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bG=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bF(b,a),b.kind="UnsupportedOperationException",b}(bi),bH=function(){function a(){}return a.decode=function(a,b){var c=this.encodingName(b);return this.customDecoder?this.customDecoder(a,c):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(c)?this.decodeFallback(a,c):new TextDecoder(c).decode(a)},a.shouldDecodeOnFallback=function(b){return!a.isBrowser()&&"ISO-8859-1"===b},a.encode=function(a,b){var c=this.encodingName(b);return this.customEncoder?this.customEncoder(a,c):"undefined"==typeof TextEncoder?this.encodeFallback(a):new TextEncoder().encode(a)},a.isBrowser=function(){return!1},a.encodingName=function(a){return"string"==typeof a?a:a.getName()},a.encodingCharacterSet=function(a){return a instanceof bE?a:bE.getCharacterSetECIByName(a)},a.decodeFallback=function(b,c){var d=this.encodingCharacterSet(c);if(a.isDecodeFallbackSupported(d)){for(var e="",f=0,g=b.length;f<g;f++){var h=b[f].toString(16);h.length<2&&(h="0"+h),e+="%"+h}return decodeURIComponent(e)}if(d.equals(bE.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(b.buffer));throw new bG("Encoding "+this.encodingName(c)+" not supported by fallback.")},a.isDecodeFallbackSupported=function(a){return a.equals(bE.UTF8)||a.equals(bE.ISO8859_1)||a.equals(bE.ASCII)},a.encodeFallback=function(a){for(var b=btoa(unescape(encodeURIComponent(a))).split(""),c=[],d=0;d<b.length;d++)c.push(b[d].charCodeAt(0));return new Uint8Array(c)},a}(),bI=function(){function a(){}return a.castAsNonUtf8Char=function(a,b){void 0===b&&(b=null);var c=b?b.getName():this.ISO88591;return bH.decode(new Uint8Array([a]),c)},a.guessEncoding=function(b,c){if(null!=c&&void 0!==c.get(bA.CHARACTER_SET))return c.get(bA.CHARACTER_SET).toString();for(var d=b.length,e=!0,f=!0,g=!0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=b.length>3&&239===b[0]&&187===b[1]&&191===b[2],t=0;t<d&&(e||f||g);t++){var u=255&b[t];g&&(h>0?(128&u)==0?g=!1:h--:(128&u)!=0&&((64&u)==0?g=!1:(h++,(32&u)==0?i++:(h++,(16&u)==0?j++:(h++,(8&u)==0?k++:g=!1))))),e&&(u>127&&u<160?e=!1:u>159&&(u<192||215===u||247===u)&&r++),f&&(l>0?u<64||127===u||u>252?f=!1:l--:128===u||160===u||u>239?f=!1:u>160&&u<224?(m++,o=0,++n>p&&(p=n)):u>127?(l++,n=0,++o>q&&(q=o)):(n=0,o=0))}return(g&&h>0&&(g=!1),f&&l>0&&(f=!1),g&&(s||i+j+k>0))?a.UTF8:f&&(a.ASSUME_SHIFT_JIS||p>=3||q>=3)?a.SHIFT_JIS:e&&f?2===p&&2===m||10*r>=d?a.SHIFT_JIS:a.ISO88591:e?a.ISO88591:f?a.SHIFT_JIS:g?a.UTF8:a.PLATFORM_DEFAULT_ENCODING},a.format=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=-1;return a.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(a,c,e,f,g,h){if("%%"===a)return"%";if(void 0!==b[++d]){a=f?parseInt(f.substr(1)):void 0;var i,j=g?parseInt(g.substr(1)):void 0;switch(h){case"s":i=b[d];break;case"c":i=b[d][0];break;case"f":i=parseFloat(b[d]).toFixed(a);break;case"p":i=parseFloat(b[d]).toPrecision(a);break;case"e":i=parseFloat(b[d]).toExponential(a);break;case"x":i=parseInt(b[d]).toString(j||16);break;case"d":i=parseFloat(parseInt(b[d],j||10).toPrecision(a)).toFixed(0)}i="object"==typeof i?JSON.stringify(i):(+i).toString(j);for(var k=parseInt(e),l=e&&e[0]+""=="0"?"0":" ";i.length<k;)i=void 0!==c?i+l:l+i;return i}})},a.getBytes=function(a,b){return bH.encode(a,b)},a.getCharCode=function(a,b){return void 0===b&&(b=0),a.charCodeAt(b)},a.getCharAt=function(a){return String.fromCharCode(a)},a.SHIFT_JIS=bE.SJIS.getName(),a.GB2312="GB2312",a.ISO88591=bE.ISO8859_1.getName(),a.EUC_JP="EUC_JP",a.UTF8=bE.UTF8.getName(),a.PLATFORM_DEFAULT_ENCODING=a.UTF8,a.ASSUME_SHIFT_JIS=!1,a}(),bJ=function(){function a(a){void 0===a&&(a=""),this.value=a}return a.prototype.enableDecoding=function(a){return this.encoding=a,this},a.prototype.append=function(a){return"string"==typeof a?this.value+=a.toString():this.encoding?this.value+=bI.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this},a.prototype.appendChars=function(a,b,c){for(var d=b;b<b+c;d++)this.append(a[d]);return this},a.prototype.length=function(){return this.value.length},a.prototype.charAt=function(a){return this.value.charAt(a)},a.prototype.deleteCharAt=function(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)},a.prototype.setCharAt=function(a,b){this.value=this.value.substr(0,a)+b+this.value.substr(a+1)},a.prototype.substring=function(a,b){return this.value.substring(a,b)},a.prototype.setLengthToZero=function(){this.value=""},a.prototype.toString=function(){return this.value},a.prototype.insert=function(a,b){this.value=this.value.substring(0,a)+b+this.value.substring(a)},a}(),bK=function(){function a(a,b,c,d){if(this.width=a,this.height=b,this.rowSize=c,this.bits=d,null==b&&(b=a),this.height=b,a<1||b<1)throw new bm("Both dimensions must be greater than 0");null==c&&(c=Math.floor((a+31)/32)),this.rowSize=c,null==d&&(this.bits=new Int32Array(this.rowSize*this.height))}return a.parseFromBooleanArray=function(b){for(var c=b.length,d=b[0].length,e=new a(d,c),f=0;f<c;f++)for(var g=b[f],h=0;h<d;h++)g[h]&&e.set(h,f);return e},a.parseFromString=function(b,c,d){if(null===b)throw new bm("stringRepresentation cannot be null");for(var e=Array(b.length),f=0,g=0,h=-1,i=0,j=0;j<b.length;)if("\n"===b.charAt(j)||"\r"===b.charAt(j)){if(f>g){if(-1===h)h=f-g;else if(f-g!==h)throw new bm("row lengths do not match");g=f,i++}j++}else if(b.substring(j,j+c.length)===c)j+=c.length,e[f]=!0,f++;else if(b.substring(j,j+d.length)===d)j+=d.length,e[f]=!1,f++;else throw new bm("illegal character encountered: "+b.substring(j));if(f>g){if(-1===h)h=f-g;else if(f-g!==h)throw new bm("row lengths do not match");i++}for(var k=new a(h,i),l=0;l<f;l++)e[l]&&k.set(Math.floor(l%h),Math.floor(l/h));return k},a.prototype.get=function(a,b){var c=b*this.rowSize+Math.floor(a/32);return(this.bits[c]>>>(31&a)&1)!=0},a.prototype.set=function(a,b){var c=b*this.rowSize+Math.floor(a/32);this.bits[c]|=1<<(31&a)},a.prototype.unset=function(a,b){var c=b*this.rowSize+Math.floor(a/32);this.bits[c]&=~(1<<(31&a))},a.prototype.flip=function(a,b){var c=b*this.rowSize+Math.floor(a/32);this.bits[c]^=1<<(31&a)},a.prototype.xor=function(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new bm("input matrix dimensions do not match");for(var b=new bz(Math.floor(this.width/32)+1),c=this.rowSize,d=this.bits,e=0,f=this.height;e<f;e++)for(var g=e*c,h=a.getRow(e,b).getBitArray(),i=0;i<c;i++)d[g+i]^=h[i]},a.prototype.clear=function(){for(var a=this.bits,b=a.length,c=0;c<b;c++)a[c]=0},a.prototype.setRegion=function(a,b,c,d){if(b<0||a<0)throw new bm("Left and top must be nonnegative");if(d<1||c<1)throw new bm("Height and width must be at least 1");var e=a+c,f=b+d;if(f>this.height||e>this.width)throw new bm("The region must fit inside the matrix");for(var g=this.rowSize,h=this.bits,i=b;i<f;i++)for(var j=i*g,k=a;k<e;k++)h[j+Math.floor(k/32)]|=1<<(31&k)},a.prototype.getRow=function(a,b){null==b||b.getSize()<this.width?b=new bz(this.width):b.clear();for(var c=this.rowSize,d=this.bits,e=a*c,f=0;f<c;f++)b.setBulk(32*f,d[e+f]);return b},a.prototype.setRow=function(a,b){br.arraycopy(b.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)},a.prototype.rotate180=function(){for(var a=this.getWidth(),b=this.getHeight(),c=new bz(a),d=new bz(a),e=0,f=Math.floor((b+1)/2);e<f;e++)c=this.getRow(e,c),d=this.getRow(b-1-e,d),c.reverse(),d.reverse(),this.setRow(e,d),this.setRow(b-1-e,c)},a.prototype.getEnclosingRectangle=function(){for(var a=this.width,b=this.height,c=this.rowSize,d=this.bits,e=a,f=b,g=-1,h=-1,i=0;i<b;i++)for(var j=0;j<c;j++){var k=d[i*c+j];if(0!==k){if(i<f&&(f=i),i>h&&(h=i),32*j<e){for(var l=0;k<<31-l==0;)l++;32*j+l<e&&(e=32*j+l)}if(32*j+31>g){for(var l=31;k>>>l==0;)l--;32*j+l>g&&(g=32*j+l)}}}return g<e||h<f?null:Int32Array.from([e,f,g-e+1,h-f+1])},a.prototype.getTopLeftOnBit=function(){for(var a=this.rowSize,b=this.bits,c=0;c<b.length&&0===b[c];)c++;if(c===b.length)return null;for(var d=c/a,e=c%a*32,f=b[c],g=0;f<<31-g==0;)g++;return e+=g,Int32Array.from([e,d])},a.prototype.getBottomRightOnBit=function(){for(var a=this.rowSize,b=this.bits,c=b.length-1;c>=0&&0===b[c];)c--;if(c<0)return null;for(var d=Math.floor(c/a),e=32*Math.floor(c%a),f=b[c],g=31;f>>>g==0;)g--;return e+=g,Int32Array.from([e,d])},a.prototype.getWidth=function(){return this.width},a.prototype.getHeight=function(){return this.height},a.prototype.getRowSize=function(){return this.rowSize},a.prototype.equals=function(b){return b instanceof a&&this.width===b.width&&this.height===b.height&&this.rowSize===b.rowSize&&bx.equals(this.bits,b.bits)},a.prototype.hashCode=function(){var a=this.width;return 31*(a=31*(a=31*(a=31*a+this.width)+this.height)+this.rowSize)+bx.hashCode(this.bits)},a.prototype.toString=function(a,b,c){return void 0===a&&(a="X "),void 0===b&&(b="  "),void 0===c&&(c="\n"),this.buildToString(a,b,c)},a.prototype.buildToString=function(a,b,c){for(var d=new bJ,e=0,f=this.height;e<f;e++){for(var g=0,h=this.width;g<h;g++)d.append(this.get(g,e)?a:b);d.append(c)}return d.toString()},a.prototype.clone=function(){return new a(this.width,this.height,this.rowSize,this.bits.slice())},a}(),bL=(m=function(a,b){return(m=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}m(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bM=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return bL(b,a),b.getNotFoundInstance=function(){return new b},b.kind="NotFoundException",b}(bi),bN=(n=function(a,b){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}n(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bO=function(a){function b(c){var d=a.call(this,c)||this;return d.luminances=b.EMPTY,d.buckets=new Int32Array(b.LUMINANCE_BUCKETS),d}return bN(b,a),b.prototype.getBlackRow=function(a,c){var d=this.getLuminanceSource(),e=d.getWidth();null==c||c.getSize()<e?c=new bz(e):c.clear(),this.initArrays(e);for(var f=d.getRow(a,this.luminances),g=this.buckets,h=0;h<e;h++)g[(255&f[h])>>b.LUMINANCE_SHIFT]++;var i=b.estimateBlackPoint(g);if(e<3)for(var h=0;h<e;h++)(255&f[h])<i&&c.set(h);else for(var j=255&f[0],k=255&f[1],h=1;h<e-1;h++){var l=255&f[h+1];(4*k-j-l)/2<i&&c.set(h),j=k,k=l}return c},b.prototype.getBlackMatrix=function(){var a=this.getLuminanceSource(),c=a.getWidth(),d=a.getHeight(),e=new bK(c,d);this.initArrays(c);for(var f=this.buckets,g=1;g<5;g++)for(var h=Math.floor(d*g/5),i=a.getRow(h,this.luminances),j=Math.floor(4*c/5),k=Math.floor(c/5);k<j;k++){var l=255&i[k];f[l>>b.LUMINANCE_SHIFT]++}for(var m=b.estimateBlackPoint(f),n=a.getMatrix(),g=0;g<d;g++)for(var o=g*c,k=0;k<c;k++){var l=255&n[o+k];l<m&&e.set(k,g)}return e},b.prototype.createBinarizer=function(a){return new b(a)},b.prototype.initArrays=function(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));for(var c=this.buckets,d=0;d<b.LUMINANCE_BUCKETS;d++)c[d]=0},b.estimateBlackPoint=function(a){for(var c=a.length,d=0,e=0,f=0,g=0;g<c;g++)a[g]>f&&(e=g,f=a[g]),a[g]>d&&(d=a[g]);for(var h=0,i=0,g=0;g<c;g++){var j=g-e,k=a[g]*j*j;k>i&&(h=g,i=k)}if(e>h){var l=e;e=h,h=l}if(h-e<=c/16)throw new bM;for(var m=h-1,n=-1,g=h-1;g>e;g--){var o=g-e,k=o*o*(h-g)*(d-a[g]);k>n&&(m=g,n=k)}return m<<b.LUMINANCE_SHIFT},b.LUMINANCE_BITS=5,b.LUMINANCE_SHIFT=8-b.LUMINANCE_BITS,b.LUMINANCE_BUCKETS=1<<b.LUMINANCE_BITS,b.EMPTY=Uint8ClampedArray.from([0]),b}(bq),bP=(o=function(a,b){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}o(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bQ=function(a){function b(b){var c=a.call(this,b)||this;return c.matrix=null,c}return bP(b,a),b.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var c=this.getLuminanceSource(),d=c.getWidth(),e=c.getHeight();if(d>=b.MINIMUM_DIMENSION&&e>=b.MINIMUM_DIMENSION){var f=c.getMatrix(),g=d>>b.BLOCK_SIZE_POWER;(d&b.BLOCK_SIZE_MASK)!=0&&g++;var h=e>>b.BLOCK_SIZE_POWER;(e&b.BLOCK_SIZE_MASK)!=0&&h++;var i=b.calculateBlackPoints(f,g,h,d,e),j=new bK(d,e);b.calculateThresholdForBlock(f,g,h,d,e,i,j),this.matrix=j}else this.matrix=a.prototype.getBlackMatrix.call(this);return this.matrix},b.prototype.createBinarizer=function(a){return new b(a)},b.calculateThresholdForBlock=function(a,c,d,e,f,g,h){for(var i=f-b.BLOCK_SIZE,j=e-b.BLOCK_SIZE,k=0;k<d;k++){var l=k<<b.BLOCK_SIZE_POWER;l>i&&(l=i);for(var m=b.cap(k,2,d-3),n=0;n<c;n++){var o=n<<b.BLOCK_SIZE_POWER;o>j&&(o=j);for(var p=b.cap(n,2,c-3),q=0,r=-2;r<=2;r++){var s=g[m+r];q+=s[p-2]+s[p-1]+s[p]+s[p+1]+s[p+2]}var t=q/25;b.thresholdBlock(a,o,l,t,e,h)}}},b.cap=function(a,b,c){return a<b?b:a>c?c:a},b.thresholdBlock=function(a,c,d,e,f,g){for(var h=0,i=d*f+c;h<b.BLOCK_SIZE;h++,i+=f)for(var j=0;j<b.BLOCK_SIZE;j++)(255&a[i+j])<=e&&g.set(c+j,d+h)},b.calculateBlackPoints=function(a,c,d,e,f){for(var g=f-b.BLOCK_SIZE,h=e-b.BLOCK_SIZE,i=Array(d),j=0;j<d;j++){i[j]=new Int32Array(c);var k=j<<b.BLOCK_SIZE_POWER;k>g&&(k=g);for(var l=0;l<c;l++){var m=l<<b.BLOCK_SIZE_POWER;m>h&&(m=h);for(var n=0,o=255,p=0,q=0,r=k*e+m;q<b.BLOCK_SIZE;q++,r+=e){for(var s=0;s<b.BLOCK_SIZE;s++){var t=255&a[r+s];n+=t,t<o&&(o=t),t>p&&(p=t)}if(p-o>b.MIN_DYNAMIC_RANGE)for(q++,r+=e;q<b.BLOCK_SIZE;q++,r+=e)for(var s=0;s<b.BLOCK_SIZE;s++)n+=255&a[r+s]}var u=n>>2*b.BLOCK_SIZE_POWER;if(p-o<=b.MIN_DYNAMIC_RANGE&&(u=o/2,j>0&&l>0)){var v=(i[j-1][l]+2*i[j][l-1]+i[j-1][l-1])/4;o<v&&(u=v)}i[j][l]=u}}return i},b.BLOCK_SIZE_POWER=3,b.BLOCK_SIZE=1<<b.BLOCK_SIZE_POWER,b.BLOCK_SIZE_MASK=b.BLOCK_SIZE-1,b.MINIMUM_DIMENSION=5*b.BLOCK_SIZE,b.MIN_DYNAMIC_RANGE=24,b}(bO),bR=function(){function a(a,b){this.width=a,this.height=b}return a.prototype.getWidth=function(){return this.width},a.prototype.getHeight=function(){return this.height},a.prototype.isCropSupported=function(){return!1},a.prototype.crop=function(a,b,c,d){throw new bG("This luminance source does not support cropping.")},a.prototype.isRotateSupported=function(){return!1},a.prototype.rotateCounterClockwise=function(){throw new bG("This luminance source does not support rotation by 90 degrees.")},a.prototype.rotateCounterClockwise45=function(){throw new bG("This luminance source does not support rotation by 45 degrees.")},a.prototype.toString=function(){for(var a=new Uint8ClampedArray(this.width),b=new bJ,c=0;c<this.height;c++){for(var d=this.getRow(c,a),e=0;e<this.width;e++){var f=255&d[e],g=void 0;g=f<64?"#":f<128?"+":f<192?".":" ",b.append(g)}b.append("\n")}return b.toString()},a}(),bS=(p=function(a,b){return(p=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}p(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bT=function(a){function b(b){var c=a.call(this,b.getWidth(),b.getHeight())||this;return c.delegate=b,c}return bS(b,a),b.prototype.getRow=function(a,b){for(var c=this.delegate.getRow(a,b),d=this.getWidth(),e=0;e<d;e++)c[e]=255-(255&c[e]);return c},b.prototype.getMatrix=function(){for(var a=this.delegate.getMatrix(),b=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(b),d=0;d<b;d++)c[d]=255-(255&a[d]);return c},b.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},b.prototype.crop=function(a,c,d,e){return new b(this.delegate.crop(a,c,d,e))},b.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},b.prototype.invert=function(){return this.delegate},b.prototype.rotateCounterClockwise=function(){return new b(this.delegate.rotateCounterClockwise())},b.prototype.rotateCounterClockwise45=function(){return new b(this.delegate.rotateCounterClockwise45())},b}(bR),bU=(q=function(a,b){return(q=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}q(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),bV=function(a){function b(c,d){void 0===d&&(d=!1);var e=a.call(this,c.width,c.height)||this;return e.canvas=c,e.tempCanvasElement=null,e.buffer=b.makeBufferFromCanvasImageData(c,d),e}return bU(b,a),b.makeBufferFromCanvasImageData=function(a,c){void 0===c&&(c=!1);var d=a.getContext("2d").getImageData(0,0,a.width,a.height);return b.toGrayscaleBuffer(d.data,a.width,a.height,c)},b.toGrayscaleBuffer=function(a,c,d,e){void 0===e&&(e=!1);var f=new Uint8ClampedArray(c*d);if(b.FRAME_INDEX=!b.FRAME_INDEX,b.FRAME_INDEX||!e)for(var g=0,h=0,i=a.length;g<i;g+=4,h++){var j=void 0,k=a[g+3];if(0===k)j=255;else{var l=a[g],m=a[g+1],n=a[g+2];j=306*l+601*m+117*n+512>>10}f[h]=j}else for(var g=0,h=0,o=a.length;g<o;g+=4,h++){var j=void 0,k=a[g+3];if(0===k)j=255;else{var l=a[g],m=a[g+1],n=a[g+2];j=306*l+601*m+117*n+512>>10}f[h]=255-j}return f},b.prototype.getRow=function(a,b){if(a<0||a>=this.getHeight())throw new bm("Requested row is outside the image: "+a);var c=this.getWidth(),d=a*c;return null===b?b=this.buffer.slice(d,d+c):(b.length<c&&(b=new Uint8ClampedArray(c)),b.set(this.buffer.slice(d,d+c))),b},b.prototype.getMatrix=function(){return this.buffer},b.prototype.isCropSupported=function(){return!0},b.prototype.crop=function(b,c,d,e){return a.prototype.crop.call(this,b,c,d,e),this},b.prototype.isRotateSupported=function(){return!0},b.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},b.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},b.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement},b.prototype.rotate=function(a){var c=this.getTempCanvasElement(),d=c.getContext("2d"),e=a*b.DEGREE_TO_RADIANS,f=this.canvas.width,g=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(e))*f+Math.abs(Math.sin(e))*g),i=Math.ceil(Math.abs(Math.sin(e))*f+Math.abs(Math.cos(e))*g);return c.width=h,c.height=i,d.translate(h/2,i/2),d.rotate(e),d.drawImage(this.canvas,-(f/2),-(g/2)),this.buffer=b.makeBufferFromCanvasImageData(c),this},b.prototype.invert=function(){return new bT(this)},b.DEGREE_TO_RADIANS=Math.PI/180,b.FRAME_INDEX=!0,b}(bR),bW=function(){function a(a,b,c){this.deviceId=a,this.label=b,this.kind="videoinput",this.groupId=c||void 0}return a.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},a}(),bX=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},bY=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},bZ=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},b$=function(){function a(a,b,c){void 0===b&&(b=500),this.reader=a,this.timeBetweenScansMillis=b,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(a.prototype,"hasNavigator",{get:function(){return"undefined"!=typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(a){this._timeBetweenDecodingAttempts=a<0?0:a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hints",{get:function(){return this._hints},set:function(a){this._hints=a||null},enumerable:!1,configurable:!0}),a.prototype.listVideoInputDevices=function(){return bX(this,void 0,void 0,function(){var a,b,c,d,e,f,g,h,i,j,k,l;return bY(this,function(m){switch(m.label){case 0:if(!this.hasNavigator)throw Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:a=m.sent(),b=[];try{for(d=(c=bZ(a)).next();!d.done;d=c.next())e=d.value,f="video"===e.kind?"videoinput":e.kind,"videoinput"===f&&(g=e.deviceId||e.id,h=e.label||"Video device "+(b.length+1),i=e.groupId,j={deviceId:g,label:h,kind:f,groupId:i},b.push(j))}catch(a){k={error:a}}finally{try{d&&!d.done&&(l=c.return)&&l.call(c)}finally{if(k)throw k.error}}return[2,b]}})})},a.prototype.getVideoInputDevices=function(){return bX(this,void 0,void 0,function(){return bY(this,function(a){switch(a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,a.sent().map(function(a){return new bW(a.deviceId,a.label)})]}})})},a.prototype.findDeviceById=function(a){return bX(this,void 0,void 0,function(){var b;return bY(this,function(c){switch(c.label){case 0:return[4,this.listVideoInputDevices()];case 1:if(!(b=c.sent()))return[2,null];return[2,b.find(function(b){return b.deviceId===a})]}})})},a.prototype.decodeFromInputVideoDevice=function(a,b){return bX(this,void 0,void 0,function(){return bY(this,function(c){switch(c.label){case 0:return[4,this.decodeOnceFromVideoDevice(a,b)];case 1:return[2,c.sent()]}})})},a.prototype.decodeOnceFromVideoDevice=function(a,b){return bX(this,void 0,void 0,function(){var c;return bY(this,function(d){switch(d.label){case 0:return this.reset(),c={video:a?{deviceId:{exact:a}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(c,b)];case 1:return[2,d.sent()]}})})},a.prototype.decodeOnceFromConstraints=function(a,b){return bX(this,void 0,void 0,function(){var c;return bY(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.getUserMedia(a)];case 1:return c=d.sent(),[4,this.decodeOnceFromStream(c,b)];case 2:return[2,d.sent()]}})})},a.prototype.decodeOnceFromStream=function(a,b){return bX(this,void 0,void 0,function(){var c;return bY(this,function(d){switch(d.label){case 0:return this.reset(),[4,this.attachStreamToVideo(a,b)];case 1:return c=d.sent(),[4,this.decodeOnce(c)];case 2:return[2,d.sent()]}})})},a.prototype.decodeFromInputVideoDeviceContinuously=function(a,b,c){return bX(this,void 0,void 0,function(){return bY(this,function(d){switch(d.label){case 0:return[4,this.decodeFromVideoDevice(a,b,c)];case 1:return[2,d.sent()]}})})},a.prototype.decodeFromVideoDevice=function(a,b,c){return bX(this,void 0,void 0,function(){var d;return bY(this,function(e){switch(e.label){case 0:return d={video:a?{deviceId:{exact:a}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(d,b,c)];case 1:return[2,e.sent()]}})})},a.prototype.decodeFromConstraints=function(a,b,c){return bX(this,void 0,void 0,function(){var d;return bY(this,function(e){switch(e.label){case 0:return[4,navigator.mediaDevices.getUserMedia(a)];case 1:return d=e.sent(),[4,this.decodeFromStream(d,b,c)];case 2:return[2,e.sent()]}})})},a.prototype.decodeFromStream=function(a,b,c){return bX(this,void 0,void 0,function(){var d;return bY(this,function(e){switch(e.label){case 0:return this.reset(),[4,this.attachStreamToVideo(a,b)];case 1:return d=e.sent(),[4,this.decodeContinuously(d,c)];case 2:return[2,e.sent()]}})})},a.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},a.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},a.prototype.attachStreamToVideo=function(a,b){return bX(this,void 0,void 0,function(){var c;return bY(this,function(d){switch(d.label){case 0:return c=this.prepareVideoElement(b),this.addVideoSource(c,a),this.videoElement=c,this.stream=a,[4,this.playVideoOnLoadAsync(c)];case 1:return d.sent(),[2,c]}})})},a.prototype.playVideoOnLoadAsync=function(a){var b=this;return new Promise(function(c,d){return b.playVideoOnLoad(a,function(){return c()})})},a.prototype.playVideoOnLoad=function(a,b){var c=this;this.videoEndedListener=function(){return c.stopStreams()},this.videoCanPlayListener=function(){return c.tryPlayVideo(a)},a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",b),this.tryPlayVideo(a)},a.prototype.isVideoPlaying=function(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2},a.prototype.tryPlayVideo=function(a){return bX(this,void 0,void 0,function(){return bY(this,function(b){switch(b.label){case 0:if(this.isVideoPlaying(a))return console.warn("Trying to play video that is already playing."),[2];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,a.play()];case 2:return b.sent(),[3,4];case 3:return b.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},a.prototype.getMediaElement=function(a,b){var c=document.getElementById(a);if(!c)throw new bk("element with id '"+a+"' not found");if(c.nodeName.toLowerCase()!==b.toLowerCase())throw new bk("element with id '"+a+"' must be an "+b+" element");return c},a.prototype.decodeFromImage=function(a,b){if(!a&&!b)throw new bk("either imageElement with a src set or an url must be provided");return b&&!a?this.decodeFromImageUrl(b):this.decodeFromImageElement(a)},a.prototype.decodeFromVideo=function(a,b){if(!a&&!b)throw new bk("Either an element with a src set or an URL must be provided");return b&&!a?this.decodeFromVideoUrl(b):this.decodeFromVideoElement(a)},a.prototype.decodeFromVideoContinuously=function(a,b,c){if(void 0===a&&void 0===b)throw new bk("Either an element with a src set or an URL must be provided");return b&&!a?this.decodeFromVideoUrlContinuously(b,c):this.decodeFromVideoElementContinuously(a,c)},a.prototype.decodeFromImageElement=function(a){if(!a)throw new bk("An image element must be provided.");this.reset();var b=this.prepareImageElement(a);return this.imageElement=b,this.isImageLoaded(b)?this.decodeOnce(b,!1,!0):this._decodeOnLoadImage(b)},a.prototype.decodeFromVideoElement=function(a){var b=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(b)},a.prototype.decodeFromVideoElementContinuously=function(a,b){var c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(c,b)},a.prototype._decodeFromVideoElementSetup=function(a){if(!a)throw new bk("A video element must be provided.");this.reset();var b=this.prepareVideoElement(a);return this.videoElement=b,b},a.prototype.decodeFromImageUrl=function(a){if(!a)throw new bk("An URL must be provided.");this.reset();var b=this.prepareImageElement();this.imageElement=b;var c=this._decodeOnLoadImage(b);return b.src=a,c},a.prototype.decodeFromVideoUrl=function(a){if(!a)throw new bk("An URL must be provided.");this.reset();var b=this.prepareVideoElement(),c=this.decodeFromVideoElement(b);return b.src=a,c},a.prototype.decodeFromVideoUrlContinuously=function(a,b){if(!a)throw new bk("An URL must be provided.");this.reset();var c=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(c,b);return c.src=a,d},a.prototype._decodeOnLoadImage=function(a){var b=this;return new Promise(function(c,d){b.imageLoadedListener=function(){return b.decodeOnce(a,!1,!0).then(c,d)},a.addEventListener("load",b.imageLoadedListener)})},a.prototype._decodeOnLoadVideo=function(a){return bX(this,void 0,void 0,function(){return bY(this,function(b){switch(b.label){case 0:return[4,this.playVideoOnLoadAsync(a)];case 1:return b.sent(),[4,this.decodeOnce(a)];case 2:return[2,b.sent()]}})})},a.prototype._decodeOnLoadVideoContinuously=function(a,b){return bX(this,void 0,void 0,function(){return bY(this,function(c){switch(c.label){case 0:return[4,this.playVideoOnLoadAsync(a)];case 1:return c.sent(),this.decodeContinuously(a,b),[2]}})})},a.prototype.isImageLoaded=function(a){return!!a.complete&&0!==a.naturalWidth},a.prototype.prepareImageElement=function(a){var b;return void 0===a&&((b=document.createElement("img")).width=200,b.height=200),"string"==typeof a&&(b=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(b=a),b},a.prototype.prepareVideoElement=function(a){var b;return a||"undefined"==typeof document||((b=document.createElement("video")).width=200,b.height=200),"string"==typeof a&&(b=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(b=a),b.setAttribute("autoplay","true"),b.setAttribute("muted","true"),b.setAttribute("playsinline","true"),b},a.prototype.decodeOnce=function(a,b,c){var d=this;void 0===b&&(b=!0),void 0===c&&(c=!0),this._stopAsyncDecode=!1;var e=function(f,g){if(d._stopAsyncDecode){g(new bM("Video stream has ended before any code could be detected.")),d._stopAsyncDecode=void 0;return}try{var h=d.decode(a);f(h)}catch(a){var i=b&&a instanceof bM,j=(a instanceof bp||a instanceof bC)&&c;if(i||j)return setTimeout(e,d._timeBetweenDecodingAttempts,f,g);g(a)}};return new Promise(function(a,b){return e(a,b)})},a.prototype.decodeContinuously=function(a,b){var c=this;this._stopContinuousDecode=!1;var d=function(){if(c._stopContinuousDecode){c._stopContinuousDecode=void 0;return}try{var e=c.decode(a);b(e,null),setTimeout(d,c.timeBetweenScansMillis)}catch(a){b(null,a);var f=a instanceof bp||a instanceof bC,g=a instanceof bM;(f||g)&&setTimeout(d,c._timeBetweenDecodingAttempts)}};d()},a.prototype.decode=function(a){var b=this.createBinaryBitmap(a);return this.decodeBitmap(b)},a.prototype.createBinaryBitmap=function(a){this.getCaptureCanvasContext(a);var b=!1;return a instanceof HTMLVideoElement?(this.drawFrameOnCanvas(a),b=!0):this.drawImageOnCanvas(a),new bn(new bQ(new bV(this.getCaptureCanvas(a),b)))},a.prototype.getCaptureCanvasContext=function(a){if(!this.captureCanvasContext){var b=this.getCaptureCanvas(a),c=void 0;try{c=b.getContext("2d",{willReadFrequently:!0})}catch(a){c=b.getContext("2d")}this.captureCanvasContext=c}return this.captureCanvasContext},a.prototype.getCaptureCanvas=function(a){if(!this.captureCanvas){var b=this.createCaptureCanvas(a);this.captureCanvas=b}return this.captureCanvas},a.prototype.drawFrameOnCanvas=function(a,b,c){void 0===b&&(b={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),void 0===c&&(c=this.captureCanvasContext),c.drawImage(a,b.sx,b.sy,b.sWidth,b.sHeight,b.dx,b.dy,b.dWidth,b.dHeight)},a.prototype.drawImageOnCanvas=function(a,b,c){void 0===b&&(b={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),void 0===c&&(c=this.captureCanvasContext),c.drawImage(a,b.sx,b.sy,b.sWidth,b.sHeight,b.dx,b.dy,b.dWidth,b.dHeight)},a.prototype.decodeBitmap=function(a){return this.reader.decode(a,this._hints)},a.prototype.createCaptureCanvas=function(a){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;var b,c,d=document.createElement("canvas");return void 0!==a&&(a instanceof HTMLVideoElement?(b=a.videoWidth,c=a.videoHeight):a instanceof HTMLImageElement&&(b=a.naturalWidth||a.width,c=a.naturalHeight||a.height)),d.style.width=b+"px",d.style.height=c+"px",d.width=b,d.height=c,d},a.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(a){return a.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},a.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},a.prototype._destroyVideoElement=function(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},a.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},a.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},a.prototype.addVideoSource=function(a,b){try{a.srcObject=b}catch(c){a.src=URL.createObjectURL(b)}},a.prototype.cleanVideoSource=function(a){try{a.srcObject=null}catch(b){a.src=""}this.videoElement.removeAttribute("src")},a}(),b_=function(){function a(a,b,c,d,e,f){void 0===c&&(c=null==b?0:8*b.length),void 0===f&&(f=br.currentTimeMillis()),this.text=a,this.rawBytes=b,this.numBits=c,this.resultPoints=d,this.format=e,this.timestamp=f,this.text=a,this.rawBytes=b,null==c?this.numBits=null==b?0:8*b.length:this.numBits=c,this.resultPoints=d,this.format=e,this.resultMetadata=null,null==f?this.timestamp=br.currentTimeMillis():this.timestamp=f}return a.prototype.getText=function(){return this.text},a.prototype.getRawBytes=function(){return this.rawBytes},a.prototype.getNumBits=function(){return this.numBits},a.prototype.getResultPoints=function(){return this.resultPoints},a.prototype.getBarcodeFormat=function(){return this.format},a.prototype.getResultMetadata=function(){return this.resultMetadata},a.prototype.putMetadata=function(a,b){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(a,b)},a.prototype.putAllMetadata=function(a){null!==a&&(null===this.resultMetadata?this.resultMetadata=a:this.resultMetadata=new Map(a))},a.prototype.addResultPoints=function(a){var b=this.resultPoints;if(null===b)this.resultPoints=a;else if(null!==a&&a.length>0){var c=Array(b.length+a.length);br.arraycopy(b,0,c,0,b.length),br.arraycopy(a,0,c,b.length,a.length),this.resultPoints=c}},a.prototype.getTimestamp=function(){return this.timestamp},a.prototype.toString=function(){return this.text},a}();(r=a_||(a_={}))[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION";let b0=a_;(s=a0||(a0={}))[s.OTHER=0]="OTHER",s[s.ORIENTATION=1]="ORIENTATION",s[s.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",s[s.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",s[s.ISSUE_NUMBER=4]="ISSUE_NUMBER",s[s.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",s[s.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",s[s.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",s[s.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",s[s.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",s[s.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY";let b1=a0;var b2=function(){function a(a,b,c,d,e,f){void 0===e&&(e=-1),void 0===f&&(f=-1),this.rawBytes=a,this.text=b,this.byteSegments=c,this.ecLevel=d,this.structuredAppendSequenceNumber=e,this.structuredAppendParity=f,this.numBits=null==a?0:8*a.length}return a.prototype.getRawBytes=function(){return this.rawBytes},a.prototype.getNumBits=function(){return this.numBits},a.prototype.setNumBits=function(a){this.numBits=a},a.prototype.getText=function(){return this.text},a.prototype.getByteSegments=function(){return this.byteSegments},a.prototype.getECLevel=function(){return this.ecLevel},a.prototype.getErrorsCorrected=function(){return this.errorsCorrected},a.prototype.setErrorsCorrected=function(a){this.errorsCorrected=a},a.prototype.getErasures=function(){return this.erasures},a.prototype.setErasures=function(a){this.erasures=a},a.prototype.getOther=function(){return this.other},a.prototype.setOther=function(a){this.other=a},a.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},a.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},a.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},a}(),b3=function(){function a(){}return a.prototype.exp=function(a){return this.expTable[a]},a.prototype.log=function(a){if(0===a)throw new bm;return this.logTable[a]},a.addOrSubtract=function(a,b){return a^b},a}(),b4=function(){function a(a,b){if(0===b.length)throw new bm;this.field=a;var c=b.length;if(c>1&&0===b[0]){for(var d=1;d<c&&0===b[d];)d++;d===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-d),br.arraycopy(b,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=b}return a.prototype.getCoefficients=function(){return this.coefficients},a.prototype.getDegree=function(){return this.coefficients.length-1},a.prototype.isZero=function(){return 0===this.coefficients[0]},a.prototype.getCoefficient=function(a){return this.coefficients[this.coefficients.length-1-a]},a.prototype.evaluateAt=function(a){if(0===a)return this.getCoefficient(0);var b,c=this.coefficients;if(1===a){b=0;for(var d=0,e=c.length;d!==e;d++){var f=c[d];b=b3.addOrSubtract(b,f)}return b}b=c[0];for(var g=c.length,h=this.field,d=1;d<g;d++)b=b3.addOrSubtract(h.multiply(a,b),c[d]);return b},a.prototype.addOrSubtract=function(b){if(!this.field.equals(b.field))throw new bm("GenericGFPolys do not have same GenericGF field");if(this.isZero())return b;if(b.isZero())return this;var c=this.coefficients,d=b.coefficients;if(c.length>d.length){var e=c;c=d,d=e}var f=new Int32Array(d.length),g=d.length-c.length;br.arraycopy(d,0,f,0,g);for(var h=g;h<d.length;h++)f[h]=b3.addOrSubtract(c[h-g],d[h]);return new a(this.field,f)},a.prototype.multiply=function(b){if(!this.field.equals(b.field))throw new bm("GenericGFPolys do not have same GenericGF field");if(this.isZero()||b.isZero())return this.field.getZero();for(var c=this.coefficients,d=c.length,e=b.coefficients,f=e.length,g=new Int32Array(d+f-1),h=this.field,i=0;i<d;i++)for(var j=c[i],k=0;k<f;k++)g[i+k]=b3.addOrSubtract(g[i+k],h.multiply(j,e[k]));return new a(h,g)},a.prototype.multiplyScalar=function(b){if(0===b)return this.field.getZero();if(1===b)return this;for(var c=this.coefficients.length,d=this.field,e=new Int32Array(c),f=this.coefficients,g=0;g<c;g++)e[g]=d.multiply(f[g],b);return new a(d,e)},a.prototype.multiplyByMonomial=function(b,c){if(b<0)throw new bm;if(0===c)return this.field.getZero();for(var d=this.coefficients,e=d.length,f=new Int32Array(e+b),g=this.field,h=0;h<e;h++)f[h]=g.multiply(d[h],c);return new a(g,f)},a.prototype.divide=function(a){if(!this.field.equals(a.field))throw new bm("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new bm("Divide by 0");for(var b=this.field,c=b.getZero(),d=this,e=a.getCoefficient(a.getDegree()),f=b.inverse(e);d.getDegree()>=a.getDegree()&&!d.isZero();){var g=d.getDegree()-a.getDegree(),h=b.multiply(d.getCoefficient(d.getDegree()),f),i=a.multiplyByMonomial(g,h),j=b.buildMonomial(g,h);c=c.addOrSubtract(j),d=d.addOrSubtract(i)}return[c,d]},a.prototype.toString=function(){for(var a="",b=this.getDegree();b>=0;b--){var c=this.getCoefficient(b);if(0!==c){if(c<0?(a+=" - ",c=-c):a.length>0&&(a+=" + "),0===b||1!==c){var d=this.field.log(c);0===d?a+="1":1===d?a+="a":(a+="a^",a+=d)}0!==b&&(1===b?a+="x":(a+="x^",a+=b))}}return a},a}(),b5=(t=function(a,b){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}t(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),b6=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return b5(b,a),b.kind="ArithmeticException",b}(bi),b7=(u=function(a,b){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}u(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),b8=function(a){function b(b,c,d){var e=a.call(this)||this;e.primitive=b,e.size=c,e.generatorBase=d;for(var f=new Int32Array(c),g=1,h=0;h<c;h++)f[h]=g,(g*=2)>=c&&(g^=b,g&=c-1);e.expTable=f;for(var i=new Int32Array(c),h=0;h<c-1;h++)i[f[h]]=h;return e.logTable=i,e.zero=new b4(e,Int32Array.from([0])),e.one=new b4(e,Int32Array.from([1])),e}return b7(b,a),b.prototype.getZero=function(){return this.zero},b.prototype.getOne=function(){return this.one},b.prototype.buildMonomial=function(a,b){if(a<0)throw new bm;if(0===b)return this.zero;var c=new Int32Array(a+1);return c[0]=b,new b4(this,c)},b.prototype.inverse=function(a){if(0===a)throw new b6;return this.expTable[this.size-this.logTable[a]-1]},b.prototype.multiply=function(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]},b.prototype.getSize=function(){return this.size},b.prototype.getGeneratorBase=function(){return this.generatorBase},b.prototype.toString=function(){return"GF(0x"+by.toHexString(this.primitive)+","+this.size+")"},b.prototype.equals=function(a){return a===this},b.AZTEC_DATA_12=new b(4201,4096,1),b.AZTEC_DATA_10=new b(1033,1024,1),b.AZTEC_DATA_6=new b(67,64,1),b.AZTEC_PARAM=new b(19,16,1),b.QR_CODE_FIELD_256=new b(285,256,0),b.DATA_MATRIX_FIELD_256=new b(301,256,1),b.AZTEC_DATA_8=b.DATA_MATRIX_FIELD_256,b.MAXICODE_FIELD_64=b.AZTEC_DATA_6,b}(b3),b9=(v=function(a,b){return(v=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}v(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),ca=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return b9(b,a),b.kind="ReedSolomonException",b}(bi),cb=(w=function(a,b){return(w=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}w(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cc=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return cb(b,a),b.kind="IllegalStateException",b}(bi),cd=function(){function a(a){this.field=a}return a.prototype.decode=function(a,b){for(var c=this.field,d=new b4(c,a),e=new Int32Array(b),f=!0,g=0;g<b;g++){var h=d.evaluateAt(c.exp(g+c.getGeneratorBase()));e[e.length-1-g]=h,0!==h&&(f=!1)}if(!f)for(var i=new b4(c,e),j=this.runEuclideanAlgorithm(c.buildMonomial(b,1),i,b),k=j[0],l=j[1],m=this.findErrorLocations(k),n=this.findErrorMagnitudes(l,m),g=0;g<m.length;g++){var o=a.length-1-c.log(m[g]);if(o<0)throw new ca("Bad error location");a[o]=b8.addOrSubtract(a[o],n[g])}},a.prototype.runEuclideanAlgorithm=function(a,b,c){if(a.getDegree()<b.getDegree()){var d=a;a=b,b=d}for(var e=this.field,f=a,g=b,h=e.getZero(),i=e.getOne();g.getDegree()>=(c/2|0);){var j=f,k=h;if(f=g,h=i,f.isZero())throw new ca("r_{i-1} was zero");g=j;for(var l=e.getZero(),m=f.getCoefficient(f.getDegree()),n=e.inverse(m);g.getDegree()>=f.getDegree()&&!g.isZero();){var o=g.getDegree()-f.getDegree(),p=e.multiply(g.getCoefficient(g.getDegree()),n);l=l.addOrSubtract(e.buildMonomial(o,p)),g=g.addOrSubtract(f.multiplyByMonomial(o,p))}if(i=l.multiply(h).addOrSubtract(k),g.getDegree()>=f.getDegree())throw new cc("Division algorithm failed to reduce polynomial?")}var q=i.getCoefficient(0);if(0===q)throw new ca("sigmaTilde(0) was zero");var r=e.inverse(q);return[i.multiplyScalar(r),g.multiplyScalar(r)]},a.prototype.findErrorLocations=function(a){var b=a.getDegree();if(1===b)return Int32Array.from([a.getCoefficient(1)]);for(var c=new Int32Array(b),d=0,e=this.field,f=1;f<e.getSize()&&d<b;f++)0===a.evaluateAt(f)&&(c[d]=e.inverse(f),d++);if(d!==b)throw new ca("Error locator degree does not match number of roots");return c},a.prototype.findErrorMagnitudes=function(a,b){for(var c=b.length,d=new Int32Array(c),e=this.field,f=0;f<c;f++){for(var g=e.inverse(b[f]),h=1,i=0;i<c;i++)if(f!==i){var j=e.multiply(b[i],g),k=(1&j)==0?1|j:-2&j;h=e.multiply(h,k)}d[f]=e.multiply(a.evaluateAt(g),e.inverse(h)),0!==e.getGeneratorBase()&&(d[f]=e.multiply(d[f],g))}return d},a}();(x=a1||(a1={}))[x.UPPER=0]="UPPER",x[x.LOWER=1]="LOWER",x[x.MIXED=2]="MIXED",x[x.DIGIT=3]="DIGIT",x[x.PUNCT=4]="PUNCT",x[x.BINARY=5]="BINARY";var ce=function(){function a(){}return a.prototype.decode=function(b){this.ddata=b;var c=b.getBits(),d=this.extractBits(c),e=this.correctBits(d),f=new b2(a.convertBoolArrayToByteArray(e),a.getEncodedData(e),null,null);return f.setNumBits(e.length),f},a.highLevelDecode=function(a){return this.getEncodedData(a)},a.getEncodedData=function(b){for(var c=b.length,d=a1.UPPER,e=a1.UPPER,f="",g=0;g<c;)if(e===a1.BINARY){if(c-g<5)break;var h=a.readCode(b,g,5);if(g+=5,0===h){if(c-g<11)break;h=a.readCode(b,g,11)+31,g+=11}for(var i=0;i<h;i++){if(c-g<8){g=c;break}var j=a.readCode(b,g,8);f+=bI.castAsNonUtf8Char(j),g+=8}e=d}else{var k=e===a1.DIGIT?4:5;if(c-g<k)break;var j=a.readCode(b,g,k);g+=k;var l=a.getCharacter(e,j);l.startsWith("CTRL_")?(d=e,e=a.getTable(l.charAt(5)),"L"===l.charAt(6)&&(d=e)):(f+=l,e=d)}return f},a.getTable=function(a){switch(a){case"L":return a1.LOWER;case"P":return a1.PUNCT;case"M":return a1.MIXED;case"D":return a1.DIGIT;case"B":return a1.BINARY;default:return a1.UPPER}},a.getCharacter=function(b,c){switch(b){case a1.UPPER:return a.UPPER_TABLE[c];case a1.LOWER:return a.LOWER_TABLE[c];case a1.MIXED:return a.MIXED_TABLE[c];case a1.PUNCT:return a.PUNCT_TABLE[c];case a1.DIGIT:return a.DIGIT_TABLE[c];default:throw new cc("Bad table")}},a.prototype.correctBits=function(b){2>=this.ddata.getNbLayers()?(d=6,c=b8.AZTEC_DATA_6):8>=this.ddata.getNbLayers()?(d=8,c=b8.AZTEC_DATA_8):22>=this.ddata.getNbLayers()?(d=10,c=b8.AZTEC_DATA_10):(d=12,c=b8.AZTEC_DATA_12);var c,d,e=this.ddata.getNbDatablocks(),f=b.length/d;if(f<e)throw new bC;for(var g=b.length%d,h=new Int32Array(f),i=0;i<f;i++,g+=d)h[i]=a.readCode(b,g,d);try{new cd(c).decode(h,f-e)}catch(a){throw new bC(a)}for(var j=(1<<d)-1,k=0,i=0;i<e;i++){var l=h[i];if(0===l||l===j)throw new bC;(1===l||l===j-1)&&k++}for(var m=Array(e*d-k),n=0,i=0;i<e;i++){var l=h[i];if(1===l||l===j-1)m.fill(l>1,n,n+d-1),n+=d-1;else for(var o=d-1;o>=0;--o)m[n++]=(l&1<<o)!=0}return m},a.prototype.extractBits=function(a){var b=this.ddata.isCompact(),c=this.ddata.getNbLayers(),d=(b?11:14)+4*c,e=new Int32Array(d),f=Array(this.totalBitsInLayer(c,b));if(b)for(var g=0;g<e.length;g++)e[g]=g;else for(var h=d+1+2*by.truncDivision(by.truncDivision(d,2)-1,15),i=d/2,j=by.truncDivision(h,2),g=0;g<i;g++){var k=g+by.truncDivision(g,15);e[i-g-1]=j-k-1,e[i+g]=j+k+1}for(var g=0,l=0;g<c;g++){for(var m=(c-g)*4+(b?9:12),n=2*g,o=d-1-n,p=0;p<m;p++)for(var q=2*p,r=0;r<2;r++)f[l+q+r]=a.get(e[n+r],e[n+p]),f[l+2*m+q+r]=a.get(e[n+p],e[o-r]),f[l+4*m+q+r]=a.get(e[o-r],e[o-p]),f[l+6*m+q+r]=a.get(e[o-p],e[n+r]);l+=8*m}return f},a.readCode=function(a,b,c){for(var d=0,e=b;e<b+c;e++)d<<=1,a[e]&&(d|=1);return d},a.readByte=function(b,c){var d=b.length-c;return d>=8?a.readCode(b,c,8):a.readCode(b,c,d)<<8-d},a.convertBoolArrayToByteArray=function(b){for(var c=new Uint8Array((b.length+7)/8),d=0;d<c.length;d++)c[d]=a.readByte(b,8*d);return c},a.prototype.totalBitsInLayer=function(a,b){return((b?88:112)+16*a)*a},a.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],a.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],a.MIXED_TABLE=["CTRL_PS"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","	","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],a.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],a.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],a}(),cf=function(){function a(){}return a.round=function(a){return isNaN(a)?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0},a.distance=function(a,b,c,d){var e=a-c,f=b-d;return Math.sqrt(e*e+f*f)},a.sum=function(a){for(var b=0,c=0,d=a.length;c!==d;c++)b+=a[c];return b},a}(),cg=function(){function a(){}return a.floatToIntBits=function(a){return a},a.MAX_VALUE=Number.MAX_SAFE_INTEGER,a}(),ch=function(){function a(a,b){this.x=a,this.y=b}return a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.equals=function(b){return b instanceof a&&this.x===b.x&&this.y===b.y},a.prototype.hashCode=function(){return 31*cg.floatToIntBits(this.x)+cg.floatToIntBits(this.y)},a.prototype.toString=function(){return"("+this.x+","+this.y+")"},a.orderBestPatterns=function(a){var b,c,d,e=this.distance(a[0],a[1]),f=this.distance(a[1],a[2]),g=this.distance(a[0],a[2]);if(f>=e&&f>=g?(c=a[0],b=a[1],d=a[2]):g>=f&&g>=e?(c=a[1],b=a[0],d=a[2]):(c=a[2],b=a[0],d=a[1]),0>this.crossProductZ(b,c,d)){var h=b;b=d,d=h}a[0]=b,a[1]=c,a[2]=d},a.distance=function(a,b){return cf.distance(a.x,a.y,b.x,b.y)},a.crossProductZ=function(a,b,c){var d=b.x,e=b.y;return(c.x-d)*(a.y-e)-(c.y-e)*(a.x-d)},a}(),ci=function(){function a(a,b){this.bits=a,this.points=b}return a.prototype.getBits=function(){return this.bits},a.prototype.getPoints=function(){return this.points},a}(),cj=(y=function(a,b){return(y=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}y(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),ck=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c)||this;return g.compact=d,g.nbDatablocks=e,g.nbLayers=f,g}return cj(b,a),b.prototype.getNbLayers=function(){return this.nbLayers},b.prototype.getNbDatablocks=function(){return this.nbDatablocks},b.prototype.isCompact=function(){return this.compact},b}(ci),cl=function(){function a(b,c,d,e){this.image=b,this.height=b.getHeight(),this.width=b.getWidth(),null==c&&(c=a.INIT_SIZE),null==d&&(d=b.getWidth()/2|0),null==e&&(e=b.getHeight()/2|0);var f=c/2|0;if(this.leftInit=d-f,this.rightInit=d+f,this.upInit=e-f,this.downInit=e+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new bM}return a.prototype.detect=function(){for(var a=this.leftInit,b=this.rightInit,c=this.upInit,d=this.downInit,e=!1,f=!0,g=!1,h=!1,i=!1,j=!1,k=!1,l=this.width,m=this.height;f;){f=!1;for(var n=!0;(n||!h)&&b<l;)(n=this.containsBlackPoint(c,d,b,!1))?(b++,f=!0,h=!0):!h&&b++;if(b>=l){e=!0;break}for(var o=!0;(o||!i)&&d<m;)(o=this.containsBlackPoint(a,b,d,!0))?(d++,f=!0,i=!0):!i&&d++;if(d>=m){e=!0;break}for(var p=!0;(p||!j)&&a>=0;)(p=this.containsBlackPoint(c,d,a,!1))?(a--,f=!0,j=!0):!j&&a--;if(a<0){e=!0;break}for(var q=!0;(q||!k)&&c>=0;)(q=this.containsBlackPoint(a,b,c,!0))?(c--,f=!0,k=!0):!k&&c--;if(c<0){e=!0;break}f&&(g=!0)}if(!e&&g){for(var r=b-a,s=null,t=1;null===s&&t<r;t++)s=this.getBlackPointOnSegment(a,d-t,a+t,d);if(null==s)throw new bM;for(var u=null,t=1;null===u&&t<r;t++)u=this.getBlackPointOnSegment(a,c+t,a+t,c);if(null==u)throw new bM;for(var v=null,t=1;null===v&&t<r;t++)v=this.getBlackPointOnSegment(b,c+t,b-t,c);if(null==v)throw new bM;for(var w=null,t=1;null===w&&t<r;t++)w=this.getBlackPointOnSegment(b,d-t,b-t,d);if(null==w)throw new bM;return this.centerEdges(w,s,v,u)}throw new bM},a.prototype.getBlackPointOnSegment=function(a,b,c,d){for(var e=cf.round(cf.distance(a,b,c,d)),f=(c-a)/e,g=(d-b)/e,h=this.image,i=0;i<e;i++){var j=cf.round(a+i*f),k=cf.round(b+i*g);if(h.get(j,k))return new ch(j,k)}return null},a.prototype.centerEdges=function(b,c,d,e){var f=b.getX(),g=b.getY(),h=c.getX(),i=c.getY(),j=d.getX(),k=d.getY(),l=e.getX(),m=e.getY(),n=a.CORR;return f<this.width/2?[new ch(l-n,m+n),new ch(h+n,i+n),new ch(j-n,k-n),new ch(f+n,g-n)]:[new ch(l+n,m+n),new ch(h+n,i-n),new ch(j-n,k+n),new ch(f-n,g-n)]},a.prototype.containsBlackPoint=function(a,b,c,d){var e=this.image;if(d){for(var f=a;f<=b;f++)if(e.get(f,c))return!0}else for(var g=a;g<=b;g++)if(e.get(c,g))return!0;return!1},a.INIT_SIZE=10,a.CORR=1,a}(),cm=function(){function a(){}return a.checkAndNudgePoints=function(a,b){for(var c=a.getWidth(),d=a.getHeight(),e=!0,f=0;f<b.length&&e;f+=2){var g=Math.floor(b[f]),h=Math.floor(b[f+1]);if(g<-1||g>c||h<-1||h>d)throw new bM;e=!1,-1===g?(b[f]=0,e=!0):g===c&&(b[f]=c-1,e=!0),-1===h?(b[f+1]=0,e=!0):h===d&&(b[f+1]=d-1,e=!0)}e=!0;for(var f=b.length-2;f>=0&&e;f-=2){var g=Math.floor(b[f]),h=Math.floor(b[f+1]);if(g<-1||g>c||h<-1||h>d)throw new bM;e=!1,-1===g?(b[f]=0,e=!0):g===c&&(b[f]=c-1,e=!0),-1===h?(b[f+1]=0,e=!0):h===d&&(b[f+1]=d-1,e=!0)}},a}(),cn=function(){function a(a,b,c,d,e,f,g,h,i){this.a11=a,this.a21=b,this.a31=c,this.a12=d,this.a22=e,this.a32=f,this.a13=g,this.a23=h,this.a33=i}return a.quadrilateralToQuadrilateral=function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=a.quadrilateralToSquare(b,c,d,e,f,g,h,i);return a.squareToQuadrilateral(j,k,l,m,n,o,p,q).times(r)},a.prototype.transformPoints=function(a){for(var b=a.length,c=this.a11,d=this.a12,e=this.a13,f=this.a21,g=this.a22,h=this.a23,i=this.a31,j=this.a32,k=this.a33,l=0;l<b;l+=2){var m=a[l],n=a[l+1],o=e*m+h*n+k;a[l]=(c*m+f*n+i)/o,a[l+1]=(d*m+g*n+j)/o}},a.prototype.transformPointsWithValues=function(a,b){for(var c=this.a11,d=this.a12,e=this.a13,f=this.a21,g=this.a22,h=this.a23,i=this.a31,j=this.a32,k=this.a33,l=a.length,m=0;m<l;m++){var n=a[m],o=b[m],p=e*n+h*o+k;a[m]=(c*n+f*o+i)/p,b[m]=(d*n+g*o+j)/p}},a.squareToQuadrilateral=function(b,c,d,e,f,g,h,i){var j=b-d+f-h,k=c-e+g-i;if(0===j&&0===k)return new a(d-b,f-d,b,e-c,g-e,c,0,0,1);var l=d-f,m=h-f,n=e-g,o=i-g,p=l*o-m*n,q=(j*o-m*k)/p,r=(l*k-j*n)/p;return new a(d-b+q*d,h-b+r*h,b,e-c+q*e,i-c+r*i,c,q,r,1)},a.quadrilateralToSquare=function(b,c,d,e,f,g,h,i){return a.squareToQuadrilateral(b,c,d,e,f,g,h,i).buildAdjoint()},a.prototype.buildAdjoint=function(){return new a(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},a.prototype.times=function(b){return new a(this.a11*b.a11+this.a21*b.a12+this.a31*b.a13,this.a11*b.a21+this.a21*b.a22+this.a31*b.a23,this.a11*b.a31+this.a21*b.a32+this.a31*b.a33,this.a12*b.a11+this.a22*b.a12+this.a32*b.a13,this.a12*b.a21+this.a22*b.a22+this.a32*b.a23,this.a12*b.a31+this.a22*b.a32+this.a32*b.a33,this.a13*b.a11+this.a23*b.a12+this.a33*b.a13,this.a13*b.a21+this.a23*b.a22+this.a33*b.a23,this.a13*b.a31+this.a23*b.a32+this.a33*b.a33)},a}(),co=(z=function(a,b){return(z=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}z(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cp=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return co(b,a),b.prototype.sampleGrid=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=cn.quadrilateralToQuadrilateral(d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s);return this.sampleGridWithTransform(a,b,c,t)},b.prototype.sampleGridWithTransform=function(a,b,c,d){if(b<=0||c<=0)throw new bM;for(var e=new bK(b,c),f=new Float32Array(2*b),g=0;g<c;g++){for(var h=f.length,i=g+.5,j=0;j<h;j+=2)f[j]=j/2+.5,f[j+1]=i;d.transformPoints(f),cm.checkAndNudgePoints(a,f);try{for(var j=0;j<h;j+=2)a.get(Math.floor(f[j]),Math.floor(f[j+1]))&&e.set(j/2,g)}catch(a){throw new bM}}return e},b}(cm),cq=function(){function a(){}return a.setGridSampler=function(b){a.gridSampler=b},a.getInstance=function(){return a.gridSampler},a.gridSampler=new cp,a}(),cr=function(){function a(a,b){this.x=a,this.y=b}return a.prototype.toResultPoint=function(){return new ch(this.getX(),this.getY())},a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a}(),cs=function(){function a(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}return a.prototype.detect=function(){return this.detectMirror(!1)},a.prototype.detectMirror=function(a){var b=this.getMatrixCenter(),c=this.getBullsEyeCorners(b);if(a){var d=c[0];c[0]=c[2],c[2]=d}return this.extractParameters(c),new ck(this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),this.getMatrixCornerPoints(c),this.compact,this.nbDataBlocks,this.nbLayers)},a.prototype.extractParameters=function(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new bM;var b=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(a[0],a[1],b),this.sampleLine(a[1],a[2],b),this.sampleLine(a[2],a[3],b),this.sampleLine(a[3],a[0],b)]);this.shift=this.getRotation(c,b);for(var d=0,e=0;e<4;e++){var f=c[(this.shift+e)%4];this.compact?(d<<=7,d+=f>>1&127):(d<<=10,d+=(f>>2&992)+(f>>1&31))}var g=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(63&g)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(2047&g)+1)},a.prototype.getRotation=function(a,b){var c=0;a.forEach(function(a,d,e){c=(c<<3)+((a>>b-2<<1)+(1&a))}),c=((1&c)<<11)+(c>>1);for(var d=0;d<4;d++)if(2>=by.bitCount(c^this.EXPECTED_CORNER_BITS[d]))return d;throw new bM},a.prototype.getCorrectedParameterData=function(a,b){b?(c=7,d=2):(c=10,d=4);for(var c,d,e=c-d,f=new Int32Array(c),g=c-1;g>=0;--g)f[g]=15&a,a>>=4;try{new cd(b8.AZTEC_PARAM).decode(f,e)}catch(a){throw new bM}for(var h=0,g=0;g<d;g++)h=(h<<4)+f[g];return h},a.prototype.getBullsEyeCorners=function(a){var b=a,c=a,d=a,e=a,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var g=this.getFirstDifferent(b,f,1,-1),h=this.getFirstDifferent(c,f,1,1),i=this.getFirstDifferent(d,f,-1,1),j=this.getFirstDifferent(e,f,-1,-1);if(this.nbCenterLayers>2){var k=this.distancePoint(j,g)*this.nbCenterLayers/(this.distancePoint(e,b)*(this.nbCenterLayers+2));if(k<.75||k>1.25||!this.isWhiteOrBlackRectangle(g,h,i,j))break}b=g,c=h,d=i,e=j,f=!f}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new bM;this.compact=5===this.nbCenterLayers;var l=new ch(b.getX()+.5,b.getY()-.5),m=new ch(c.getX()+.5,c.getY()+.5),n=new ch(d.getX()-.5,d.getY()+.5),o=new ch(e.getX()-.5,e.getY()-.5);return this.expandSquare([l,m,n,o],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},a.prototype.getMatrixCenter=function(){try{var a,b,c,d,e=new cl(this.image).detect();a=e[0],b=e[1],c=e[2],d=e[3]}catch(e){var f=this.image.getWidth()/2,g=this.image.getHeight()/2;a=this.getFirstDifferent(new cr(f+7,g-7),!1,1,-1).toResultPoint(),b=this.getFirstDifferent(new cr(f+7,g+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new cr(f-7,g+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new cr(f-7,g-7),!1,-1,-1).toResultPoint()}var h=cf.round((a.getX()+d.getX()+b.getX()+c.getX())/4),i=cf.round((a.getY()+d.getY()+b.getY()+c.getY())/4);try{var e=new cl(this.image,15,h,i).detect();a=e[0],b=e[1],c=e[2],d=e[3]}catch(e){a=this.getFirstDifferent(new cr(h+7,i-7),!1,1,-1).toResultPoint(),b=this.getFirstDifferent(new cr(h+7,i+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new cr(h-7,i+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new cr(h-7,i-7),!1,-1,-1).toResultPoint()}return new cr(h=cf.round((a.getX()+d.getX()+b.getX()+c.getX())/4),i=cf.round((a.getY()+d.getY()+b.getY()+c.getY())/4))},a.prototype.getMatrixCornerPoints=function(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())},a.prototype.sampleGrid=function(a,b,c,d,e){var f=cq.getInstance(),g=this.getDimension(),h=g/2-this.nbCenterLayers,i=g/2+this.nbCenterLayers;return f.sampleGrid(a,g,g,h,h,i,h,i,i,h,i,b.getX(),b.getY(),c.getX(),c.getY(),d.getX(),d.getY(),e.getX(),e.getY())},a.prototype.sampleLine=function(a,b,c){for(var d=0,e=this.distanceResultPoint(a,b),f=e/c,g=a.getX(),h=a.getY(),i=f*(b.getX()-a.getX())/e,j=f*(b.getY()-a.getY())/e,k=0;k<c;k++)this.image.get(cf.round(g+k*i),cf.round(h+k*j))&&(d|=1<<c-k-1);return d},a.prototype.isWhiteOrBlackRectangle=function(a,b,c,d){a=new cr(a.getX()-3,a.getY()+3),b=new cr(b.getX()-3,b.getY()-3),c=new cr(c.getX()+3,c.getY()-3),d=new cr(d.getX()+3,d.getY()+3);var e=this.getColor(d,a);if(0===e)return!1;var f=this.getColor(a,b);return f===e&&(f=this.getColor(b,c))===e&&(f=this.getColor(c,d))===e},a.prototype.getColor=function(a,b){for(var c=this.distancePoint(a,b),d=(b.getX()-a.getX())/c,e=(b.getY()-a.getY())/c,f=0,g=a.getX(),h=a.getY(),i=this.image.get(a.getX(),a.getY()),j=Math.ceil(c),k=0;k<j;k++)g+=d,h+=e,this.image.get(cf.round(g),cf.round(h))!==i&&f++;var l=f/c;return l>.1&&l<.9?0:l<=.1===i?1:-1},a.prototype.getFirstDifferent=function(a,b,c,d){for(var e=a.getX()+c,f=a.getY()+d;this.isValid(e,f)&&this.image.get(e,f)===b;)e+=c,f+=d;for(e-=c,f-=d;this.isValid(e,f)&&this.image.get(e,f)===b;)e+=c;for(e-=c;this.isValid(e,f)&&this.image.get(e,f)===b;)f+=d;return new cr(e,f-=d)},a.prototype.expandSquare=function(a,b,c){var d=c/(2*b),e=a[0].getX()-a[2].getX(),f=a[0].getY()-a[2].getY(),g=(a[0].getX()+a[2].getX())/2,h=(a[0].getY()+a[2].getY())/2,i=new ch(g+d*e,h+d*f),j=new ch(g-d*e,h-d*f);return e=a[1].getX()-a[3].getX(),f=a[1].getY()-a[3].getY(),[i,new ch((g=(a[1].getX()+a[3].getX())/2)+d*e,(h=(a[1].getY()+a[3].getY())/2)+d*f),j,new ch(g-d*e,h-d*f)]},a.prototype.isValid=function(a,b){return a>=0&&a<this.image.getWidth()&&b>0&&b<this.image.getHeight()},a.prototype.isValidPoint=function(a){var b=cf.round(a.getX()),c=cf.round(a.getY());return this.isValid(b,c)},a.prototype.distancePoint=function(a,b){return cf.distance(a.getX(),a.getY(),b.getX(),b.getY())},a.prototype.distanceResultPoint=function(a,b){return cf.distance(a.getX(),a.getY(),b.getX(),b.getY())},a.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(by.truncDivision(this.nbLayers-4,8)+1)+15},a}(),ct=function(){function a(){}return a.prototype.decode=function(a,b){void 0===b&&(b=null);var c=null,d=new cs(a.getBlackMatrix()),e=null,f=null;try{var g=d.detectMirror(!1);e=g.getPoints(),this.reportFoundResultPoints(b,e),f=new ce().decode(g)}catch(a){c=a}if(null==f)try{var g=d.detectMirror(!0);e=g.getPoints(),this.reportFoundResultPoints(b,e),f=new ce().decode(g)}catch(a){if(null!=c)throw c;throw a}var h=new b_(f.getText(),f.getRawBytes(),f.getNumBits(),e,b0.AZTEC,br.currentTimeMillis()),i=f.getByteSegments();null!=i&&h.putMetadata(b1.BYTE_SEGMENTS,i);var j=f.getECLevel();return null!=j&&h.putMetadata(b1.ERROR_CORRECTION_LEVEL,j),h},a.prototype.reportFoundResultPoints=function(a,b){if(null!=a){var c=a.get(bA.NEED_RESULT_POINT_CALLBACK);null!=c&&b.forEach(function(a,b,d){c.foundPossibleResultPoint(a)})}},a.prototype.reset=function(){},a}();(A=function(a,b){return(A=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}A(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(function(a){return void 0===a&&(a=500),B.call(this,new ct,a)||this},B=b$);var cu=function(){function a(){}return a.prototype.decode=function(a,b){try{return this.doDecode(a,b)}catch(j){if(b&&!0===b.get(bA.TRY_HARDER)&&a.isRotateSupported()){var c=a.rotateCounterClockwise(),d=this.doDecode(c,b),e=d.getResultMetadata(),f=270;null!==e&&!0===e.get(b1.ORIENTATION)&&(f+=e.get(b1.ORIENTATION)%360),d.putMetadata(b1.ORIENTATION,f);var g=d.getResultPoints();if(null!==g)for(var h=c.getHeight(),i=0;i<g.length;i++)g[i]=new ch(h-g[i].getY()-1,g[i].getX());return d}throw new bM}},a.prototype.reset=function(){},a.prototype.doDecode=function(a,b){var c,d=a.getWidth(),e=a.getHeight(),f=new bz(d),g=b&&!0===b.get(bA.TRY_HARDER),h=Math.max(1,e>>(g?8:5));c=g?e:15;for(var i=Math.trunc(e/2),j=0;j<c;j++){var k=Math.trunc((j+1)/2),l=i+h*((1&j)==0?k:-k);if(l<0||l>=e)break;try{f=a.getBlackRow(l,f)}catch(a){continue}for(var m=this,n=0;n<2;n++){var o=function(a){if(1===a&&(f.reverse(),b&&!0===b.get(bA.NEED_RESULT_POINT_CALLBACK))){var c=new Map;b.forEach(function(a,b){return c.set(b,a)}),c.delete(bA.NEED_RESULT_POINT_CALLBACK),b=c}try{var e=m.decodeRow(l,f,b);if(1===a){e.putMetadata(b1.ORIENTATION,180);var g=e.getResultPoints();null!==g&&(g[0]=new ch(d-g[0].getX()-1,g[0].getY()),g[1]=new ch(d-g[1].getX()-1,g[1].getY()))}return{value:e}}catch(a){}}(n);if("object"==typeof o)return o.value}}throw new bM},a.recordPattern=function(a,b,c){for(var d=c.length,e=0;e<d;e++)c[e]=0;var f=a.getSize();if(b>=f)throw new bM;for(var g=!a.get(b),h=0,i=b;i<f;){if(a.get(i)!==g)c[h]++;else if(++h===d)break;else c[h]=1,g=!g;i++}if(h!==d&&(h!==d-1||i!==f))throw new bM},a.recordPatternInReverse=function(b,c,d){for(var e=d.length,f=b.get(c);c>0&&e>=0;)b.get(--c)!==f&&(e--,f=!f);if(e>=0)throw new bM;a.recordPattern(b,c+1,d)},a.patternMatchVariance=function(a,b,c){for(var d=a.length,e=0,f=0,g=0;g<d;g++)e+=a[g],f+=b[g];if(e<f)return 1/0;var h=e/f;c*=h;for(var i=0,j=0;j<d;j++){var k=a[j],l=b[j]*h,m=k>l?k-l:l-k;if(m>c)return 1/0;i+=m}return i/e},a}(),cv=(C=function(a,b){return(C=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}C(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cw=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return cv(b,a),b.findStartPattern=function(a){for(var c=a.getSize(),d=a.getNextSet(0),e=0,f=Int32Array.from([0,0,0,0,0,0]),g=d,h=!1,i=d;i<c;i++)if(a.get(i)!==h)f[e]++;else{if(5===e){for(var j=b.MAX_AVG_VARIANCE,k=-1,l=b.CODE_START_A;l<=b.CODE_START_C;l++){var m=cu.patternMatchVariance(f,b.CODE_PATTERNS[l],b.MAX_INDIVIDUAL_VARIANCE);m<j&&(j=m,k=l)}if(k>=0&&a.isRange(Math.max(0,g-(i-g)/2),g,!1))return Int32Array.from([g,i,k]);g+=f[0]+f[1],(f=f.slice(2,f.length))[e-1]=0,f[e]=0,e--}else e++;f[e]=1,h=!h}throw new bM},b.decodeCode=function(a,c,d){cu.recordPattern(a,d,c);for(var e=b.MAX_AVG_VARIANCE,f=-1,g=0;g<b.CODE_PATTERNS.length;g++){var h=b.CODE_PATTERNS[g],i=this.patternMatchVariance(c,h,b.MAX_INDIVIDUAL_VARIANCE);i<e&&(e=i,f=g)}if(f>=0)return f;throw new bM},b.prototype.decodeRow=function(a,c,d){var e,f=d&&!0===d.get(bA.ASSUME_GS1),g=b.findStartPattern(c),h=g[2],i=0,j=new Uint8Array(20);switch(j[i++]=h,h){case b.CODE_START_A:e=b.CODE_CODE_A;break;case b.CODE_START_B:e=b.CODE_CODE_B;break;case b.CODE_START_C:e=b.CODE_CODE_C;break;default:throw new bC}for(var k=!1,l=!1,m="",n=g[0],o=g[1],p=Int32Array.from([0,0,0,0,0,0]),q=0,r=0,s=h,t=0,u=!0,v=!1,w=!1;!k;){var x=l;switch(l=!1,q=r,r=b.decodeCode(c,p,o),j[i++]=r,r!==b.CODE_STOP&&(u=!0),r!==b.CODE_STOP&&(s+=++t*r),n=o,o+=p.reduce(function(a,b){return a+b},0),r){case b.CODE_START_A:case b.CODE_START_B:case b.CODE_START_C:throw new bC}switch(e){case b.CODE_CODE_A:if(r<64)w===v?m+=String.fromCharCode(32+r):m+=String.fromCharCode(32+r+128),w=!1;else if(r<96)w===v?m+=String.fromCharCode(r-64):m+=String.fromCharCode(r+64),w=!1;else switch(r!==b.CODE_STOP&&(u=!1),r){case b.CODE_FNC_1:f&&(0===m.length?m+="]C1":m+="\x1d");break;case b.CODE_FNC_2:case b.CODE_FNC_3:break;case b.CODE_FNC_4_A:!v&&w?(v=!0,w=!1):v&&w?(v=!1,w=!1):w=!0;break;case b.CODE_SHIFT:l=!0,e=b.CODE_CODE_B;break;case b.CODE_CODE_B:e=b.CODE_CODE_B;break;case b.CODE_CODE_C:e=b.CODE_CODE_C;break;case b.CODE_STOP:k=!0}break;case b.CODE_CODE_B:if(r<96)w===v?m+=String.fromCharCode(32+r):m+=String.fromCharCode(32+r+128),w=!1;else switch(r!==b.CODE_STOP&&(u=!1),r){case b.CODE_FNC_1:f&&(0===m.length?m+="]C1":m+="\x1d");break;case b.CODE_FNC_2:case b.CODE_FNC_3:break;case b.CODE_FNC_4_B:!v&&w?(v=!0,w=!1):v&&w?(v=!1,w=!1):w=!0;break;case b.CODE_SHIFT:l=!0,e=b.CODE_CODE_A;break;case b.CODE_CODE_A:e=b.CODE_CODE_A;break;case b.CODE_CODE_C:e=b.CODE_CODE_C;break;case b.CODE_STOP:k=!0}break;case b.CODE_CODE_C:if(r<100)r<10&&(m+="0"),m+=r;else switch(r!==b.CODE_STOP&&(u=!1),r){case b.CODE_FNC_1:f&&(0===m.length?m+="]C1":m+="\x1d");break;case b.CODE_CODE_A:e=b.CODE_CODE_A;break;case b.CODE_CODE_B:e=b.CODE_CODE_B;break;case b.CODE_STOP:k=!0}}x&&(e=e===b.CODE_CODE_A?b.CODE_CODE_B:b.CODE_CODE_A)}var y=o-n;if(o=c.getNextUnset(o),!c.isRange(o,Math.min(c.getSize(),o+(o-n)/2),!1))throw new bM;if((s-=t*q)%103!==q)throw new bp;var z=m.length;if(0===z)throw new bM;z>0&&u&&(m=e===b.CODE_CODE_C?m.substring(0,z-2):m.substring(0,z-1));for(var A=(g[1]+g[0])/2,B=n+y/2,C=j.length,D=new Uint8Array(C),E=0;E<C;E++)D[E]=j[E];return new b_(m,D,0,[new ch(A,a),new ch(B,a)],b0.CODE_128,new Date().getTime())},b.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],b.MAX_AVG_VARIANCE=.25,b.MAX_INDIVIDUAL_VARIANCE=.7,b.CODE_SHIFT=98,b.CODE_CODE_C=99,b.CODE_CODE_B=100,b.CODE_CODE_A=101,b.CODE_FNC_1=102,b.CODE_FNC_2=97,b.CODE_FNC_3=96,b.CODE_FNC_4_A=101,b.CODE_FNC_4_B=100,b.CODE_START_A=103,b.CODE_START_B=104,b.CODE_START_C=105,b.CODE_STOP=106,b}(cu),cx=(D=function(a,b){return(D=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}D(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cy=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},cz=function(a){function b(b,c){void 0===b&&(b=!1),void 0===c&&(c=!1);var d=a.call(this)||this;return d.usingCheckDigit=b,d.extendedMode=c,d.decodeRowResult="",d.counters=new Int32Array(9),d}return cx(b,a),b.prototype.decodeRow=function(a,c,d){var e,f,g,h,i,j,k,l=this.counters;l.fill(0),this.decodeRowResult="";var m=b.findAsteriskPattern(c,l),n=c.getNextSet(m[1]),o=c.getSize();do{b.recordPattern(c,n,l);var p=b.toNarrowWidePattern(l);if(p<0)throw new bM;i=b.patternToChar(p),this.decodeRowResult+=i,j=n;try{for(var q=(e=void 0,cy(l)),r=q.next();!r.done;r=q.next()){var s=r.value;n+=s}}catch(a){e={error:a}}finally{try{r&&!r.done&&(f=q.return)&&f.call(q)}finally{if(e)throw e.error}}n=c.getNextSet(n)}while("*"!==i)this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var t=0;try{for(var u=cy(l),v=u.next();!v.done;v=u.next()){var s=v.value;t+=s}}catch(a){g={error:a}}finally{try{v&&!v.done&&(h=u.return)&&h.call(u)}finally{if(g)throw g.error}}var w=n-j-t;if(n!==o&&2*w<t)throw new bM;if(this.usingCheckDigit){for(var x=this.decodeRowResult.length-1,y=0,z=0;z<x;z++)y+=b.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(z));if(this.decodeRowResult.charAt(x)!==b.ALPHABET_STRING.charAt(y%43))throw new bp;this.decodeRowResult=this.decodeRowResult.substring(0,x)}if(0===this.decodeRowResult.length)throw new bM;k=this.extendedMode?b.decodeExtended(this.decodeRowResult):this.decodeRowResult;var A=(m[1]+m[0])/2,B=j+t/2;return new b_(k,null,0,[new ch(A,a),new ch(B,a)],b0.CODE_39,new Date().getTime())},b.findAsteriskPattern=function(a,c){for(var d=a.getSize(),e=a.getNextSet(0),f=0,g=e,h=!1,i=c.length,j=e;j<d;j++)if(a.get(j)!==h)c[f]++;else{if(f===i-1){if(this.toNarrowWidePattern(c)===b.ASTERISK_ENCODING&&a.isRange(Math.max(0,g-Math.floor((j-g)/2)),g,!1))return[g,j];g+=c[0]+c[1],c.copyWithin(0,2,2+f-1),c[f-1]=0,c[f]=0,f--}else f++;c[f]=1,h=!h}throw new bM},b.toNarrowWidePattern=function(a){var b,c,d,e=a.length,f=0;do{var g=0x7fffffff;try{for(var h=(b=void 0,cy(a)),i=h.next();!i.done;i=h.next()){var j=i.value;j<g&&j>f&&(g=j)}}catch(a){b={error:a}}finally{try{i&&!i.done&&(c=h.return)&&c.call(h)}finally{if(b)throw b.error}}f=g,d=0;for(var k=0,l=0,m=0;m<e;m++){var j=a[m];j>f&&(l|=1<<e-1-m,d++,k+=j)}if(3===d){for(var m=0;m<e&&d>0;m++){var j=a[m];if(j>f&&(d--,2*j>=k))return -1}return l}}while(d>3)return -1},b.patternToChar=function(a){for(var c=0;c<b.CHARACTER_ENCODINGS.length;c++)if(b.CHARACTER_ENCODINGS[c]===a)return b.ALPHABET_STRING.charAt(c);if(a===b.ASTERISK_ENCODING)return"*";throw new bM},b.decodeExtended=function(a){for(var b=a.length,c="",d=0;d<b;d++){var e=a.charAt(d);if("+"===e||"$"===e||"%"===e||"/"===e){var f=a.charAt(d+1),g="\0";switch(e){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new bC;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new bC;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if("U"===f)g="\0";else if("V"===f)g="@";else if("W"===f)g="`";else if("X"===f||"Y"===f||"Z"===f)g="";else throw new bC;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if("Z"===f)g=":";else throw new bC}c+=g,d++}else c+=e}return c},b.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",b.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],b.ASTERISK_ENCODING=148,b}(cu),cA=(E=function(a,b){return(E=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}E(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cB=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},cC=function(a){function b(){var b=a.call(this)||this;return b.decodeRowResult="",b.counters=new Int32Array(6),b}return cA(b,a),b.prototype.decodeRow=function(a,c,d){var e,f,g,h,i,j,k=this.findAsteriskPattern(c),l=c.getNextSet(k[1]),m=c.getSize(),n=this.counters;n.fill(0),this.decodeRowResult="";do{b.recordPattern(c,l,n);var o=this.toPattern(n);if(o<0)throw new bM;i=this.patternToChar(o),this.decodeRowResult+=i,j=l;try{for(var p=(e=void 0,cB(n)),q=p.next();!q.done;q=p.next()){var r=q.value;l+=r}}catch(a){e={error:a}}finally{try{q&&!q.done&&(f=p.return)&&f.call(p)}finally{if(e)throw e.error}}l=c.getNextSet(l)}while("*"!==i)this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var s=0;try{for(var t=cB(n),u=t.next();!u.done;u=t.next()){var r=u.value;s+=r}}catch(a){g={error:a}}finally{try{u&&!u.done&&(h=t.return)&&h.call(t)}finally{if(g)throw g.error}}if(l===m||!c.get(l)||this.decodeRowResult.length<2)throw new bM;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var v=this.decodeExtended(this.decodeRowResult),w=(k[1]+k[0])/2,x=j+s/2;return new b_(v,null,0,[new ch(w,a),new ch(x,a)],b0.CODE_93,new Date().getTime())},b.prototype.findAsteriskPattern=function(a){var c=a.getSize(),d=a.getNextSet(0);this.counters.fill(0);for(var e=this.counters,f=d,g=!1,h=e.length,i=0,j=d;j<c;j++)if(a.get(j)!==g)e[i]++;else{if(i===h-1){if(this.toPattern(e)===b.ASTERISK_ENCODING)return new Int32Array([f,j]);f+=e[0]+e[1],e.copyWithin(0,2,2+i-1),e[i-1]=0,e[i]=0,i--}else i++;e[i]=1,g=!g}throw new bM},b.prototype.toPattern=function(a){var b,c,d=0;try{for(var e=cB(a),f=e.next();!f.done;f=e.next()){var g=f.value;d+=g}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}for(var h=0,i=a.length,j=0;j<i;j++){var k=Math.round(9*a[j]/d);if(k<1||k>4)return -1;if((1&j)==0)for(var l=0;l<k;l++)h=h<<1|1;else h<<=k}return h},b.prototype.patternToChar=function(a){for(var c=0;c<b.CHARACTER_ENCODINGS.length;c++)if(b.CHARACTER_ENCODINGS[c]===a)return b.ALPHABET_STRING.charAt(c);throw new bM},b.prototype.decodeExtended=function(a){for(var b=a.length,c="",d=0;d<b;d++){var e=a.charAt(d);if(e>="a"&&e<="d"){if(d>=b-1)throw new bC;var f=a.charAt(d+1),g="\0";switch(e){case"d":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new bC;break;case"a":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new bC;break;case"b":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if("U"===f)g="\0";else if("V"===f)g="@";else if("W"===f)g="`";else if(f>="X"&&f<="Z")g="";else throw new bC;break;case"c":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if("Z"===f)g=":";else throw new bC}c+=g,d++}else c+=e}return c},b.prototype.checkChecksums=function(a){var b=a.length;this.checkOneChecksum(a,b-2,20),this.checkOneChecksum(a,b-1,15)},b.prototype.checkOneChecksum=function(a,c,d){for(var e=1,f=0,g=c-1;g>=0;g--)f+=e*b.ALPHABET_STRING.indexOf(a.charAt(g)),++e>d&&(e=1);if(a.charAt(c)!==b.ALPHABET_STRING[f%47])throw new bp},b.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",b.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],b.ASTERISK_ENCODING=b.CHARACTER_ENCODINGS[47],b}(cu),cD=(F=function(a,b){return(F=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}F(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cE=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},cF=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.narrowLineWidth=-1,b}return cD(b,a),b.prototype.decodeRow=function(a,c,d){var e,f,g=this.decodeStart(c),h=this.decodeEnd(c),i=new bJ;b.decodeMiddle(c,g[1],h[0],i);var j=i.toString(),k=null;null!=d&&(k=d.get(bA.ALLOWED_LENGTHS)),null==k&&(k=b.DEFAULT_ALLOWED_LENGTHS);var l=j.length,m=!1,n=0;try{for(var o=cE(k),p=o.next();!p.done;p=o.next()){var q=p.value;if(l===q){m=!0;break}q>n&&(n=q)}}catch(a){e={error:a}}finally{try{p&&!p.done&&(f=o.return)&&f.call(o)}finally{if(e)throw e.error}}if(!m&&l>n&&(m=!0),!m)throw new bC;return new b_(j,null,0,[new ch(g[1],a),new ch(h[0],a)],b0.ITF,new Date().getTime())},b.decodeMiddle=function(a,c,d,e){var f=new Int32Array(10),g=new Int32Array(5),h=new Int32Array(5);for(f.fill(0),g.fill(0),h.fill(0);c<d;){cu.recordPattern(a,c,f);for(var i=0;i<5;i++){var j=2*i;g[i]=f[j],h[i]=f[j+1]}var k=b.decodeDigit(g);e.append(k.toString()),k=this.decodeDigit(h),e.append(k.toString()),f.forEach(function(a){c+=a})}},b.prototype.decodeStart=function(a){var c=b.skipWhiteSpace(a),d=b.findGuardPattern(a,c,b.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(a,d[0]),d},b.prototype.validateQuietZone=function(a,b){var c=10*this.narrowLineWidth;c=c<b?c:b;for(var d=b-1;c>0&&d>=0&&!a.get(d);d--)c--;if(0!==c)throw new bM},b.skipWhiteSpace=function(a){var b=a.getSize(),c=a.getNextSet(0);if(c===b)throw new bM;return c},b.prototype.decodeEnd=function(a){a.reverse();try{var c=b.skipWhiteSpace(a),d=void 0;try{d=b.findGuardPattern(a,c,b.END_PATTERN_REVERSED[0])}catch(e){e instanceof bM&&(d=b.findGuardPattern(a,c,b.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,d[0]);var e=d[0];return d[0]=a.getSize()-d[1],d[1]=a.getSize()-e,d}finally{a.reverse()}},b.findGuardPattern=function(a,c,d){var e=d.length,f=new Int32Array(e),g=a.getSize(),h=!1,i=0,j=c;f.fill(0);for(var k=c;k<g;k++)if(a.get(k)!==h)f[i]++;else{if(i===e-1){if(cu.patternMatchVariance(f,d,b.MAX_INDIVIDUAL_VARIANCE)<b.MAX_AVG_VARIANCE)return[j,k];j+=f[0]+f[1],br.arraycopy(f,2,f,0,i-1),f[i-1]=0,f[i]=0,i--}else i++;f[i]=1,h=!h}throw new bM},b.decodeDigit=function(a){for(var c=b.MAX_AVG_VARIANCE,d=-1,e=b.PATTERNS.length,f=0;f<e;f++){var g=b.PATTERNS[f],h=cu.patternMatchVariance(a,g,b.MAX_INDIVIDUAL_VARIANCE);h<c?(c=h,d=f):h===c&&(d=-1)}if(d>=0)return d%10;throw new bM},b.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],b.MAX_AVG_VARIANCE=.38,b.MAX_INDIVIDUAL_VARIANCE=.5,b.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],b.START_PATTERN=Int32Array.from([1,1,1,1]),b.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],b}(cu),cG=(G=function(a,b){return(G=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}G(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cH=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.decodeRowStringBuffer="",b}return cG(b,a),b.findStartGuardPattern=function(a){for(var c,d=!1,e=0,f=Int32Array.from([0,0,0]);!d;){f=Int32Array.from([0,0,0]);var g=(c=b.findGuardPattern(a,e,!1,this.START_END_PATTERN,f))[0],h=g-((e=c[1])-g);h>=0&&(d=a.isRange(h,g,!1))}return c},b.checkChecksum=function(a){return b.checkStandardUPCEANChecksum(a)},b.checkStandardUPCEANChecksum=function(a){var c=a.length;if(0===c)return!1;var d=parseInt(a.charAt(c-1),10);return b.getStandardUPCEANChecksum(a.substring(0,c-1))===d},b.getStandardUPCEANChecksum=function(a){for(var b=a.length,c=0,d=b-1;d>=0;d-=2){var e=a.charAt(d).charCodeAt(0)-48;if(e<0||e>9)throw new bC;c+=e}c*=3;for(var d=b-2;d>=0;d-=2){var e=a.charAt(d).charCodeAt(0)-48;if(e<0||e>9)throw new bC;c+=e}return(1e3-c)%10},b.decodeEnd=function(a,c){return b.findGuardPattern(a,c,!1,b.START_END_PATTERN,new Int32Array(b.START_END_PATTERN.length).fill(0))},b.findGuardPatternWithoutCounters=function(a,b,c,d){return this.findGuardPattern(a,b,c,d,new Int32Array(d.length))},b.findGuardPattern=function(a,c,d,e,f){var g=a.getSize();c=d?a.getNextUnset(c):a.getNextSet(c);for(var h=0,i=c,j=e.length,k=d,l=c;l<g;l++)if(a.get(l)!==k)f[h]++;else{if(h===j-1){if(cu.patternMatchVariance(f,e,b.MAX_INDIVIDUAL_VARIANCE)<b.MAX_AVG_VARIANCE)return Int32Array.from([i,l]);i+=f[0]+f[1];for(var m=f.slice(2,f.length),n=0;n<h-1;n++)f[n]=m[n];f[h-1]=0,f[h]=0,h--}else h++;f[h]=1,k=!k}throw new bM},b.decodeDigit=function(a,c,d,e){this.recordPattern(a,d,c);for(var f=this.MAX_AVG_VARIANCE,g=-1,h=e.length,i=0;i<h;i++){var j=e[i],k=cu.patternMatchVariance(c,j,b.MAX_INDIVIDUAL_VARIANCE);k<f&&(f=k,g=i)}if(g>=0)return g;throw new bM},b.MAX_AVG_VARIANCE=.48,b.MAX_INDIVIDUAL_VARIANCE=.7,b.START_END_PATTERN=Int32Array.from([1,1,1]),b.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),b.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),b.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],b}(cu),cI=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},cJ=function(){function a(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return a.prototype.decodeRow=function(b,c,d){var e=this.decodeRowStringBuffer,f=this.decodeMiddle(c,d,e),g=e.toString(),h=a.parseExtensionString(g),i=new b_(g,null,0,[new ch((d[0]+d[1])/2,b),new ch(f,b)],b0.UPC_EAN_EXTENSION,new Date().getTime());return null!=h&&i.putAllMetadata(h),i},a.prototype.decodeMiddle=function(b,c,d){var e,f,g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;for(var h=b.getSize(),i=c[1],j=0,k=0;k<5&&i<h;k++){var l=cH.decodeDigit(b,g,i,cH.L_AND_G_PATTERNS);d+=String.fromCharCode(48+l%10);try{for(var m=(e=void 0,cI(g)),n=m.next();!n.done;n=m.next()){var o=n.value;i+=o}}catch(a){e={error:a}}finally{try{n&&!n.done&&(f=m.return)&&f.call(m)}finally{if(e)throw e.error}}l>=10&&(j|=1<<4-k),4!==k&&(i=b.getNextSet(i),i=b.getNextUnset(i))}if(5!==d.length)throw new bM;var p=this.determineCheckDigit(j);if(a.extensionChecksum(d.toString())!==p)throw new bM;return i},a.extensionChecksum=function(a){for(var b=a.length,c=0,d=b-2;d>=0;d-=2)c+=a.charAt(d).charCodeAt(0)-48;c*=3;for(var d=b-1;d>=0;d-=2)c+=a.charAt(d).charCodeAt(0)-48;return(c*=3)%10},a.prototype.determineCheckDigit=function(a){for(var b=0;b<10;b++)if(a===this.CHECK_DIGIT_ENCODINGS[b])return b;throw new bM},a.parseExtensionString=function(b){if(5!==b.length)return null;var c=a.parseExtension5String(b);return null==c?null:new Map([[b1.SUGGESTED_PRICE,c]])},a.parseExtension5String=function(a){switch(a.charAt(0)){case"0":b="";break;case"5":b="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}b="";break;default:b=""}var b,c=parseInt(a.substring(1)),d=(c/100).toString(),e=c%100;return b+d+"."+(e<10?"0"+e:e.toString())},a}(),cK=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},cL=function(){function a(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return a.prototype.decodeRow=function(b,c,d){var e=this.decodeRowStringBuffer,f=this.decodeMiddle(c,d,e),g=e.toString(),h=a.parseExtensionString(g),i=new b_(g,null,0,[new ch((d[0]+d[1])/2,b),new ch(f,b)],b0.UPC_EAN_EXTENSION,new Date().getTime());return null!=h&&i.putAllMetadata(h),i},a.prototype.decodeMiddle=function(a,b,c){var d,e,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var g=a.getSize(),h=b[1],i=0,j=0;j<2&&h<g;j++){var k=cH.decodeDigit(a,f,h,cH.L_AND_G_PATTERNS);c+=String.fromCharCode(48+k%10);try{for(var l=(d=void 0,cK(f)),m=l.next();!m.done;m=l.next()){var n=m.value;h+=n}}catch(a){d={error:a}}finally{try{m&&!m.done&&(e=l.return)&&e.call(l)}finally{if(d)throw d.error}}k>=10&&(i|=1<<1-j),1!==j&&(h=a.getNextSet(h),h=a.getNextUnset(h))}if(2!==c.length||parseInt(c.toString())%4!==i)throw new bM;return h},a.parseExtensionString=function(a){return 2!==a.length?null:new Map([[b1.ISSUE_NUMBER,parseInt(a)]])},a}(),cM=function(){function a(){}return a.decodeRow=function(a,b,c){var d=cH.findGuardPattern(b,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new cJ().decodeRow(a,b,d)}catch(c){return new cL().decodeRow(a,b,d)}},a.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),a}(),cN=(H=function(a,b){return(H=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}H(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cO=function(a){function b(){var c=a.call(this)||this;c.decodeRowStringBuffer="",b.L_AND_G_PATTERNS=b.L_PATTERNS.map(function(a){return Int32Array.from(a)});for(var d=10;d<20;d++){for(var e=b.L_PATTERNS[d-10],f=new Int32Array(e.length),g=0;g<e.length;g++)f[g]=e[e.length-g-1];b.L_AND_G_PATTERNS[d]=f}return c}return cN(b,a),b.prototype.decodeRow=function(a,c,d){var e=b.findStartGuardPattern(c),f=null==d?null:d.get(bA.NEED_RESULT_POINT_CALLBACK);if(null!=f){var g=new ch((e[0]+e[1])/2,a);f.foundPossibleResultPoint(g)}var h=this.decodeMiddle(c,e,this.decodeRowStringBuffer),i=h.rowOffset,j=h.resultString;if(null!=f){var k=new ch(i,a);f.foundPossibleResultPoint(k)}var l=b.decodeEnd(c,i);if(null!=f){var m=new ch((l[0]+l[1])/2,a);f.foundPossibleResultPoint(m)}var n=l[1],o=n+(n-l[0]);if(o>=c.getSize()||!c.isRange(n,o,!1))throw new bM;var p=j.toString();if(p.length<8)throw new bC;if(!b.checkChecksum(p))throw new bp;var q=(e[1]+e[0])/2,r=(l[1]+l[0])/2,s=this.getBarcodeFormat(),t=new b_(p,null,0,[new ch(q,a),new ch(r,a)],s,new Date().getTime()),u=0;try{var v=cM.decodeRow(a,c,l[1]);t.putMetadata(b1.UPC_EAN_EXTENSION,v.getText()),t.putAllMetadata(v.getResultMetadata()),t.addResultPoints(v.getResultPoints()),u=v.getText().length}catch(a){}var w=null==d?null:d.get(bA.ALLOWED_EAN_EXTENSIONS);if(null!=w){var x=!1;for(var y in w)if(u.toString()===y){x=!0;break}if(!x)throw new bM}return s===b0.EAN_13||b0.UPC_A,t},b.checkChecksum=function(a){return b.checkStandardUPCEANChecksum(a)},b.checkStandardUPCEANChecksum=function(a){var c=a.length;if(0===c)return!1;var d=parseInt(a.charAt(c-1),10);return b.getStandardUPCEANChecksum(a.substring(0,c-1))===d},b.getStandardUPCEANChecksum=function(a){for(var b=a.length,c=0,d=b-1;d>=0;d-=2){var e=a.charAt(d).charCodeAt(0)-48;if(e<0||e>9)throw new bC;c+=e}c*=3;for(var d=b-2;d>=0;d-=2){var e=a.charAt(d).charCodeAt(0)-48;if(e<0||e>9)throw new bC;c+=e}return(1e3-c)%10},b.decodeEnd=function(a,c){return b.findGuardPattern(a,c,!1,b.START_END_PATTERN,new Int32Array(b.START_END_PATTERN.length).fill(0))},b}(cH),cP=(I=function(a,b){return(I=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}I(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cQ=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},cR=function(a){function b(){var b=a.call(this)||this;return b.decodeMiddleCounters=Int32Array.from([0,0,0,0]),b}return cP(b,a),b.prototype.decodeMiddle=function(a,c,d){var e,f,g,h,i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var j=a.getSize(),k=c[1],l=0,m=0;m<6&&k<j;m++){var n=cO.decodeDigit(a,i,k,cO.L_AND_G_PATTERNS);d+=String.fromCharCode(48+n%10);try{for(var o=(e=void 0,cQ(i)),p=o.next();!p.done;p=o.next()){var q=p.value;k+=q}}catch(a){e={error:a}}finally{try{p&&!p.done&&(f=o.return)&&f.call(o)}finally{if(e)throw e.error}}n>=10&&(l|=1<<5-m)}d=b.determineFirstDigit(d,l),k=cO.findGuardPattern(a,k,!0,cO.MIDDLE_PATTERN,new Int32Array(cO.MIDDLE_PATTERN.length).fill(0))[1];for(var m=0;m<6&&k<j;m++){var n=cO.decodeDigit(a,i,k,cO.L_PATTERNS);d+=String.fromCharCode(48+n);try{for(var r=(g=void 0,cQ(i)),s=r.next();!s.done;s=r.next()){var q=s.value;k+=q}}catch(a){g={error:a}}finally{try{s&&!s.done&&(h=r.return)&&h.call(r)}finally{if(g)throw g.error}}}return{rowOffset:k,resultString:d}},b.prototype.getBarcodeFormat=function(){return b0.EAN_13},b.determineFirstDigit=function(a,b){for(var c=0;c<10;c++)if(b===this.FIRST_DIGIT_ENCODINGS[c])return String.fromCharCode(48+c)+a;throw new bM},b.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],b}(cO),cS=(J=function(a,b){return(J=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}J(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cT=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},cU=function(a){function b(){var b=a.call(this)||this;return b.decodeMiddleCounters=Int32Array.from([0,0,0,0]),b}return cS(b,a),b.prototype.decodeMiddle=function(a,b,c){var d,e,f,g,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var i=a.getSize(),j=b[1],k=0;k<4&&j<i;k++){var l=cO.decodeDigit(a,h,j,cO.L_PATTERNS);c+=String.fromCharCode(48+l);try{for(var m=(d=void 0,cT(h)),n=m.next();!n.done;n=m.next()){var o=n.value;j+=o}}catch(a){d={error:a}}finally{try{n&&!n.done&&(e=m.return)&&e.call(m)}finally{if(d)throw d.error}}}j=cO.findGuardPattern(a,j,!0,cO.MIDDLE_PATTERN,new Int32Array(cO.MIDDLE_PATTERN.length).fill(0))[1];for(var k=0;k<4&&j<i;k++){var l=cO.decodeDigit(a,h,j,cO.L_PATTERNS);c+=String.fromCharCode(48+l);try{for(var p=(f=void 0,cT(h)),q=p.next();!q.done;q=p.next()){var o=q.value;j+=o}}catch(a){f={error:a}}finally{try{q&&!q.done&&(g=p.return)&&g.call(p)}finally{if(f)throw f.error}}}return{rowOffset:j,resultString:c}},b.prototype.getBarcodeFormat=function(){return b0.EAN_8},b}(cO),cV=(K=function(a,b){return(K=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}K(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cW=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.ean13Reader=new cR,b}return cV(b,a),b.prototype.getBarcodeFormat=function(){return b0.UPC_A},b.prototype.decode=function(a,b){return this.maybeReturnResult(this.ean13Reader.decode(a))},b.prototype.decodeRow=function(a,b,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,b,c))},b.prototype.decodeMiddle=function(a,b,c){return this.ean13Reader.decodeMiddle(a,b,c)},b.prototype.maybeReturnResult=function(a){var b=a.getText();if("0"===b.charAt(0)){var c=new b_(b.substring(1),null,null,a.getResultPoints(),b0.UPC_A);return null!=a.getResultMetadata()&&c.putAllMetadata(a.getResultMetadata()),c}throw new bM},b.prototype.reset=function(){this.ean13Reader.reset()},b}(cO),cX=(L=function(a,b){return(L=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}L(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),cY=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},cZ=function(a){function b(){var b=a.call(this)||this;return b.decodeMiddleCounters=new Int32Array(4),b}return cX(b,a),b.prototype.decodeMiddle=function(a,c,d){var e,f,g=this.decodeMiddleCounters.map(function(a){return a});g[0]=0,g[1]=0,g[2]=0,g[3]=0;for(var h=a.getSize(),i=c[1],j=0,k=0;k<6&&i<h;k++){var l=b.decodeDigit(a,g,i,b.L_AND_G_PATTERNS);d+=String.fromCharCode(48+l%10);try{for(var m=(e=void 0,cY(g)),n=m.next();!n.done;n=m.next()){var o=n.value;i+=o}}catch(a){e={error:a}}finally{try{n&&!n.done&&(f=m.return)&&f.call(m)}finally{if(e)throw e.error}}l>=10&&(j|=1<<5-k)}return b.determineNumSysAndCheckDigit(new bJ(d),j),i},b.prototype.decodeEnd=function(a,c){return b.findGuardPatternWithoutCounters(a,c,!0,b.MIDDLE_END_PATTERN)},b.prototype.checkChecksum=function(a){return cO.checkChecksum(b.convertUPCEtoUPCA(a))},b.determineNumSysAndCheckDigit=function(a,b){for(var c=0;c<=1;c++)for(var d=0;d<10;d++)if(b===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][d]){a.insert(0,"0"+c),a.append("0"+d);return}throw bM.getNotFoundInstance()},b.prototype.getBarcodeFormat=function(){return b0.UPC_E},b.convertUPCEtoUPCA=function(a){var b=a.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),c=new bJ;c.append(a.charAt(0));var d=b[5];switch(d){case 0:case 1:case 2:c.appendChars(b,0,2),c.append(d),c.append("0000"),c.appendChars(b,2,3);break;case 3:c.appendChars(b,0,3),c.append("00000"),c.appendChars(b,3,2);break;case 4:c.appendChars(b,0,4),c.append("00000"),c.append(b[4]);break;default:c.appendChars(b,0,5),c.append("0000"),c.append(d)}return a.length>=8&&c.append(a.charAt(7)),c.toString()},b.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),b.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],b}(cO),c$=(M=function(a,b){return(M=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}M(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),c_=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},c0=function(a){function b(b){var c=a.call(this)||this,d=null==b?null:b.get(bA.POSSIBLE_FORMATS),e=[];return null!=d&&(d.indexOf(b0.EAN_13)>-1&&e.push(new cR),d.indexOf(b0.UPC_A)>-1&&e.push(new cW),d.indexOf(b0.EAN_8)>-1&&e.push(new cU),d.indexOf(b0.UPC_E)>-1&&e.push(new cZ)),0===e.length&&(e.push(new cR),e.push(new cW),e.push(new cU),e.push(new cZ)),c.readers=e,c}return c$(b,a),b.prototype.decodeRow=function(a,b,c){var d,e;try{for(var f=c_(this.readers),g=f.next();!g.done;g=f.next()){var h=g.value;try{var i=h.decodeRow(a,b,c),j=i.getBarcodeFormat()===b0.EAN_13&&"0"===i.getText().charAt(0),k=null==c?null:c.get(bA.POSSIBLE_FORMATS),l=null==k||k.includes(b0.UPC_A);if(j&&l){var m=i.getRawBytes(),n=new b_(i.getText().substring(1),m,m?m.length:null,i.getResultPoints(),b0.UPC_A);return n.putAllMetadata(i.getResultMetadata()),n}return i}catch(a){}}}catch(a){d={error:a}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(d)throw d.error}}throw new bM},b.prototype.reset=function(){var a,b;try{for(var c=c_(this.readers),d=c.next();!d.done;d=c.next())d.value.reset()}catch(b){a={error:b}}finally{try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(a)throw a.error}}},b}(cu),c1=(N=function(a,b){return(N=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}N(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),c2=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},b}return c1(b,a),b.prototype.decodeRow=function(a,b,c){var d=this.getValidRowData(b);if(!d)throw new bM;var e=this.codaBarDecodeRow(d.row);if(!e)throw new bM;return new b_(e,null,0,[new ch(d.left,a),new ch(d.right,a)],b0.CODABAR,new Date().getTime())},b.prototype.getValidRowData=function(a){var b=a.toArray(),c=b.indexOf(!0);if(-1===c)return null;var d=b.lastIndexOf(!0);if(d<=c)return null;b=b.slice(c,d+1);for(var e=[],f=b[0],g=1,h=1;h<b.length;h++)b[h]===f?g++:(f=b[h],e.push(g),g=1);return(e.push(g),e.length<23&&(e.length+1)%8!=0)?null:{row:e,left:c,right:d}},b.prototype.codaBarDecodeRow=function(a){for(var b=[],c=Math.ceil(a.reduce(function(a,b){return(a+b)/2},0));a.length>0;){var d=a.splice(0,8).splice(0,7).map(function(a){return a<c?"n":"w"}).join("");if(void 0===this.CODA_BAR_CHAR_SET[d])return null;b.push(this.CODA_BAR_CHAR_SET[d])}var e=b.join("");return this.validCodaBarString(e)?e:null},b.prototype.validCodaBarString=function(a){return/^[A-D].{1,}[A-D]$/.test(a)},b}(cu),c3=(O=function(a,b){return(O=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}O(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),c4=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},c5=function(a){function b(){var b=a.call(this)||this;return b.decodeFinderCounters=new Int32Array(4),b.dataCharacterCounters=new Int32Array(8),b.oddRoundingErrors=[,,,,],b.evenRoundingErrors=[,,,,],b.oddCounts=Array(b.dataCharacterCounters.length/2),b.evenCounts=Array(b.dataCharacterCounters.length/2),b}return c3(b,a),b.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},b.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},b.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},b.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},b.prototype.getOddCounts=function(){return this.oddCounts},b.prototype.getEvenCounts=function(){return this.evenCounts},b.prototype.parseFinderValue=function(a,c){for(var d=0;d<c.length;d++)if(cu.patternMatchVariance(a,c[d],b.MAX_INDIVIDUAL_VARIANCE)<b.MAX_AVG_VARIANCE)return d;throw new bM},b.count=function(a){return cf.sum(new Int32Array(a))},b.increment=function(a,b){for(var c=0,d=b[0],e=1;e<a.length;e++)b[e]>d&&(d=b[e],c=e);a[c]++},b.decrement=function(a,b){for(var c=0,d=b[0],e=1;e<a.length;e++)b[e]<d&&(d=b[e],c=e);a[c]--},b.isFinderPattern=function(a){var c,d,e=a[0]+a[1],f=e+a[2]+a[3],g=e/f;if(g>=b.MIN_FINDER_PATTERN_RATIO&&g<=b.MAX_FINDER_PATTERN_RATIO){var h=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;try{for(var j=c4(a),k=j.next();!k.done;k=j.next()){var l=k.value;l>i&&(i=l),l<h&&(h=l)}}catch(a){c={error:a}}finally{try{k&&!k.done&&(d=j.return)&&d.call(j)}finally{if(c)throw c.error}}return i<10*h}return!1},b.MAX_AVG_VARIANCE=.2,b.MAX_INDIVIDUAL_VARIANCE=.45,b.MIN_FINDER_PATTERN_RATIO=9.5/12,b.MAX_FINDER_PATTERN_RATIO=12.5/14,b}(cu),c6=function(){function a(a,b){this.value=a,this.checksumPortion=b}return a.prototype.getValue=function(){return this.value},a.prototype.getChecksumPortion=function(){return this.checksumPortion},a.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},a.prototype.equals=function(b){return b instanceof a&&this.value===b.value&&this.checksumPortion===b.checksumPortion},a.prototype.hashCode=function(){return this.value^this.checksumPortion},a}(),c7=function(){function a(a,b,c,d,e){this.value=a,this.startEnd=b,this.value=a,this.startEnd=b,this.resultPoints=[],this.resultPoints.push(new ch(c,e)),this.resultPoints.push(new ch(d,e))}return a.prototype.getValue=function(){return this.value},a.prototype.getStartEnd=function(){return this.startEnd},a.prototype.getResultPoints=function(){return this.resultPoints},a.prototype.equals=function(b){return b instanceof a&&this.value===b.value},a.prototype.hashCode=function(){return this.value},a}(),c8=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},c9=function(){function a(){}return a.getRSSvalue=function(b,c,d){var e,f,g=0;try{for(var h=c8(b),i=h.next();!i.done;i=h.next()){var j=i.value;g+=j}}catch(a){e={error:a}}finally{try{i&&!i.done&&(f=h.return)&&f.call(h)}finally{if(e)throw e.error}}for(var k=0,l=0,m=b.length,n=0;n<m-1;n++){var o=void 0;for(o=1,l|=1<<n;o<b[n];o++,l&=~(1<<n)){var p=a.combins(g-o-1,m-n-2);if(d&&0===l&&g-o-(m-n-1)>=m-n-1&&(p-=a.combins(g-o-(m-n),m-n-2)),m-n-1>1){for(var q=0,r=g-o-(m-n-2);r>c;r--)q+=a.combins(g-o-r-1,m-n-3);p-=q*(m-1-n)}else g-o>c&&p--;k+=p}g-=o}return k},a.combins=function(a,b){a-b>b?(d=b,c=a-b):(d=a-b,c=b);for(var c,d,e=1,f=1,g=a;g>c;g--)e*=g,f<=d&&(e/=f,f++);for(;f<=d;)e/=f,f++;return e},a}(),da=function(){function a(){}return a.buildBitArray=function(a){var b=2*a.length-1;null==a[a.length-1].getRightChar()&&(b-=1);for(var c=new bz(12*b),d=0,e=a[0].getRightChar().getValue(),f=11;f>=0;--f)(e&1<<f)!=0&&c.set(d),d++;for(var f=1;f<a.length;++f){for(var g=a[f],h=g.getLeftChar().getValue(),i=11;i>=0;--i)(h&1<<i)!=0&&c.set(d),d++;if(null!==g.getRightChar())for(var j=g.getRightChar().getValue(),i=11;i>=0;--i)(j&1<<i)!=0&&c.set(d),d++}return c},a}(),db=function(){function a(a,b){b?this.decodedInformation=null:(this.finished=a,this.decodedInformation=b)}return a.prototype.getDecodedInformation=function(){return this.decodedInformation},a.prototype.isFinished=function(){return this.finished},a}(),dc=function(){function a(a){this.newPosition=a}return a.prototype.getNewPosition=function(){return this.newPosition},a}(),dd=(P=function(a,b){return(P=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}P(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),de=function(a){function b(b,c){var d=a.call(this,b)||this;return d.value=c,d}return dd(b,a),b.prototype.getValue=function(){return this.value},b.prototype.isFNC1=function(){return this.value===b.FNC1},b.FNC1="$",b}(dc),df=(Q=function(a,b){return(Q=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}Q(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dg=function(a){function b(b,c,d){var e=a.call(this,b)||this;return d?(e.remaining=!0,e.remainingValue=e.remainingValue):(e.remaining=!1,e.remainingValue=0),e.newString=c,e}return df(b,a),b.prototype.getNewString=function(){return this.newString},b.prototype.isRemaining=function(){return this.remaining},b.prototype.getRemainingValue=function(){return this.remainingValue},b}(dc),dh=(R=function(a,b){return(R=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}R(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),di=function(a){function b(b,c,d){var e=a.call(this,b)||this;if(c<0||c>10||d<0||d>10)throw new bC;return e.firstDigit=c,e.secondDigit=d,e}return dh(b,a),b.prototype.getFirstDigit=function(){return this.firstDigit},b.prototype.getSecondDigit=function(){return this.secondDigit},b.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},b.prototype.isFirstDigitFNC1=function(){return this.firstDigit===b.FNC1},b.prototype.isSecondDigitFNC1=function(){return this.secondDigit===b.FNC1},b.prototype.isAnyFNC1=function(){return this.firstDigit===b.FNC1||this.secondDigit===b.FNC1},b.FNC1=10,b}(dc),dj=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},dk=function(){function a(){}return a.parseFieldsInGeneralPurpose=function(b){if(!b)return null;if(b.length<2)throw new bM;var c,d,e,f,g,h,i,j,k=b.substring(0,2);try{for(var l=dj(a.TWO_DIGIT_DATA_LENGTH),m=l.next();!m.done;m=l.next()){var n=m.value;if(n[0]===k){if(n[1]===a.VARIABLE_LENGTH)return a.processVariableAI(2,n[2],b);return a.processFixedAI(2,n[1],b)}}}catch(a){c={error:a}}finally{try{m&&!m.done&&(d=l.return)&&d.call(l)}finally{if(c)throw c.error}}if(b.length<3)throw new bM;var o=b.substring(0,3);try{for(var p=dj(a.THREE_DIGIT_DATA_LENGTH),q=p.next();!q.done;q=p.next()){var n=q.value;if(n[0]===o){if(n[1]===a.VARIABLE_LENGTH)return a.processVariableAI(3,n[2],b);return a.processFixedAI(3,n[1],b)}}}catch(a){e={error:a}}finally{try{q&&!q.done&&(f=p.return)&&f.call(p)}finally{if(e)throw e.error}}try{for(var r=dj(a.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),s=r.next();!s.done;s=r.next()){var n=s.value;if(n[0]===o){if(n[1]===a.VARIABLE_LENGTH)return a.processVariableAI(4,n[2],b);return a.processFixedAI(4,n[1],b)}}}catch(a){g={error:a}}finally{try{s&&!s.done&&(h=r.return)&&h.call(r)}finally{if(g)throw g.error}}if(b.length<4)throw new bM;var t=b.substring(0,4);try{for(var u=dj(a.FOUR_DIGIT_DATA_LENGTH),v=u.next();!v.done;v=u.next()){var n=v.value;if(n[0]===t){if(n[1]===a.VARIABLE_LENGTH)return a.processVariableAI(4,n[2],b);return a.processFixedAI(4,n[1],b)}}}catch(a){i={error:a}}finally{try{v&&!v.done&&(j=u.return)&&j.call(u)}finally{if(i)throw i.error}}throw new bM},a.processFixedAI=function(b,c,d){if(d.length<b)throw new bM;var e=d.substring(0,b);if(d.length<b+c)throw new bM;var f=d.substring(b,b+c),g=d.substring(b+c),h="("+e+")"+f,i=a.parseFieldsInGeneralPurpose(g);return null==i?h:h+i},a.processVariableAI=function(b,c,d){var e,f=d.substring(0,b);e=d.length<b+c?d.length:b+c;var g=d.substring(b,e),h=d.substring(e),i="("+f+")"+g,j=a.parseFieldsInGeneralPurpose(h);return null==j?i:i+j},a.VARIABLE_LENGTH=[],a.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",a.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",a.VARIABLE_LENGTH,20],["22",a.VARIABLE_LENGTH,29],["30",a.VARIABLE_LENGTH,8],["37",a.VARIABLE_LENGTH,8],["90",a.VARIABLE_LENGTH,30],["91",a.VARIABLE_LENGTH,30],["92",a.VARIABLE_LENGTH,30],["93",a.VARIABLE_LENGTH,30],["94",a.VARIABLE_LENGTH,30],["95",a.VARIABLE_LENGTH,30],["96",a.VARIABLE_LENGTH,30],["97",a.VARIABLE_LENGTH,3],["98",a.VARIABLE_LENGTH,30],["99",a.VARIABLE_LENGTH,30]],a.THREE_DIGIT_DATA_LENGTH=[["240",a.VARIABLE_LENGTH,30],["241",a.VARIABLE_LENGTH,30],["242",a.VARIABLE_LENGTH,6],["250",a.VARIABLE_LENGTH,30],["251",a.VARIABLE_LENGTH,30],["253",a.VARIABLE_LENGTH,17],["254",a.VARIABLE_LENGTH,20],["400",a.VARIABLE_LENGTH,30],["401",a.VARIABLE_LENGTH,30],["402",17],["403",a.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",a.VARIABLE_LENGTH,20],["421",a.VARIABLE_LENGTH,15],["422",3],["423",a.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],a.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",a.VARIABLE_LENGTH,15],["391",a.VARIABLE_LENGTH,18],["392",a.VARIABLE_LENGTH,15],["393",a.VARIABLE_LENGTH,18],["703",a.VARIABLE_LENGTH,30]],a.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",a.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",a.VARIABLE_LENGTH,20],["8003",a.VARIABLE_LENGTH,30],["8004",a.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",a.VARIABLE_LENGTH,30],["8008",a.VARIABLE_LENGTH,12],["8018",18],["8020",a.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",a.VARIABLE_LENGTH,70],["8200",a.VARIABLE_LENGTH,70]],a}(),dl=function(){function a(a){this.buffer=new bJ,this.information=a}return a.prototype.decodeAllCodes=function(a,b){for(var c=b,d=null;;){var e=this.decodeGeneralPurposeField(c,d),f=dk.parseFieldsInGeneralPurpose(e.getNewString());if(null!=f&&a.append(f),d=e.isRemaining()?""+e.getRemainingValue():null,c===e.getNewPosition())break;c=e.getNewPosition()}return a.toString()},a.prototype.isStillNumeric=function(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(var b=a;b<a+3;++b)if(this.information.get(b))return!0;return this.information.get(a+3)},a.prototype.decodeNumeric=function(a){if(a+7>this.information.getSize()){var b=this.extractNumericValueFromBitArray(a,4);return 0===b?new di(this.information.getSize(),di.FNC1,di.FNC1):new di(this.information.getSize(),b-1,di.FNC1)}var c=this.extractNumericValueFromBitArray(a,7);return new di(a+7,(c-8)/11,(c-8)%11)},a.prototype.extractNumericValueFromBitArray=function(b,c){return a.extractNumericValueFromBitArray(this.information,b,c)},a.extractNumericValueFromBitArray=function(a,b,c){for(var d=0,e=0;e<c;++e)a.get(b+e)&&(d|=1<<c-e-1);return d},a.prototype.decodeGeneralPurposeField=function(a,b){this.buffer.setLengthToZero(),null!=b&&this.buffer.append(b),this.current.setPosition(a);var c=this.parseBlocks();return null!=c&&c.isRemaining()?new dg(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new dg(this.current.getPosition(),this.buffer.toString())},a.prototype.parseBlocks=function(){do{var a,b,c=this.current.getPosition();if(a=this.current.isAlpha()?(b=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(b=this.parseIsoIec646Block()).isFinished():(b=this.parseNumericBlock()).isFinished(),c===this.current.getPosition()&&!a)break}while(!a)return b.getDecodedInformation()},a.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){var b=void 0;return new db(!0,b=a.isSecondDigitFNC1()?new dg(this.current.getPosition(),this.buffer.toString()):new dg(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()))}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){var b=new dg(this.current.getPosition(),this.buffer.toString());return new db(!0,b)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new db(!1)},a.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1())return new db(!0,new dg(this.current.getPosition(),this.buffer.toString()));this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new db(!1)},a.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1())return new db(!0,new dg(this.current.getPosition(),this.buffer.toString()));this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new db(!1)},a.prototype.isStillIsoIec646=function(a){if(a+5>this.information.getSize())return!1;var b=this.extractNumericValueFromBitArray(a,5);if(b>=5&&b<16)return!0;if(a+7>this.information.getSize())return!1;var c=this.extractNumericValueFromBitArray(a,7);if(c>=64&&c<116)return!0;if(a+8>this.information.getSize())return!1;var d=this.extractNumericValueFromBitArray(a,8);return d>=232&&d<253},a.prototype.decodeIsoIec646=function(a){var b,c=this.extractNumericValueFromBitArray(a,5);if(15===c)return new de(a+5,de.FNC1);if(c>=5&&c<15)return new de(a+5,"0"+(c-5));var d=this.extractNumericValueFromBitArray(a,7);if(d>=64&&d<90)return new de(a+7,""+(d+1));if(d>=90&&d<116)return new de(a+7,""+(d+7));switch(this.extractNumericValueFromBitArray(a,8)){case 232:b="!";break;case 233:b='"';break;case 234:b="%";break;case 235:b="&";break;case 236:b="'";break;case 237:b="(";break;case 238:b=")";break;case 239:b="*";break;case 240:b="+";break;case 241:b=",";break;case 242:b="-";break;case 243:b=".";break;case 244:b="/";break;case 245:b=":";break;case 246:b=";";break;case 247:b="<";break;case 248:b="=";break;case 249:b=">";break;case 250:b="?";break;case 251:b="_";break;case 252:b=" ";break;default:throw new bC}return new de(a+8,b)},a.prototype.isStillAlpha=function(a){if(a+5>this.information.getSize())return!1;var b=this.extractNumericValueFromBitArray(a,5);if(b>=5&&b<16)return!0;if(a+6>this.information.getSize())return!1;var c=this.extractNumericValueFromBitArray(a,6);return c>=16&&c<63},a.prototype.decodeAlphanumeric=function(a){var b,c=this.extractNumericValueFromBitArray(a,5);if(15===c)return new de(a+5,de.FNC1);if(c>=5&&c<15)return new de(a+5,"0"+(c-5));var d=this.extractNumericValueFromBitArray(a,6);if(d>=32&&d<58)return new de(a+6,""+(d+33));switch(d){case 58:b="*";break;case 59:b=",";break;case 60:b="-";break;case 61:b=".";break;case 62:b="/";break;default:throw new cc("Decoding invalid alphanumeric value: "+d)}return new de(a+6,b)},a.prototype.isAlphaTo646ToAlphaLatch=function(a){if(a+1>this.information.getSize())return!1;for(var b=0;b<5&&b+a<this.information.getSize();++b)if(2===b){if(!this.information.get(a+2))return!1}else if(this.information.get(a+b))return!1;return!0},a.prototype.isAlphaOr646ToNumericLatch=function(a){if(a+3>this.information.getSize())return!1;for(var b=a;b<a+3;++b)if(this.information.get(b))return!1;return!0},a.prototype.isNumericToAlphaNumericLatch=function(a){if(a+1>this.information.getSize())return!1;for(var b=0;b<4&&b+a<this.information.getSize();++b)if(this.information.get(a+b))return!1;return!0},a}(),dm=function(){function a(a){this.information=a,this.generalDecoder=new dl(a)}return a.prototype.getInformation=function(){return this.information},a.prototype.getGeneralDecoder=function(){return this.generalDecoder},a}(),dn=(S=function(a,b){return(S=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}S(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dp=function(a){function b(b){return a.call(this,b)||this}return dn(b,a),b.prototype.encodeCompressedGtin=function(a,b){a.append("(01)");var c=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,b,c)},b.prototype.encodeCompressedGtinWithoutAI=function(a,c,d){for(var e=0;e<4;++e){var f=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*e,10);f/100==0&&a.append("0"),f/10==0&&a.append("0"),a.append(f)}b.appendCheckDigit(a,d)},b.appendCheckDigit=function(a,b){for(var c=0,d=0;d<13;d++){var e=a.charAt(d+b).charCodeAt(0)-48;c+=(1&d)==0?3*e:e}10==(c=10-c%10)&&(c=0),a.append(c)},b.GTIN_SIZE=40,b}(dm),dq=(T=function(a,b){return(T=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}T(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dr=function(a){function b(b){return a.call(this,b)||this}return dq(b,a),b.prototype.parseInformation=function(){var a=new bJ;a.append("(01)");var c=a.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray(b.HEADER_SIZE,4);return a.append(d),this.encodeCompressedGtinWithoutAI(a,b.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(a,b.HEADER_SIZE+44)},b.HEADER_SIZE=4,b}(dp),ds=(U=function(a,b){return(U=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}U(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dt=function(a){function b(b){return a.call(this,b)||this}return ds(b,a),b.prototype.parseInformation=function(){var a=new bJ;return this.getGeneralDecoder().decodeAllCodes(a,b.HEADER_SIZE)},b.HEADER_SIZE=5,b}(dm),du=(V=function(a,b){return(V=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}V(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dv=function(a){function b(b){return a.call(this,b)||this}return du(b,a),b.prototype.encodeCompressedWeight=function(a,b,c){var d=this.getGeneralDecoder().extractNumericValueFromBitArray(b,c);this.addWeightCode(a,d);for(var e=this.checkWeight(d),f=1e5,g=0;g<5;++g)e/f==0&&a.append("0"),f/=10;a.append(e)},b}(dp),dw=(W=function(a,b){return(W=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}W(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dx=function(a){function b(b){return a.call(this,b)||this}return dw(b,a),b.prototype.parseInformation=function(){if(this.getInformation().getSize()!==b.HEADER_SIZE+dv.GTIN_SIZE+b.WEIGHT_SIZE)throw new bM;var a=new bJ;return this.encodeCompressedGtin(a,b.HEADER_SIZE),this.encodeCompressedWeight(a,b.HEADER_SIZE+dv.GTIN_SIZE,b.WEIGHT_SIZE),a.toString()},b.HEADER_SIZE=5,b.WEIGHT_SIZE=15,b}(dv),dy=(X=function(a,b){return(X=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}X(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dz=function(a){function b(b){return a.call(this,b)||this}return dy(b,a),b.prototype.addWeightCode=function(a,b){a.append("(3103)")},b.prototype.checkWeight=function(a){return a},b}(dx),dA=(Y=function(a,b){return(Y=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}Y(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dB=function(a){function b(b){return a.call(this,b)||this}return dA(b,a),b.prototype.addWeightCode=function(a,b){b<1e4?a.append("(3202)"):a.append("(3203)")},b.prototype.checkWeight=function(a){return a<1e4?a:a-1e4},b}(dx),dC=(Z=function(a,b){return(Z=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}Z(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dD=function(a){function b(b){return a.call(this,b)||this}return dC(b,a),b.prototype.parseInformation=function(){if(this.getInformation().getSize()<b.HEADER_SIZE+dp.GTIN_SIZE)throw new bM;var a=new bJ;this.encodeCompressedGtin(a,b.HEADER_SIZE);var c=this.getGeneralDecoder().extractNumericValueFromBitArray(b.HEADER_SIZE+dp.GTIN_SIZE,b.LAST_DIGIT_SIZE);a.append("(392"),a.append(c),a.append(")");var d=this.getGeneralDecoder().decodeGeneralPurposeField(b.HEADER_SIZE+dp.GTIN_SIZE+b.LAST_DIGIT_SIZE,null);return a.append(d.getNewString()),a.toString()},b.HEADER_SIZE=8,b.LAST_DIGIT_SIZE=2,b}(dp),dE=($=function(a,b){return($=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}$(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dF=function(a){function b(b){return a.call(this,b)||this}return dE(b,a),b.prototype.parseInformation=function(){if(this.getInformation().getSize()<b.HEADER_SIZE+dp.GTIN_SIZE)throw new bM;var a=new bJ;this.encodeCompressedGtin(a,b.HEADER_SIZE);var c=this.getGeneralDecoder().extractNumericValueFromBitArray(b.HEADER_SIZE+dp.GTIN_SIZE,b.LAST_DIGIT_SIZE);a.append("(393"),a.append(c),a.append(")");var d=this.getGeneralDecoder().extractNumericValueFromBitArray(b.HEADER_SIZE+dp.GTIN_SIZE+b.LAST_DIGIT_SIZE,b.FIRST_THREE_DIGITS_SIZE);d/100==0&&a.append("0"),d/10==0&&a.append("0"),a.append(d);var e=this.getGeneralDecoder().decodeGeneralPurposeField(b.HEADER_SIZE+dp.GTIN_SIZE+b.LAST_DIGIT_SIZE+b.FIRST_THREE_DIGITS_SIZE,null);return a.append(e.getNewString()),a.toString()},b.HEADER_SIZE=8,b.LAST_DIGIT_SIZE=2,b.FIRST_THREE_DIGITS_SIZE=10,b}(dp),dG=(_=function(a,b){return(_=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}_(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dH=function(a){function b(b,c,d){var e=a.call(this,b)||this;return e.dateCode=d,e.firstAIdigits=c,e}return dG(b,a),b.prototype.parseInformation=function(){if(this.getInformation().getSize()!==b.HEADER_SIZE+b.GTIN_SIZE+b.WEIGHT_SIZE+b.DATE_SIZE)throw new bM;var a=new bJ;return this.encodeCompressedGtin(a,b.HEADER_SIZE),this.encodeCompressedWeight(a,b.HEADER_SIZE+b.GTIN_SIZE,b.WEIGHT_SIZE),this.encodeCompressedDate(a,b.HEADER_SIZE+b.GTIN_SIZE+b.WEIGHT_SIZE),a.toString()},b.prototype.encodeCompressedDate=function(a,c){var d=this.getGeneralDecoder().extractNumericValueFromBitArray(c,b.DATE_SIZE);if(38400!==d){a.append("("),a.append(this.dateCode),a.append(")");var e=d%32,f=(d/=32)%12+1,g=d/=12;g/10==0&&a.append("0"),a.append(g),f/10==0&&a.append("0"),a.append(f),e/10==0&&a.append("0"),a.append(e)}},b.prototype.addWeightCode=function(a,b){a.append("("),a.append(this.firstAIdigits),a.append(b/1e5),a.append(")")},b.prototype.checkWeight=function(a){return a%1e5},b.HEADER_SIZE=8,b.WEIGHT_SIZE=20,b.DATE_SIZE=16,b}(dv),dI=function(){function a(a,b,c,d){this.leftchar=a,this.rightchar=b,this.finderpattern=c,this.maybeLast=d}return a.prototype.mayBeLast=function(){return this.maybeLast},a.prototype.getLeftChar=function(){return this.leftchar},a.prototype.getRightChar=function(){return this.rightchar},a.prototype.getFinderPattern=function(){return this.finderpattern},a.prototype.mustBeLast=function(){return null==this.rightchar},a.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},a.equals=function(b,c){return b instanceof a&&a.equalsOrNull(b.leftchar,c.leftchar)&&a.equalsOrNull(b.rightchar,c.rightchar)&&a.equalsOrNull(b.finderpattern,c.finderpattern)},a.equalsOrNull=function(b,c){return null===b?null===c:a.equals(b,c)},a.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},a}(),dJ=function(){function a(a,b,c){this.pairs=a,this.rowNumber=b,this.wasReversed=c}return a.prototype.getPairs=function(){return this.pairs},a.prototype.getRowNumber=function(){return this.rowNumber},a.prototype.isReversed=function(){return this.wasReversed},a.prototype.isEquivalent=function(a){return this.checkEqualitity(this,a)},a.prototype.toString=function(){return"{ "+this.pairs+" }"},a.prototype.equals=function(b,c){return b instanceof a&&this.checkEqualitity(b,c)&&b.wasReversed===c.wasReversed},a.prototype.checkEqualitity=function(a,b){var c;if(a&&b)return a.forEach(function(a,d){b.forEach(function(b){a.getLeftChar().getValue()===b.getLeftChar().getValue()&&a.getRightChar().getValue()===b.getRightChar().getValue()&&a.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(c=!0)})}),c},a}(),dK=(aa=function(a,b){return(aa=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aa(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dL=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},dM=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;return c.pairs=Array(b.MAX_PAIRS),c.rows=[],c.startEnd=[2],c}return dK(b,a),b.prototype.decodeRow=function(a,c,d){this.pairs.length=0,this.startFromEven=!1;try{return b.constructResult(this.decodeRow2pairs(a,c))}catch(a){}return this.pairs.length=0,this.startFromEven=!0,b.constructResult(this.decodeRow2pairs(a,c))},b.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},b.prototype.decodeRow2pairs=function(a,b){for(var c,d=!1;!d;)try{this.pairs.push(this.retrieveNextPair(b,this.pairs,a))}catch(a){if(a instanceof bM){if(!this.pairs.length)throw new bM;d=!0}}if(this.checkChecksum())return this.pairs;if(c=!!this.rows.length,this.storeRow(a,!1),c){var e=this.checkRowsBoolean(!1);if(null!=e||null!=(e=this.checkRowsBoolean(!0)))return e}throw new bM},b.prototype.checkRowsBoolean=function(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());var b=null;try{b=this.checkRows([],0)}catch(a){console.log(a)}return a&&(this.rows=this.rows.reverse()),b},b.prototype.checkRows=function(a,c){for(var d,e,f=c;f<this.rows.length;f++){var g=this.rows[f];this.pairs.length=0;try{for(var h=(d=void 0,dL(a)),i=h.next();!i.done;i=h.next()){var j=i.value;this.pairs.push(j.getPairs())}}catch(a){d={error:a}}finally{try{i&&!i.done&&(e=h.return)&&e.call(h)}finally{if(d)throw d.error}}if(this.pairs.push(g.getPairs()),b.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var k=Array(a);k.push(g);try{return this.checkRows(k,f+1)}catch(a){console.log(a)}}}throw new bM},b.isValidSequence=function(a){var c,d;try{for(var e=dL(b.FINDER_PATTERN_SEQUENCES),f=e.next();!f.done;f=e.next()){var g=f.value;if(!(a.length>g.length)){for(var h=!0,i=0;i<a.length;i++)if(a[i].getFinderPattern().getValue()!==g[i]){h=!1;break}if(h)return!0}}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}return!1},b.prototype.storeRow=function(a,c){for(var d=0,e=!1,f=!1;d<this.rows.length;){var g=this.rows[d];if(g.getRowNumber()>a){f=g.isEquivalent(this.pairs);break}e=g.isEquivalent(this.pairs),d++}f||e||b.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new dJ(this.pairs,a,c)),this.removePartialRows(this.pairs,this.rows))},b.prototype.removePartialRows=function(a,b){var c,d,e,f,g,h;try{for(var i=dL(b),j=i.next();!j.done;j=i.next()){var k=j.value;if(k.getPairs().length!==a.length)try{for(var l=(e=void 0,dL(k.getPairs())),m=l.next();!m.done;m=l.next()){var n=m.value;try{for(var o=(g=void 0,dL(a)),p=o.next();!p.done;p=o.next()){var q=p.value;if(dI.equals(n,q))break}}catch(a){g={error:a}}finally{try{p&&!p.done&&(h=o.return)&&h.call(o)}finally{if(g)throw g.error}}}}catch(a){e={error:a}}finally{try{m&&!m.done&&(f=l.return)&&f.call(l)}finally{if(e)throw e.error}}}}catch(a){c={error:a}}finally{try{j&&!j.done&&(d=i.return)&&d.call(i)}finally{if(c)throw c.error}}},b.isPartialRow=function(a,b){var c,d,e,f,g,h;try{for(var i=dL(b),j=i.next();!j.done;j=i.next()){var k=j.value,l=!0;try{for(var m=(e=void 0,dL(a)),n=m.next();!n.done;n=m.next()){var o=n.value,p=!1;try{for(var q=(g=void 0,dL(k.getPairs())),r=q.next();!r.done;r=q.next()){var s=r.value;if(o.equals(s)){p=!0;break}}}catch(a){g={error:a}}finally{try{r&&!r.done&&(h=q.return)&&h.call(q)}finally{if(g)throw g.error}}if(!p){l=!1;break}}}catch(a){e={error:a}}finally{try{n&&!n.done&&(f=m.return)&&f.call(m)}finally{if(e)throw e.error}}if(l)return!0}}catch(a){c={error:a}}finally{try{j&&!j.done&&(d=i.return)&&d.call(i)}finally{if(c)throw c.error}}return!1},b.prototype.getRows=function(){return this.rows},b.constructResult=function(a){var b=(function(a){try{if(a.get(1))return new dr(a);if(!a.get(2))return new dt(a);switch(dl.extractNumericValueFromBitArray(a,1,4)){case 4:return new dz(a);case 5:return new dB(a)}switch(dl.extractNumericValueFromBitArray(a,1,5)){case 12:return new dD(a);case 13:return new dF(a)}switch(dl.extractNumericValueFromBitArray(a,1,7)){case 56:return new dH(a,"310","11");case 57:return new dH(a,"320","11");case 58:return new dH(a,"310","13");case 59:return new dH(a,"320","13");case 60:return new dH(a,"310","15");case 61:return new dH(a,"320","15");case 62:return new dH(a,"310","17");case 63:return new dH(a,"320","17")}}catch(b){throw console.log(b),new cc("unknown decoder: "+a)}})(da.buildBitArray(a)).parseInformation(),c=a[0].getFinderPattern().getResultPoints(),d=a[a.length-1].getFinderPattern().getResultPoints();return new b_(b,null,null,[c[0],c[1],d[0],d[1]],b0.RSS_EXPANDED,null)},b.prototype.checkChecksum=function(){var a=this.pairs.get(0),b=a.getLeftChar(),c=a.getRightChar();if(null===c)return!1;for(var d=c.getChecksumPortion(),e=2,f=1;f<this.pairs.size();++f){var g=this.pairs.get(f);d+=g.getLeftChar().getChecksumPortion(),e++;var h=g.getRightChar();null!=h&&(d+=h.getChecksumPortion(),e++)}return 211*(e-4)+(d%=211)===b.getValue()},b.getNextSecondBar=function(a,b){var c;return a.get(b)?(c=a.getNextUnset(b),c=a.getNextSet(c)):(c=a.getNextSet(b),c=a.getNextUnset(c)),c},b.prototype.retrieveNextPair=function(a,c,d){var e,f,g=c.length%2==0;this.startFromEven&&(g=!g);var h=!0,i=-1;do this.findNextPair(a,c,i),null===(e=this.parseFoundFinderPattern(a,d,g))?i=b.getNextSecondBar(a,this.startEnd[0]):h=!1;while(h)var j=this.decodeDataCharacter(a,e,g,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new bM;try{f=this.decodeDataCharacter(a,e,g,!1)}catch(a){f=null,console.log(a)}return new dI(j,f,e,!0)},b.prototype.isEmptyPair=function(a){return 0===a.length},b.prototype.findNextPair=function(a,c,d){var e,f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;var g=a.getSize();e=d>=0?d:this.isEmptyPair(c)?0:c[c.length-1].getFinderPattern().getStartEnd()[1];var h=c.length%2!=0;this.startFromEven&&(h=!h);for(var i=!1;e<g&&(i=!a.get(e));)e++;for(var j=0,k=e,l=e;l<g;l++)if(a.get(l)!==i)f[j]++;else{if(3===j){if(h&&b.reverseCounters(f),b.isFinderPattern(f)){this.startEnd[0]=k,this.startEnd[1]=l;return}h&&b.reverseCounters(f),k+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,j--}else j++;f[j]=1,i=!i}throw new bM},b.reverseCounters=function(a){for(var b=a.length,c=0;c<b/2;++c){var d=a[c];a[c]=a[b-c-1],a[b-c-1]=d}},b.prototype.parseFoundFinderPattern=function(a,c,d){if(d){for(var e,f,g,h,i=this.startEnd[0]-1;i>=0&&!a.get(i);)i--;i++,e=this.startEnd[0]-i,f=i,g=this.startEnd[1]}else f=this.startEnd[0],e=(g=a.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var j=this.getDecodeFinderCounters();br.arraycopy(j,0,j,1,j.length-1),j[0]=e;try{h=this.parseFinderValue(j,b.FINDER_PATTERNS)}catch(a){return null}return new c7(h,[f,g],f,g,c)},b.prototype.decodeDataCharacter=function(a,c,d,e){for(var f=this.getDataCharacterCounters(),g=0;g<f.length;g++)f[g]=0;if(e)b.recordPatternInReverse(a,c.getStartEnd()[0],f);else{b.recordPattern(a,c.getStartEnd()[1],f);for(var h=0,i=f.length-1;h<i;h++,i--){var j=f[h];f[h]=f[i],f[i]=j}}var k=cf.sum(new Int32Array(f))/17,l=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(k-l)/l>.3)throw new bM;for(var m=this.getOddCounts(),n=this.getEvenCounts(),o=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors(),h=0;h<f.length;h++){var q=f[h]/k,r=q+.5;if(r<1){if(q<.3)throw new bM;r=1}else if(r>8){if(q>8.7)throw new bM;r=8}var s=h/2;(1&h)==0?(m[s]=r,o[s]=q-r):(n[s]=r,p[s]=q-r)}this.adjustOddEvenCounts(17);for(var t=4*c.getValue()+2*!d+ +!e-1,u=0,v=0,h=m.length-1;h>=0;h--){if(b.isNotA1left(c,d,e)){var w=b.WEIGHTS[t][2*h];v+=m[h]*w}u+=m[h]}for(var x=0,h=n.length-1;h>=0;h--)if(b.isNotA1left(c,d,e)){var w=b.WEIGHTS[t][2*h+1];x+=n[h]*w}var y=v+x;if((1&u)!=0||u>13||u<4)throw new bM;var z=(13-u)/2,A=b.SYMBOL_WIDEST[z],B=c9.getRSSvalue(m,A,!0),C=c9.getRSSvalue(n,9-A,!1);return new c6(B*b.EVEN_TOTAL_SUBSET[z]+C+b.GSUM[z],y)},b.isNotA1left=function(a,b,c){return!(0===a.getValue()&&b&&c)},b.prototype.adjustOddEvenCounts=function(a){var c=cf.sum(new Int32Array(this.getOddCounts())),d=cf.sum(new Int32Array(this.getEvenCounts())),e=!1,f=!1;c>13?f=!0:c<4&&(e=!0);var g=!1,h=!1;d>13?h=!0:d<4&&(g=!0);var i=c+d-a,j=(1&c)==1,k=(1&d)==0;if(1===i)if(j){if(k)throw new bM;f=!0}else{if(!k)throw new bM;h=!0}else if(-1===i)if(j){if(k)throw new bM;e=!0}else{if(!k)throw new bM;g=!0}else if(0===i){if(j){if(!k)throw new bM;c<d?(e=!0,h=!0):(f=!0,g=!0)}else if(k)throw new bM}else throw new bM;if(e){if(f)throw new bM;b.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&b.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(h)throw new bM;b.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&b.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},b.SYMBOL_WIDEST=[7,5,4,3,1],b.EVEN_TOTAL_SUBSET=[4,20,52,104,204],b.GSUM=[0,348,1388,2948,3988],b.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],b.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],b.FINDER_PAT_A=0,b.FINDER_PAT_B=1,b.FINDER_PAT_C=2,b.FINDER_PAT_D=3,b.FINDER_PAT_E=4,b.FINDER_PAT_F=5,b.FINDER_PATTERN_SEQUENCES=[[b.FINDER_PAT_A,b.FINDER_PAT_A],[b.FINDER_PAT_A,b.FINDER_PAT_B,b.FINDER_PAT_B],[b.FINDER_PAT_A,b.FINDER_PAT_C,b.FINDER_PAT_B,b.FINDER_PAT_D],[b.FINDER_PAT_A,b.FINDER_PAT_E,b.FINDER_PAT_B,b.FINDER_PAT_D,b.FINDER_PAT_C],[b.FINDER_PAT_A,b.FINDER_PAT_E,b.FINDER_PAT_B,b.FINDER_PAT_D,b.FINDER_PAT_D,b.FINDER_PAT_F],[b.FINDER_PAT_A,b.FINDER_PAT_E,b.FINDER_PAT_B,b.FINDER_PAT_D,b.FINDER_PAT_E,b.FINDER_PAT_F,b.FINDER_PAT_F],[b.FINDER_PAT_A,b.FINDER_PAT_A,b.FINDER_PAT_B,b.FINDER_PAT_B,b.FINDER_PAT_C,b.FINDER_PAT_C,b.FINDER_PAT_D,b.FINDER_PAT_D],[b.FINDER_PAT_A,b.FINDER_PAT_A,b.FINDER_PAT_B,b.FINDER_PAT_B,b.FINDER_PAT_C,b.FINDER_PAT_C,b.FINDER_PAT_D,b.FINDER_PAT_E,b.FINDER_PAT_E],[b.FINDER_PAT_A,b.FINDER_PAT_A,b.FINDER_PAT_B,b.FINDER_PAT_B,b.FINDER_PAT_C,b.FINDER_PAT_C,b.FINDER_PAT_D,b.FINDER_PAT_E,b.FINDER_PAT_F,b.FINDER_PAT_F],[b.FINDER_PAT_A,b.FINDER_PAT_A,b.FINDER_PAT_B,b.FINDER_PAT_B,b.FINDER_PAT_C,b.FINDER_PAT_D,b.FINDER_PAT_D,b.FINDER_PAT_E,b.FINDER_PAT_E,b.FINDER_PAT_F,b.FINDER_PAT_F]],b.MAX_PAIRS=11,b}(c5),dN=(ab=function(a,b){return(ab=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}ab(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dO=function(a){function b(b,c,d){var e=a.call(this,b,c)||this;return e.count=0,e.finderPattern=d,e}return dN(b,a),b.prototype.getFinderPattern=function(){return this.finderPattern},b.prototype.getCount=function(){return this.count},b.prototype.incrementCount=function(){this.count++},b}(c6),dP=(ac=function(a,b){return(ac=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}ac(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dQ=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},dR=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.possibleLeftPairs=[],b.possibleRightPairs=[],b}return dP(b,a),b.prototype.decodeRow=function(a,c,d){var e,f,g,h,i=this.decodePair(c,!1,a,d);b.addOrTally(this.possibleLeftPairs,i),c.reverse();var j=this.decodePair(c,!0,a,d);b.addOrTally(this.possibleRightPairs,j),c.reverse();try{for(var k=dQ(this.possibleLeftPairs),l=k.next();!l.done;l=k.next()){var m=l.value;if(m.getCount()>1)try{for(var n=(g=void 0,dQ(this.possibleRightPairs)),o=n.next();!o.done;o=n.next()){var p=o.value;if(p.getCount()>1&&b.checkChecksum(m,p))return b.constructResult(m,p)}}catch(a){g={error:a}}finally{try{o&&!o.done&&(h=n.return)&&h.call(n)}finally{if(g)throw g.error}}}}catch(a){e={error:a}}finally{try{l&&!l.done&&(f=k.return)&&f.call(k)}finally{if(e)throw e.error}}throw new bM},b.addOrTally=function(a,b){if(null!=b){var c,d,e=!1;try{for(var f=dQ(a),g=f.next();!g.done;g=f.next()){var h=g.value;if(h.getValue()===b.getValue()){h.incrementCount(),e=!0;break}}}catch(a){c={error:a}}finally{try{g&&!g.done&&(d=f.return)&&d.call(f)}finally{if(c)throw c.error}}e||a.push(b)}},b.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},b.constructResult=function(a,b){for(var c=new String(4537077*a.getValue()+b.getValue()).toString(),d=new bJ,e=13-c.length;e>0;e--)d.append("0");d.append(c);for(var f=0,e=0;e<13;e++){var g=d.charAt(e).charCodeAt(0)-48;f+=(1&e)==0?3*g:g}10==(f=10-f%10)&&(f=0),d.append(f.toString());var h=a.getFinderPattern().getResultPoints(),i=b.getFinderPattern().getResultPoints();return new b_(d.toString(),null,0,[h[0],h[1],i[0],i[1]],b0.RSS_14,new Date().getTime())},b.checkChecksum=function(a,b){var c=(a.getChecksumPortion()+16*b.getChecksumPortion())%79,d=9*a.getFinderPattern().getValue()+b.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,c===d},b.prototype.decodePair=function(a,b,c,d){try{var e=this.findFinderPattern(a,b),f=this.parseFoundFinderPattern(a,c,b,e),g=null==d?null:d.get(bA.NEED_RESULT_POINT_CALLBACK);if(null!=g){var h=(e[0]+e[1])/2;b&&(h=a.getSize()-1-h),g.foundPossibleResultPoint(new ch(h,c))}var i=this.decodeDataCharacter(a,f,!0),j=this.decodeDataCharacter(a,f,!1);return new dO(1597*i.getValue()+j.getValue(),i.getChecksumPortion()+4*j.getChecksumPortion(),f)}catch(a){return null}},b.prototype.decodeDataCharacter=function(a,c,d){for(var e=this.getDataCharacterCounters(),f=0;f<e.length;f++)e[f]=0;if(d)cu.recordPatternInReverse(a,c.getStartEnd()[0],e);else{cu.recordPattern(a,c.getStartEnd()[1]+1,e);for(var g=0,h=e.length-1;g<h;g++,h--){var i=e[g];e[g]=e[h],e[h]=i}}for(var j=d?16:15,k=cf.sum(new Int32Array(e))/j,l=this.getOddCounts(),m=this.getEvenCounts(),n=this.getOddRoundingErrors(),o=this.getEvenRoundingErrors(),g=0;g<e.length;g++){var p=e[g]/k,q=Math.floor(p+.5);q<1?q=1:q>8&&(q=8);var r=Math.floor(g/2);(1&g)==0?(l[r]=q,n[r]=p-q):(m[r]=q,o[r]=p-q)}this.adjustOddEvenCounts(d,j);for(var s=0,t=0,g=l.length-1;g>=0;g--)t*=9,t+=l[g],s+=l[g];for(var u=0,v=0,g=m.length-1;g>=0;g--)u*=9,u+=m[g],v+=m[g];var w=t+3*u;if(d){if((1&s)!=0||s>12||s<4)throw new bM;var x=(12-s)/2,y=b.OUTSIDE_ODD_WIDEST[x],z=9-y,A=c9.getRSSvalue(l,y,!1),B=c9.getRSSvalue(m,z,!0),C=b.OUTSIDE_EVEN_TOTAL_SUBSET[x],D=b.OUTSIDE_GSUM[x];return new c6(A*C+B+D,w)}if((1&v)!=0||v>10||v<4)throw new bM;var x=(10-v)/2,y=b.INSIDE_ODD_WIDEST[x],z=9-y,A=c9.getRSSvalue(l,y,!0),B=c9.getRSSvalue(m,z,!1),E=b.INSIDE_ODD_TOTAL_SUBSET[x],D=b.INSIDE_GSUM[x];return new c6(B*E+A+D,w)},b.prototype.findFinderPattern=function(a,b){var c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=a.getSize(),e=!1,f=0;f<d&&b!==(e=!a.get(f));)f++;for(var g=0,h=f,i=f;i<d;i++)if(a.get(i)!==e)c[g]++;else{if(3===g){if(c5.isFinderPattern(c))return[h,i];h+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,g--}else g++;c[g]=1,e=!e}throw new bM},b.prototype.parseFoundFinderPattern=function(a,c,d,e){for(var f=a.get(e[0]),g=e[0]-1;g>=0&&f!==a.get(g);)g--;g++;var h=e[0]-g,i=this.getDecodeFinderCounters(),j=new Int32Array(i.length);br.arraycopy(i,0,j,1,i.length-1),j[0]=h;var k=this.parseFinderValue(j,b.FINDER_PATTERNS),l=g,m=e[1];return d&&(l=a.getSize()-1-l,m=a.getSize()-1-m),new c7(k,[g,e[1]],l,m,c)},b.prototype.adjustOddEvenCounts=function(a,b){var c=cf.sum(new Int32Array(this.getOddCounts())),d=cf.sum(new Int32Array(this.getEvenCounts())),e=!1,f=!1,g=!1,h=!1;a?(c>12?f=!0:c<4&&(e=!0),d>12?h=!0:d<4&&(g=!0)):(c>11?f=!0:c<5&&(e=!0),d>10?h=!0:d<4&&(g=!0));var i=c+d-b,j=(1&c)==+!!a,k=(1&d)==1;if(1===i)if(j){if(k)throw new bM;f=!0}else{if(!k)throw new bM;h=!0}else if(-1===i)if(j){if(k)throw new bM;e=!0}else{if(!k)throw new bM;g=!0}else if(0===i){if(j){if(!k)throw new bM;c<d?(e=!0,h=!0):(f=!0,g=!0)}else if(k)throw new bM}else throw new bM;if(e){if(f)throw new bM;c5.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&c5.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(h)throw new bM;c5.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&c5.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},b.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],b.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],b.OUTSIDE_GSUM=[0,161,961,2015,2715],b.INSIDE_GSUM=[0,336,1036,1516],b.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],b.INSIDE_ODD_WIDEST=[2,4,6,8],b.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],b}(c5),dS=(ad=function(a,b){return(ad=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}ad(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),dT=function(a){function b(b){var c=a.call(this)||this;c.readers=[];var d=b?b.get(bA.POSSIBLE_FORMATS):null,e=b&&void 0!==b.get(bA.ASSUME_CODE_39_CHECK_DIGIT),f=b&&void 0!==b.get(bA.ENABLE_CODE_39_EXTENDED_MODE);return d&&((d.includes(b0.EAN_13)||d.includes(b0.UPC_A)||d.includes(b0.EAN_8)||d.includes(b0.UPC_E))&&c.readers.push(new c0(b)),d.includes(b0.CODE_39)&&c.readers.push(new cz(e,f)),d.includes(b0.CODE_93)&&c.readers.push(new cC),d.includes(b0.CODE_128)&&c.readers.push(new cw),d.includes(b0.ITF)&&c.readers.push(new cF),d.includes(b0.CODABAR)&&c.readers.push(new c2),d.includes(b0.RSS_14)&&c.readers.push(new dR),d.includes(b0.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),c.readers.push(new dM))),0===c.readers.length&&(c.readers.push(new c0(b)),c.readers.push(new cz),c.readers.push(new cC),c.readers.push(new c0(b)),c.readers.push(new cw),c.readers.push(new cF),c.readers.push(new dR)),c}return dS(b,a),b.prototype.decodeRow=function(a,b,c){for(var d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(a,b,c)}catch(a){}throw new bM},b.prototype.reset=function(){this.readers.forEach(function(a){return a.reset()})},b}(cu);(ae=function(a,b){return(ae=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}ae(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(function(a,b){return void 0===a&&(a=500),af.call(this,new dT(b),a,b)||this},af=b$);var dU=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},dV=function(){function a(a,b,c){this.ecCodewords=a,this.ecBlocks=[b],c&&this.ecBlocks.push(c)}return a.prototype.getECCodewords=function(){return this.ecCodewords},a.prototype.getECBlocks=function(){return this.ecBlocks},a}(),dW=function(){function a(a,b){this.count=a,this.dataCodewords=b}return a.prototype.getCount=function(){return this.count},a.prototype.getDataCodewords=function(){return this.dataCodewords},a}(),dX=function(){function a(a,b,c,d,e,f){this.versionNumber=a,this.symbolSizeRows=b,this.symbolSizeColumns=c,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=e,this.ecBlocks=f;var g,h,i=0,j=f.getECCodewords(),k=f.getECBlocks();try{for(var l=dU(k),m=l.next();!m.done;m=l.next()){var n=m.value;i+=n.getCount()*(n.getDataCodewords()+j)}}catch(a){g={error:a}}finally{try{m&&!m.done&&(h=l.return)&&h.call(l)}finally{if(g)throw g.error}}this.totalCodewords=i}return a.prototype.getVersionNumber=function(){return this.versionNumber},a.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},a.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},a.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},a.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},a.prototype.getTotalCodewords=function(){return this.totalCodewords},a.prototype.getECBlocks=function(){return this.ecBlocks},a.getVersionForDimensions=function(b,c){var d,e;if((1&b)!=0||(1&c)!=0)throw new bC;try{for(var f=dU(a.VERSIONS),g=f.next();!g.done;g=f.next()){var h=g.value;if(h.symbolSizeRows===b&&h.symbolSizeColumns===c)return h}}catch(a){d={error:a}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(d)throw d.error}}throw new bC},a.prototype.toString=function(){return""+this.versionNumber},a.buildVersions=function(){return[new a(1,10,10,8,8,new dV(5,new dW(1,3))),new a(2,12,12,10,10,new dV(7,new dW(1,5))),new a(3,14,14,12,12,new dV(10,new dW(1,8))),new a(4,16,16,14,14,new dV(12,new dW(1,12))),new a(5,18,18,16,16,new dV(14,new dW(1,18))),new a(6,20,20,18,18,new dV(18,new dW(1,22))),new a(7,22,22,20,20,new dV(20,new dW(1,30))),new a(8,24,24,22,22,new dV(24,new dW(1,36))),new a(9,26,26,24,24,new dV(28,new dW(1,44))),new a(10,32,32,14,14,new dV(36,new dW(1,62))),new a(11,36,36,16,16,new dV(42,new dW(1,86))),new a(12,40,40,18,18,new dV(48,new dW(1,114))),new a(13,44,44,20,20,new dV(56,new dW(1,144))),new a(14,48,48,22,22,new dV(68,new dW(1,174))),new a(15,52,52,24,24,new dV(42,new dW(2,102))),new a(16,64,64,14,14,new dV(56,new dW(2,140))),new a(17,72,72,16,16,new dV(36,new dW(4,92))),new a(18,80,80,18,18,new dV(48,new dW(4,114))),new a(19,88,88,20,20,new dV(56,new dW(4,144))),new a(20,96,96,22,22,new dV(68,new dW(4,174))),new a(21,104,104,24,24,new dV(56,new dW(6,136))),new a(22,120,120,18,18,new dV(68,new dW(6,175))),new a(23,132,132,20,20,new dV(62,new dW(8,163))),new a(24,144,144,22,22,new dV(62,new dW(8,156),new dW(2,155))),new a(25,8,18,6,16,new dV(7,new dW(1,5))),new a(26,8,32,6,14,new dV(11,new dW(1,10))),new a(27,12,26,10,24,new dV(14,new dW(1,16))),new a(28,12,36,10,16,new dV(18,new dW(1,22))),new a(29,16,36,14,16,new dV(24,new dW(1,32))),new a(30,16,48,14,22,new dV(28,new dW(1,49)))]},a.VERSIONS=a.buildVersions(),a}(),dY=function(){function a(b){var c=b.getHeight();if(c<8||c>144||(1&c)!=0)throw new bC;this.version=a.readVersion(b),this.mappingBitMatrix=this.extractDataRegion(b),this.readMappingMatrix=new bK(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return a.prototype.getVersion=function(){return this.version},a.readVersion=function(a){var b=a.getHeight(),c=a.getWidth();return dX.getVersionForDimensions(b,c)},a.prototype.readCodewords=function(){var a=new Int8Array(this.version.getTotalCodewords()),b=0,c=4,d=0,e=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth(),g=!1,h=!1,i=!1,j=!1;do if(c!==e||0!==d||g)if(c!==e-2||0!==d||(3&f)==0||h)if(c!==e+4||2!==d||(7&f)!=0||i)if(c!==e-2||0!==d||(7&f)!=4||j){do c<e&&d>=0&&!this.readMappingMatrix.get(d,c)&&(a[b++]=255&this.readUtah(c,d,e,f)),c-=2,d+=2;while(c>=0&&d<f)c+=1,d+=3;do c>=0&&d<f&&!this.readMappingMatrix.get(d,c)&&(a[b++]=255&this.readUtah(c,d,e,f)),c+=2,d-=2;while(c<e&&d>=0)c+=3,d+=1}else a[b++]=255&this.readCorner4(e,f),c-=2,d+=2,j=!0;else a[b++]=255&this.readCorner3(e,f),c-=2,d+=2,i=!0;else a[b++]=255&this.readCorner2(e,f),c-=2,d+=2,h=!0;else a[b++]=255&this.readCorner1(e,f),c-=2,d+=2,g=!0;while(c<e||d<f)if(b!==this.version.getTotalCodewords())throw new bC;return a},a.prototype.readModule=function(a,b,c,d){return a<0&&(a+=c,b+=4-(c+4&7)),b<0&&(b+=d,a+=4-(d+4&7)),this.readMappingMatrix.set(b,a),this.mappingBitMatrix.get(b,a)},a.prototype.readUtah=function(a,b,c,d){var e=0;return this.readModule(a-2,b-2,c,d)&&(e|=1),e<<=1,this.readModule(a-2,b-1,c,d)&&(e|=1),e<<=1,this.readModule(a-1,b-2,c,d)&&(e|=1),e<<=1,this.readModule(a-1,b-1,c,d)&&(e|=1),e<<=1,this.readModule(a-1,b,c,d)&&(e|=1),e<<=1,this.readModule(a,b-2,c,d)&&(e|=1),e<<=1,this.readModule(a,b-1,c,d)&&(e|=1),e<<=1,this.readModule(a,b,c,d)&&(e|=1),e},a.prototype.readCorner1=function(a,b){var c=0;return this.readModule(a-1,0,a,b)&&(c|=1),c<<=1,this.readModule(a-1,1,a,b)&&(c|=1),c<<=1,this.readModule(a-1,2,a,b)&&(c|=1),c<<=1,this.readModule(0,b-2,a,b)&&(c|=1),c<<=1,this.readModule(0,b-1,a,b)&&(c|=1),c<<=1,this.readModule(1,b-1,a,b)&&(c|=1),c<<=1,this.readModule(2,b-1,a,b)&&(c|=1),c<<=1,this.readModule(3,b-1,a,b)&&(c|=1),c},a.prototype.readCorner2=function(a,b){var c=0;return this.readModule(a-3,0,a,b)&&(c|=1),c<<=1,this.readModule(a-2,0,a,b)&&(c|=1),c<<=1,this.readModule(a-1,0,a,b)&&(c|=1),c<<=1,this.readModule(0,b-4,a,b)&&(c|=1),c<<=1,this.readModule(0,b-3,a,b)&&(c|=1),c<<=1,this.readModule(0,b-2,a,b)&&(c|=1),c<<=1,this.readModule(0,b-1,a,b)&&(c|=1),c<<=1,this.readModule(1,b-1,a,b)&&(c|=1),c},a.prototype.readCorner3=function(a,b){var c=0;return this.readModule(a-1,0,a,b)&&(c|=1),c<<=1,this.readModule(a-1,b-1,a,b)&&(c|=1),c<<=1,this.readModule(0,b-3,a,b)&&(c|=1),c<<=1,this.readModule(0,b-2,a,b)&&(c|=1),c<<=1,this.readModule(0,b-1,a,b)&&(c|=1),c<<=1,this.readModule(1,b-3,a,b)&&(c|=1),c<<=1,this.readModule(1,b-2,a,b)&&(c|=1),c<<=1,this.readModule(1,b-1,a,b)&&(c|=1),c},a.prototype.readCorner4=function(a,b){var c=0;return this.readModule(a-3,0,a,b)&&(c|=1),c<<=1,this.readModule(a-2,0,a,b)&&(c|=1),c<<=1,this.readModule(a-1,0,a,b)&&(c|=1),c<<=1,this.readModule(0,b-2,a,b)&&(c|=1),c<<=1,this.readModule(0,b-1,a,b)&&(c|=1),c<<=1,this.readModule(1,b-1,a,b)&&(c|=1),c<<=1,this.readModule(2,b-1,a,b)&&(c|=1),c<<=1,this.readModule(3,b-1,a,b)&&(c|=1),c},a.prototype.extractDataRegion=function(a){var b=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(a.getHeight()!==b)throw new bm("Dimension of bitMatrix must match the version size");for(var d=this.version.getDataRegionSizeRows(),e=this.version.getDataRegionSizeColumns(),f=b/d|0,g=c/e|0,h=new bK(g*e,f*d),i=0;i<f;++i)for(var j=i*d,k=0;k<g;++k)for(var l=k*e,m=0;m<d;++m)for(var n=i*(d+2)+1+m,o=j+m,p=0;p<e;++p){var q=k*(e+2)+1+p;if(a.get(q,n)){var r=l+p;h.set(r,o)}}return h},a}(),dZ=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},d$=function(){function a(a,b){this.numDataCodewords=a,this.codewords=b}return a.getDataBlocks=function(b,c){var d,e,f,g,h=c.getECBlocks(),i=0,j=h.getECBlocks();try{for(var k=dZ(j),l=k.next();!l.done;l=k.next()){var m=l.value;i+=m.getCount()}}catch(a){d={error:a}}finally{try{l&&!l.done&&(e=k.return)&&e.call(k)}finally{if(d)throw d.error}}var n=Array(i),o=0;try{for(var p=dZ(j),q=p.next();!q.done;q=p.next())for(var m=q.value,r=0;r<m.getCount();r++){var s=m.getDataCodewords(),t=h.getECCodewords()+s;n[o++]=new a(s,new Uint8Array(t))}}catch(a){f={error:a}}finally{try{q&&!q.done&&(g=p.return)&&g.call(p)}finally{if(f)throw f.error}}for(var u=n[0].codewords.length-h.getECCodewords(),v=u-1,w=0,r=0;r<v;r++)for(var x=0;x<o;x++)n[x].codewords[r]=b[w++];for(var y=24===c.getVersionNumber(),z=y?8:o,x=0;x<z;x++)n[x].codewords[u-1]=b[w++];for(var A=n[0].codewords.length,r=u;r<A;r++)for(var x=0;x<o;x++){var B=y?(x+8)%o:x,C=y&&B>7?r-1:r;n[B].codewords[C]=b[w++]}if(w!==b.length)throw new bm;return n},a.prototype.getNumDataCodewords=function(){return this.numDataCodewords},a.prototype.getCodewords=function(){return this.codewords},a}(),d_=function(){function a(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}return a.prototype.getBitOffset=function(){return this.bitOffset},a.prototype.getByteOffset=function(){return this.byteOffset},a.prototype.readBits=function(a){if(a<1||a>32||a>this.available())throw new bm(""+a);var b=0,c=this.bitOffset,d=this.byteOffset,e=this.bytes;if(c>0){var f=8-c,g=a<f?a:f,h=f-g,i=255>>8-g<<h;b=(e[d]&i)>>h,a-=g,8===(c+=g)&&(c=0,d++)}if(a>0){for(;a>=8;)b=b<<8|255&e[d],d++,a-=8;if(a>0){var h=8-a,i=255>>h<<h;b=b<<a|(e[d]&i)>>h,c+=a}}return this.bitOffset=c,this.byteOffset=d,b},a.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},a}();(ag=a2||(a2={}))[ag.PAD_ENCODE=0]="PAD_ENCODE",ag[ag.ASCII_ENCODE=1]="ASCII_ENCODE",ag[ag.C40_ENCODE=2]="C40_ENCODE",ag[ag.TEXT_ENCODE=3]="TEXT_ENCODE",ag[ag.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ag[ag.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ag[ag.BASE256_ENCODE=6]="BASE256_ENCODE";var d0=function(){function a(){}return a.decode=function(a){var b=new d_(a),c=new bJ,d=new bJ,e=[],f=a2.ASCII_ENCODE;do if(f===a2.ASCII_ENCODE)f=this.decodeAsciiSegment(b,c,d);else{switch(f){case a2.C40_ENCODE:this.decodeC40Segment(b,c);break;case a2.TEXT_ENCODE:this.decodeTextSegment(b,c);break;case a2.ANSIX12_ENCODE:this.decodeAnsiX12Segment(b,c);break;case a2.EDIFACT_ENCODE:this.decodeEdifactSegment(b,c);break;case a2.BASE256_ENCODE:this.decodeBase256Segment(b,c,e);break;default:throw new bC}f=a2.ASCII_ENCODE}while(f!==a2.PAD_ENCODE&&b.available()>0)return d.length()>0&&c.append(d.toString()),new b2(a,c.toString(),0===e.length?null:e,null)},a.decodeAsciiSegment=function(a,b,c){var d=!1;do{var e=a.readBits(8);if(0===e)throw new bC;if(e<=128){d&&(e+=128),b.append(String.fromCharCode(e-1));break}if(129===e)return a2.PAD_ENCODE;else if(e<=229){var f=e-130;f<10&&b.append("0"),b.append(""+f)}else switch(e){case 230:return a2.C40_ENCODE;case 231:return a2.BASE256_ENCODE;case 232:b.append("\x1d");break;case 233:case 234:case 241:break;case 235:d=!0;break;case 236:b.append("[)>\x1e05\x1d"),c.insert(0,"\x1e\x04");break;case 237:b.append("[)>\x1e06\x1d"),c.insert(0,"\x1e\x04");break;case 238:return a2.ANSIX12_ENCODE;case 239:return a2.TEXT_ENCODE;case 240:return a2.EDIFACT_ENCODE;default:if(254!==e||0!==a.available())throw new bC}}while(a.available()>0)return a2.ASCII_ENCODE},a.decodeC40Segment=function(a,b){var c=!1,d=[],e=0;do{if(8===a.available())return;var f=a.readBits(8);if(254===f)return;this.parseTwoBytes(f,a.readBits(8),d);for(var g=0;g<3;g++){var h=d[g];switch(e){case 0:if(h<3)e=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){var i=this.C40_BASIC_SET_CHARS[h];c?(b.append(String.fromCharCode(i.charCodeAt(0)+128)),c=!1):b.append(i)}else throw new bC;break;case 1:c?(b.append(String.fromCharCode(h+128)),c=!1):b.append(String.fromCharCode(h)),e=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){var i=this.C40_SHIFT2_SET_CHARS[h];c?(b.append(String.fromCharCode(i.charCodeAt(0)+128)),c=!1):b.append(i)}else switch(h){case 27:b.append("\x1d");break;case 30:c=!0;break;default:throw new bC}e=0;break;case 3:c?(b.append(String.fromCharCode(h+224)),c=!1):b.append(String.fromCharCode(h+96)),e=0;break;default:throw new bC}}}while(a.available()>0)},a.decodeTextSegment=function(a,b){var c=!1,d=[],e=0;do{if(8===a.available())return;var f=a.readBits(8);if(254===f)return;this.parseTwoBytes(f,a.readBits(8),d);for(var g=0;g<3;g++){var h=d[g];switch(e){case 0:if(h<3)e=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){var i=this.TEXT_BASIC_SET_CHARS[h];c?(b.append(String.fromCharCode(i.charCodeAt(0)+128)),c=!1):b.append(i)}else throw new bC;break;case 1:c?(b.append(String.fromCharCode(h+128)),c=!1):b.append(String.fromCharCode(h)),e=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){var i=this.TEXT_SHIFT2_SET_CHARS[h];c?(b.append(String.fromCharCode(i.charCodeAt(0)+128)),c=!1):b.append(i)}else switch(h){case 27:b.append("\x1d");break;case 30:c=!0;break;default:throw new bC}e=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){var i=this.TEXT_SHIFT3_SET_CHARS[h];c?(b.append(String.fromCharCode(i.charCodeAt(0)+128)),c=!1):b.append(i),e=0}else throw new bC;break;default:throw new bC}}}while(a.available()>0)},a.decodeAnsiX12Segment=function(a,b){var c=[];do{if(8===a.available())return;var d=a.readBits(8);if(254===d)return;this.parseTwoBytes(d,a.readBits(8),c);for(var e=0;e<3;e++){var f=c[e];switch(f){case 0:b.append("\r");break;case 1:b.append("*");break;case 2:b.append(">");break;case 3:b.append(" ");break;default:if(f<14)b.append(String.fromCharCode(f+44));else if(f<40)b.append(String.fromCharCode(f+51));else throw new bC}}}while(a.available()>0)},a.parseTwoBytes=function(a,b,c){var d=(a<<8)+b-1,e=Math.floor(d/1600);c[0]=e,d-=1600*e,e=Math.floor(d/40),c[1]=e,c[2]=d-40*e},a.decodeEdifactSegment=function(a,b){do{if(16>=a.available())return;for(var c=0;c<4;c++){var d=a.readBits(6);if(31===d){var e=8-a.getBitOffset();8!==e&&a.readBits(e);return}(32&d)==0&&(d|=64),b.append(String.fromCharCode(d))}}while(a.available()>0)},a.decodeBase256Segment=function(a,b,c){var d,e=1+a.getByteOffset(),f=this.unrandomize255State(a.readBits(8),e++);if((d=0===f?a.available()/8|0:f<250?f:250*(f-249)+this.unrandomize255State(a.readBits(8),e++))<0)throw new bC;for(var g=new Uint8Array(d),h=0;h<d;h++){if(8>a.available())throw new bC;g[h]=this.unrandomize255State(a.readBits(8),e++)}c.push(g);try{b.append(bH.decode(g,bI.ISO88591))}catch(a){throw new cc("Platform does not support required encoding: "+a.message)}},a.unrandomize255State=function(a,b){var c=a-(149*b%255+1);return c>=0?c:c+256},a.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],a.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a.TEXT_SHIFT2_SET_CHARS=a.C40_SHIFT2_SET_CHARS,a.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],a}(),d1=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},d2=function(){function a(){this.rsDecoder=new cd(b8.DATA_MATRIX_FIELD_256)}return a.prototype.decode=function(a){var b,c,d=new dY(a),e=d.getVersion(),f=d.readCodewords(),g=d$.getDataBlocks(f,e),h=0;try{for(var i=d1(g),j=i.next();!j.done;j=i.next()){var k=j.value;h+=k.getNumDataCodewords()}}catch(a){b={error:a}}finally{try{j&&!j.done&&(c=i.return)&&c.call(i)}finally{if(b)throw b.error}}for(var l=new Uint8Array(h),m=g.length,n=0;n<m;n++){var o=g[n],p=o.getCodewords(),q=o.getNumDataCodewords();this.correctErrors(p,q);for(var r=0;r<q;r++)l[r*m+n]=p[r]}return d0.decode(l)},a.prototype.correctErrors=function(a,b){var c=new Int32Array(a);try{this.rsDecoder.decode(c,a.length-b)}catch(a){throw new bp}for(var d=0;d<b;d++)a[d]=c[d]},a}(),d3=function(){function a(a){this.image=a,this.rectangleDetector=new cl(this.image)}return a.prototype.detect=function(){var b=this.rectangleDetector.detect(),c=this.detectSolid1(b);if((c=this.detectSolid2(c))[3]=this.correctTopRight(c),!c[3])throw new bM;var d=(c=this.shiftToModuleCenter(c))[0],e=c[1],f=c[2],g=c[3],h=this.transitionsBetween(d,g)+1,i=this.transitionsBetween(f,g)+1;return(1&h)==1&&(h+=1),(1&i)==1&&(i+=1),4*h<7*i&&4*i<7*h&&(h=i=Math.max(h,i)),new ci(a.sampleGrid(this.image,d,e,f,g,h,i),[d,e,f,g])},a.shiftPoint=function(a,b,c){var d=(b.getX()-a.getX())/(c+1),e=(b.getY()-a.getY())/(c+1);return new ch(a.getX()+d,a.getY()+e)},a.moveAway=function(a,b,c){var d=a.getX(),e=a.getY();return d<b?d-=1:d+=1,e<c?e-=1:e+=1,new ch(d,e)},a.prototype.detectSolid1=function(a){var b=a[0],c=a[1],d=a[3],e=a[2],f=this.transitionsBetween(b,c),g=this.transitionsBetween(c,d),h=this.transitionsBetween(d,e),i=this.transitionsBetween(e,b),j=f,k=[e,b,c,d];return j>g&&(j=g,k[0]=b,k[1]=c,k[2]=d,k[3]=e),j>h&&(j=h,k[0]=c,k[1]=d,k[2]=e,k[3]=b),j>i&&(k[0]=d,k[1]=e,k[2]=b,k[3]=c),k},a.prototype.detectSolid2=function(b){var c=b[0],d=b[1],e=b[2],f=b[3],g=this.transitionsBetween(c,f),h=a.shiftPoint(d,e,(g+1)*4),i=a.shiftPoint(e,d,(g+1)*4);return this.transitionsBetween(h,c)<this.transitionsBetween(i,f)?(b[0]=c,b[1]=d,b[2]=e,b[3]=f):(b[0]=d,b[1]=e,b[2]=f,b[3]=c),b},a.prototype.correctTopRight=function(b){var c=b[0],d=b[1],e=b[2],f=b[3],g=this.transitionsBetween(c,f),h=this.transitionsBetween(d,f),i=a.shiftPoint(c,d,(h+1)*4),j=a.shiftPoint(e,d,(g+1)*4);g=this.transitionsBetween(i,f),h=this.transitionsBetween(j,f);var k=new ch(f.getX()+(e.getX()-d.getX())/(g+1),f.getY()+(e.getY()-d.getY())/(g+1)),l=new ch(f.getX()+(c.getX()-d.getX())/(h+1),f.getY()+(c.getY()-d.getY())/(h+1));return this.isValid(k)?this.isValid(l)?this.transitionsBetween(i,k)+this.transitionsBetween(j,k)>this.transitionsBetween(i,l)+this.transitionsBetween(j,l)?k:l:k:this.isValid(l)?l:null},a.prototype.shiftToModuleCenter=function(b){var c,d,e=b[0],f=b[1],g=b[2],h=b[3],i=this.transitionsBetween(e,h)+1,j=this.transitionsBetween(g,h)+1,k=a.shiftPoint(e,f,4*j),l=a.shiftPoint(g,f,4*i);i=this.transitionsBetween(k,h)+1,j=this.transitionsBetween(l,h)+1,(1&i)==1&&(i+=1),(1&j)==1&&(j+=1);var m=(e.getX()+f.getX()+g.getX()+h.getX())/4,n=(e.getY()+f.getY()+g.getY()+h.getY())/4;return e=a.moveAway(e,m,n),f=a.moveAway(f,m,n),g=a.moveAway(g,m,n),h=a.moveAway(h,m,n),k=a.shiftPoint(e,f,4*j),k=a.shiftPoint(k,h,4*i),c=a.shiftPoint(f,e,4*j),c=a.shiftPoint(c,g,4*i),l=a.shiftPoint(g,h,4*j),l=a.shiftPoint(l,f,4*i),d=a.shiftPoint(h,g,4*j),[k,c,l,d=a.shiftPoint(d,e,4*i)]},a.prototype.isValid=function(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()},a.sampleGrid=function(a,b,c,d,e,f,g){return cq.getInstance().sampleGrid(a,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,b.getX(),b.getY(),e.getX(),e.getY(),d.getX(),d.getY(),c.getX(),c.getY())},a.prototype.transitionsBetween=function(a,b){var c=Math.trunc(a.getX()),d=Math.trunc(a.getY()),e=Math.trunc(b.getX()),f=Math.trunc(b.getY()),g=Math.abs(f-d)>Math.abs(e-c);if(g){var h=c;c=d,d=h,h=e,e=f,f=h}for(var i=Math.abs(e-c),j=Math.abs(f-d),k=-i/2,l=d<f?1:-1,m=c<e?1:-1,n=0,o=this.image.get(g?d:c,g?c:d),p=c,q=d;p!==e;p+=m){var r=this.image.get(g?q:p,g?p:q);if(r!==o&&(n++,o=r),(k+=j)>0){if(q===f)break;q+=l,k-=i}}return n},a}(),d4=function(){function a(){this.decoder=new d2}return a.prototype.decode=function(b,c){if(void 0===c&&(c=null),null!=c&&c.has(bA.PURE_BARCODE)){var d,e,f=a.extractPureBits(b.getBlackMatrix());d=this.decoder.decode(f),e=a.NO_POINTS}else{var g=new d3(b.getBlackMatrix()).detect();d=this.decoder.decode(g.getBits()),e=g.getPoints()}var h=d.getRawBytes(),i=new b_(d.getText(),h,8*h.length,e,b0.DATA_MATRIX,br.currentTimeMillis()),j=d.getByteSegments();null!=j&&i.putMetadata(b1.BYTE_SEGMENTS,j);var k=d.getECLevel();return null!=k&&i.putMetadata(b1.ERROR_CORRECTION_LEVEL,k),i},a.prototype.reset=function(){},a.extractPureBits=function(a){var b=a.getTopLeftOnBit(),c=a.getBottomRightOnBit();if(null==b||null==c)throw new bM;var d=this.moduleSize(b,a),e=b[1],f=c[1],g=b[0],h=(c[0]-g+1)/d,i=(f-e+1)/d;if(h<=0||i<=0)throw new bM;var j=d/2;e+=j,g+=j;for(var k=new bK(h,i),l=0;l<i;l++)for(var m=e+l*d,n=0;n<h;n++)a.get(g+n*d,m)&&k.set(n,l);return k},a.moduleSize=function(a,b){for(var c=b.getWidth(),d=a[0],e=a[1];d<c&&b.get(d,e);)d++;if(d===c)throw new bM;var f=d-a[0];if(0===f)throw new bM;return f},a.NO_POINTS=[],a}();(ah=function(a,b){return(ah=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}ah(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(function(a){return void 0===a&&(a=500),ai.call(this,new d4,a)||this},ai=b$),(aj=a3||(a3={}))[aj.L=0]="L",aj[aj.M=1]="M",aj[aj.Q=2]="Q",aj[aj.H=3]="H";var d5=function(){function a(b,c,d){this.value=b,this.stringValue=c,this.bits=d,a.FOR_BITS.set(d,this),a.FOR_VALUE.set(b,this)}return a.prototype.getValue=function(){return this.value},a.prototype.getBits=function(){return this.bits},a.fromString=function(b){switch(b){case"L":return a.L;case"M":return a.M;case"Q":return a.Q;case"H":return a.H;default:throw new bk(b+"not available")}},a.prototype.toString=function(){return this.stringValue},a.prototype.equals=function(b){return b instanceof a&&this.value===b.value},a.forBits=function(b){if(b<0||b>=a.FOR_BITS.size)throw new bm;return a.FOR_BITS.get(b)},a.FOR_BITS=new Map,a.FOR_VALUE=new Map,a.L=new a(a3.L,"L",1),a.M=new a(a3.M,"M",0),a.Q=new a(a3.Q,"Q",3),a.H=new a(a3.H,"H",2),a}(),d6=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},d7=function(){function a(a){this.errorCorrectionLevel=d5.forBits(a>>3&3),this.dataMask=7&a}return a.numBitsDiffering=function(a,b){return by.bitCount(a^b)},a.decodeFormatInformation=function(b,c){var d=a.doDecodeFormatInformation(b,c);return null!==d?d:a.doDecodeFormatInformation(b^a.FORMAT_INFO_MASK_QR,c^a.FORMAT_INFO_MASK_QR)},a.doDecodeFormatInformation=function(b,c){var d,e,f=Number.MAX_SAFE_INTEGER,g=0;try{for(var h=d6(a.FORMAT_INFO_DECODE_LOOKUP),i=h.next();!i.done;i=h.next()){var j=i.value,k=j[0];if(k===b||k===c)return new a(j[1]);var l=a.numBitsDiffering(b,k);l<f&&(g=j[1],f=l),b!==c&&(l=a.numBitsDiffering(c,k))<f&&(g=j[1],f=l)}}catch(a){d={error:a}}finally{try{i&&!i.done&&(e=h.return)&&e.call(h)}finally{if(d)throw d.error}}return f<=3?new a(g):null},a.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},a.prototype.getDataMask=function(){return this.dataMask},a.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},a.prototype.equals=function(b){return b instanceof a&&this.errorCorrectionLevel===b.errorCorrectionLevel&&this.dataMask===b.dataMask},a.FORMAT_INFO_MASK_QR=21522,a.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],a}(),d8=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},d9=function(){function a(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];this.ecCodewordsPerBlock=a,this.ecBlocks=b}return a.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},a.prototype.getNumBlocks=function(){var a,b,c=0,d=this.ecBlocks;try{for(var e=d8(d),f=e.next();!f.done;f=e.next()){var g=f.value;c+=g.getCount()}}catch(b){a={error:b}}finally{try{f&&!f.done&&(b=e.return)&&b.call(e)}finally{if(a)throw a.error}}return c},a.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},a.prototype.getECBlocks=function(){return this.ecBlocks},a}(),ea=function(){function a(a,b){this.count=a,this.dataCodewords=b}return a.prototype.getCount=function(){return this.count},a.prototype.getDataCodewords=function(){return this.dataCodewords},a}(),eb=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},ec=function(){function a(a,b){for(var c,d,e=[],f=2;f<arguments.length;f++)e[f-2]=arguments[f];this.versionNumber=a,this.alignmentPatternCenters=b,this.ecBlocks=e;var g=0,h=e[0].getECCodewordsPerBlock(),i=e[0].getECBlocks();try{for(var j=eb(i),k=j.next();!k.done;k=j.next()){var l=k.value;g+=l.getCount()*(l.getDataCodewords()+h)}}catch(a){c={error:a}}finally{try{k&&!k.done&&(d=j.return)&&d.call(j)}finally{if(c)throw c.error}}this.totalCodewords=g}return a.prototype.getVersionNumber=function(){return this.versionNumber},a.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},a.prototype.getTotalCodewords=function(){return this.totalCodewords},a.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},a.prototype.getECBlocksForLevel=function(a){return this.ecBlocks[a.getValue()]},a.getProvisionalVersionForDimension=function(a){if(a%4!=1)throw new bC;try{return this.getVersionForNumber((a-17)/4)}catch(a){throw new bC}},a.getVersionForNumber=function(b){if(b<1||b>40)throw new bm;return a.VERSIONS[b-1]},a.decodeVersionInformation=function(b){for(var c=Number.MAX_SAFE_INTEGER,d=0,e=0;e<a.VERSION_DECODE_INFO.length;e++){var f=a.VERSION_DECODE_INFO[e];if(f===b)return a.getVersionForNumber(e+7);var g=d7.numBitsDiffering(b,f);g<c&&(d=e+7,c=g)}return c<=3?a.getVersionForNumber(d):null},a.prototype.buildFunctionPattern=function(){var a=this.getDimensionForVersion(),b=new bK(a);b.setRegion(0,0,9,9),b.setRegion(a-8,0,8,9),b.setRegion(0,a-8,9,8);for(var c=this.alignmentPatternCenters.length,d=0;d<c;d++)for(var e=this.alignmentPatternCenters[d]-2,f=0;f<c;f++)(0!==d||0!==f&&f!==c-1)&&(d!==c-1||0!==f)&&b.setRegion(this.alignmentPatternCenters[f]-2,e,5,5);return b.setRegion(6,9,1,a-17),b.setRegion(9,6,a-17,1),this.versionNumber>6&&(b.setRegion(a-11,0,3,6),b.setRegion(0,a-11,6,3)),b},a.prototype.toString=function(){return""+this.versionNumber},a.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),a.VERSIONS=[new a(1,new Int32Array(0),new d9(7,new ea(1,19)),new d9(10,new ea(1,16)),new d9(13,new ea(1,13)),new d9(17,new ea(1,9))),new a(2,Int32Array.from([6,18]),new d9(10,new ea(1,34)),new d9(16,new ea(1,28)),new d9(22,new ea(1,22)),new d9(28,new ea(1,16))),new a(3,Int32Array.from([6,22]),new d9(15,new ea(1,55)),new d9(26,new ea(1,44)),new d9(18,new ea(2,17)),new d9(22,new ea(2,13))),new a(4,Int32Array.from([6,26]),new d9(20,new ea(1,80)),new d9(18,new ea(2,32)),new d9(26,new ea(2,24)),new d9(16,new ea(4,9))),new a(5,Int32Array.from([6,30]),new d9(26,new ea(1,108)),new d9(24,new ea(2,43)),new d9(18,new ea(2,15),new ea(2,16)),new d9(22,new ea(2,11),new ea(2,12))),new a(6,Int32Array.from([6,34]),new d9(18,new ea(2,68)),new d9(16,new ea(4,27)),new d9(24,new ea(4,19)),new d9(28,new ea(4,15))),new a(7,Int32Array.from([6,22,38]),new d9(20,new ea(2,78)),new d9(18,new ea(4,31)),new d9(18,new ea(2,14),new ea(4,15)),new d9(26,new ea(4,13),new ea(1,14))),new a(8,Int32Array.from([6,24,42]),new d9(24,new ea(2,97)),new d9(22,new ea(2,38),new ea(2,39)),new d9(22,new ea(4,18),new ea(2,19)),new d9(26,new ea(4,14),new ea(2,15))),new a(9,Int32Array.from([6,26,46]),new d9(30,new ea(2,116)),new d9(22,new ea(3,36),new ea(2,37)),new d9(20,new ea(4,16),new ea(4,17)),new d9(24,new ea(4,12),new ea(4,13))),new a(10,Int32Array.from([6,28,50]),new d9(18,new ea(2,68),new ea(2,69)),new d9(26,new ea(4,43),new ea(1,44)),new d9(24,new ea(6,19),new ea(2,20)),new d9(28,new ea(6,15),new ea(2,16))),new a(11,Int32Array.from([6,30,54]),new d9(20,new ea(4,81)),new d9(30,new ea(1,50),new ea(4,51)),new d9(28,new ea(4,22),new ea(4,23)),new d9(24,new ea(3,12),new ea(8,13))),new a(12,Int32Array.from([6,32,58]),new d9(24,new ea(2,92),new ea(2,93)),new d9(22,new ea(6,36),new ea(2,37)),new d9(26,new ea(4,20),new ea(6,21)),new d9(28,new ea(7,14),new ea(4,15))),new a(13,Int32Array.from([6,34,62]),new d9(26,new ea(4,107)),new d9(22,new ea(8,37),new ea(1,38)),new d9(24,new ea(8,20),new ea(4,21)),new d9(22,new ea(12,11),new ea(4,12))),new a(14,Int32Array.from([6,26,46,66]),new d9(30,new ea(3,115),new ea(1,116)),new d9(24,new ea(4,40),new ea(5,41)),new d9(20,new ea(11,16),new ea(5,17)),new d9(24,new ea(11,12),new ea(5,13))),new a(15,Int32Array.from([6,26,48,70]),new d9(22,new ea(5,87),new ea(1,88)),new d9(24,new ea(5,41),new ea(5,42)),new d9(30,new ea(5,24),new ea(7,25)),new d9(24,new ea(11,12),new ea(7,13))),new a(16,Int32Array.from([6,26,50,74]),new d9(24,new ea(5,98),new ea(1,99)),new d9(28,new ea(7,45),new ea(3,46)),new d9(24,new ea(15,19),new ea(2,20)),new d9(30,new ea(3,15),new ea(13,16))),new a(17,Int32Array.from([6,30,54,78]),new d9(28,new ea(1,107),new ea(5,108)),new d9(28,new ea(10,46),new ea(1,47)),new d9(28,new ea(1,22),new ea(15,23)),new d9(28,new ea(2,14),new ea(17,15))),new a(18,Int32Array.from([6,30,56,82]),new d9(30,new ea(5,120),new ea(1,121)),new d9(26,new ea(9,43),new ea(4,44)),new d9(28,new ea(17,22),new ea(1,23)),new d9(28,new ea(2,14),new ea(19,15))),new a(19,Int32Array.from([6,30,58,86]),new d9(28,new ea(3,113),new ea(4,114)),new d9(26,new ea(3,44),new ea(11,45)),new d9(26,new ea(17,21),new ea(4,22)),new d9(26,new ea(9,13),new ea(16,14))),new a(20,Int32Array.from([6,34,62,90]),new d9(28,new ea(3,107),new ea(5,108)),new d9(26,new ea(3,41),new ea(13,42)),new d9(30,new ea(15,24),new ea(5,25)),new d9(28,new ea(15,15),new ea(10,16))),new a(21,Int32Array.from([6,28,50,72,94]),new d9(28,new ea(4,116),new ea(4,117)),new d9(26,new ea(17,42)),new d9(28,new ea(17,22),new ea(6,23)),new d9(30,new ea(19,16),new ea(6,17))),new a(22,Int32Array.from([6,26,50,74,98]),new d9(28,new ea(2,111),new ea(7,112)),new d9(28,new ea(17,46)),new d9(30,new ea(7,24),new ea(16,25)),new d9(24,new ea(34,13))),new a(23,Int32Array.from([6,30,54,78,102]),new d9(30,new ea(4,121),new ea(5,122)),new d9(28,new ea(4,47),new ea(14,48)),new d9(30,new ea(11,24),new ea(14,25)),new d9(30,new ea(16,15),new ea(14,16))),new a(24,Int32Array.from([6,28,54,80,106]),new d9(30,new ea(6,117),new ea(4,118)),new d9(28,new ea(6,45),new ea(14,46)),new d9(30,new ea(11,24),new ea(16,25)),new d9(30,new ea(30,16),new ea(2,17))),new a(25,Int32Array.from([6,32,58,84,110]),new d9(26,new ea(8,106),new ea(4,107)),new d9(28,new ea(8,47),new ea(13,48)),new d9(30,new ea(7,24),new ea(22,25)),new d9(30,new ea(22,15),new ea(13,16))),new a(26,Int32Array.from([6,30,58,86,114]),new d9(28,new ea(10,114),new ea(2,115)),new d9(28,new ea(19,46),new ea(4,47)),new d9(28,new ea(28,22),new ea(6,23)),new d9(30,new ea(33,16),new ea(4,17))),new a(27,Int32Array.from([6,34,62,90,118]),new d9(30,new ea(8,122),new ea(4,123)),new d9(28,new ea(22,45),new ea(3,46)),new d9(30,new ea(8,23),new ea(26,24)),new d9(30,new ea(12,15),new ea(28,16))),new a(28,Int32Array.from([6,26,50,74,98,122]),new d9(30,new ea(3,117),new ea(10,118)),new d9(28,new ea(3,45),new ea(23,46)),new d9(30,new ea(4,24),new ea(31,25)),new d9(30,new ea(11,15),new ea(31,16))),new a(29,Int32Array.from([6,30,54,78,102,126]),new d9(30,new ea(7,116),new ea(7,117)),new d9(28,new ea(21,45),new ea(7,46)),new d9(30,new ea(1,23),new ea(37,24)),new d9(30,new ea(19,15),new ea(26,16))),new a(30,Int32Array.from([6,26,52,78,104,130]),new d9(30,new ea(5,115),new ea(10,116)),new d9(28,new ea(19,47),new ea(10,48)),new d9(30,new ea(15,24),new ea(25,25)),new d9(30,new ea(23,15),new ea(25,16))),new a(31,Int32Array.from([6,30,56,82,108,134]),new d9(30,new ea(13,115),new ea(3,116)),new d9(28,new ea(2,46),new ea(29,47)),new d9(30,new ea(42,24),new ea(1,25)),new d9(30,new ea(23,15),new ea(28,16))),new a(32,Int32Array.from([6,34,60,86,112,138]),new d9(30,new ea(17,115)),new d9(28,new ea(10,46),new ea(23,47)),new d9(30,new ea(10,24),new ea(35,25)),new d9(30,new ea(19,15),new ea(35,16))),new a(33,Int32Array.from([6,30,58,86,114,142]),new d9(30,new ea(17,115),new ea(1,116)),new d9(28,new ea(14,46),new ea(21,47)),new d9(30,new ea(29,24),new ea(19,25)),new d9(30,new ea(11,15),new ea(46,16))),new a(34,Int32Array.from([6,34,62,90,118,146]),new d9(30,new ea(13,115),new ea(6,116)),new d9(28,new ea(14,46),new ea(23,47)),new d9(30,new ea(44,24),new ea(7,25)),new d9(30,new ea(59,16),new ea(1,17))),new a(35,Int32Array.from([6,30,54,78,102,126,150]),new d9(30,new ea(12,121),new ea(7,122)),new d9(28,new ea(12,47),new ea(26,48)),new d9(30,new ea(39,24),new ea(14,25)),new d9(30,new ea(22,15),new ea(41,16))),new a(36,Int32Array.from([6,24,50,76,102,128,154]),new d9(30,new ea(6,121),new ea(14,122)),new d9(28,new ea(6,47),new ea(34,48)),new d9(30,new ea(46,24),new ea(10,25)),new d9(30,new ea(2,15),new ea(64,16))),new a(37,Int32Array.from([6,28,54,80,106,132,158]),new d9(30,new ea(17,122),new ea(4,123)),new d9(28,new ea(29,46),new ea(14,47)),new d9(30,new ea(49,24),new ea(10,25)),new d9(30,new ea(24,15),new ea(46,16))),new a(38,Int32Array.from([6,32,58,84,110,136,162]),new d9(30,new ea(4,122),new ea(18,123)),new d9(28,new ea(13,46),new ea(32,47)),new d9(30,new ea(48,24),new ea(14,25)),new d9(30,new ea(42,15),new ea(32,16))),new a(39,Int32Array.from([6,26,54,82,110,138,166]),new d9(30,new ea(20,117),new ea(4,118)),new d9(28,new ea(40,47),new ea(7,48)),new d9(30,new ea(43,24),new ea(22,25)),new d9(30,new ea(10,15),new ea(67,16))),new a(40,Int32Array.from([6,30,58,86,114,142,170]),new d9(30,new ea(19,118),new ea(6,119)),new d9(28,new ea(18,47),new ea(31,48)),new d9(30,new ea(34,24),new ea(34,25)),new d9(30,new ea(20,15),new ea(61,16)))],a}();(ak=a4||(a4={}))[ak.DATA_MASK_000=0]="DATA_MASK_000",ak[ak.DATA_MASK_001=1]="DATA_MASK_001",ak[ak.DATA_MASK_010=2]="DATA_MASK_010",ak[ak.DATA_MASK_011=3]="DATA_MASK_011",ak[ak.DATA_MASK_100=4]="DATA_MASK_100",ak[ak.DATA_MASK_101=5]="DATA_MASK_101",ak[ak.DATA_MASK_110=6]="DATA_MASK_110",ak[ak.DATA_MASK_111=7]="DATA_MASK_111";var ed=function(){function a(a,b){this.value=a,this.isMasked=b}return a.prototype.unmaskBitMatrix=function(a,b){for(var c=0;c<b;c++)for(var d=0;d<b;d++)this.isMasked(c,d)&&a.flip(d,c)},a.values=new Map([[a4.DATA_MASK_000,new a(a4.DATA_MASK_000,function(a,b){return(a+b&1)==0})],[a4.DATA_MASK_001,new a(a4.DATA_MASK_001,function(a,b){return(1&a)==0})],[a4.DATA_MASK_010,new a(a4.DATA_MASK_010,function(a,b){return b%3==0})],[a4.DATA_MASK_011,new a(a4.DATA_MASK_011,function(a,b){return(a+b)%3==0})],[a4.DATA_MASK_100,new a(a4.DATA_MASK_100,function(a,b){return(Math.floor(a/2)+Math.floor(b/3)&1)==0})],[a4.DATA_MASK_101,new a(a4.DATA_MASK_101,function(a,b){return a*b%6==0})],[a4.DATA_MASK_110,new a(a4.DATA_MASK_110,function(a,b){return a*b%6<3})],[a4.DATA_MASK_111,new a(a4.DATA_MASK_111,function(a,b){return(a+b+a*b%3&1)==0})]]),a}(),ee=function(){function a(a){var b=a.getHeight();if(b<21||(3&b)!=1)throw new bC;this.bitMatrix=a}return a.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var a=0,b=0;b<6;b++)a=this.copyBit(b,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(var c=5;c>=0;c--)a=this.copyBit(8,c,a);for(var d=this.bitMatrix.getHeight(),e=0,f=d-7,c=d-1;c>=f;c--)e=this.copyBit(8,c,e);for(var b=d-8;b<d;b++)e=this.copyBit(b,8,e);if(this.parsedFormatInfo=d7.decodeFormatInformation(a,e),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new bC},a.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var a=this.bitMatrix.getHeight(),b=Math.floor((a-17)/4);if(b<=6)return ec.getVersionForNumber(b);for(var c=0,d=a-11,e=5;e>=0;e--)for(var f=a-9;f>=d;f--)c=this.copyBit(f,e,c);var g=ec.decodeVersionInformation(c);if(null!==g&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;c=0;for(var f=5;f>=0;f--)for(var e=a-9;e>=d;e--)c=this.copyBit(f,e,c);if(null!==(g=ec.decodeVersionInformation(c))&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;throw new bC},a.prototype.copyBit=function(a,b,c){return(this.isMirror?this.bitMatrix.get(b,a):this.bitMatrix.get(a,b))?c<<1|1:c<<1},a.prototype.readCodewords=function(){var a=this.readFormatInformation(),b=this.readVersion(),c=ed.values.get(a.getDataMask()),d=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,d);for(var e=b.buildFunctionPattern(),f=!0,g=new Uint8Array(b.getTotalCodewords()),h=0,i=0,j=0,k=d-1;k>0;k-=2){6===k&&k--;for(var l=0;l<d;l++)for(var m=f?d-1-l:l,n=0;n<2;n++)e.get(k-n,m)||(j++,i<<=1,this.bitMatrix.get(k-n,m)&&(i|=1),8===j&&(g[h++]=i,j=0,i=0));f=!f}if(h!==b.getTotalCodewords())throw new bC;return g},a.prototype.remask=function(){if(null!==this.parsedFormatInfo){var a=ed.values.get(this.parsedFormatInfo.getDataMask()),b=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,b)}},a.prototype.setMirror=function(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a},a.prototype.mirror=function(){for(var a=this.bitMatrix,b=0,c=a.getWidth();b<c;b++)for(var d=b+1,e=a.getHeight();d<e;d++)a.get(b,d)!==a.get(d,b)&&(a.flip(d,b),a.flip(b,d))},a}(),ef=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eg=function(){function a(a,b){this.numDataCodewords=a,this.codewords=b}return a.getDataBlocks=function(b,c,d){if(b.length!==c.getTotalCodewords())throw new bm;var e,f,g,h,i=c.getECBlocksForLevel(d),j=0,k=i.getECBlocks();try{for(var l=ef(k),m=l.next();!m.done;m=l.next()){var n=m.value;j+=n.getCount()}}catch(a){e={error:a}}finally{try{m&&!m.done&&(f=l.return)&&f.call(l)}finally{if(e)throw e.error}}var o=Array(j),p=0;try{for(var q=ef(k),r=q.next();!r.done;r=q.next())for(var n=r.value,s=0;s<n.getCount();s++){var t=n.getDataCodewords(),u=i.getECCodewordsPerBlock()+t;o[p++]=new a(t,new Uint8Array(u))}}catch(a){g={error:a}}finally{try{r&&!r.done&&(h=q.return)&&h.call(q)}finally{if(g)throw g.error}}for(var v=o[0].codewords.length,w=o.length-1;w>=0&&o[w].codewords.length!==v;)w--;w++;for(var x=v-i.getECCodewordsPerBlock(),y=0,s=0;s<x;s++)for(var z=0;z<p;z++)o[z].codewords[s]=b[y++];for(var z=w;z<p;z++)o[z].codewords[x]=b[y++];for(var A=o[0].codewords.length,s=x;s<A;s++)for(var z=0;z<p;z++){var B=z<w?s:s+1;o[z].codewords[B]=b[y++]}return o},a.prototype.getNumDataCodewords=function(){return this.numDataCodewords},a.prototype.getCodewords=function(){return this.codewords},a}();(al=a5||(a5={}))[al.TERMINATOR=0]="TERMINATOR",al[al.NUMERIC=1]="NUMERIC",al[al.ALPHANUMERIC=2]="ALPHANUMERIC",al[al.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",al[al.BYTE=4]="BYTE",al[al.ECI=5]="ECI",al[al.KANJI=6]="KANJI",al[al.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",al[al.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",al[al.HANZI=9]="HANZI";var eh=function(){function a(b,c,d,e){this.value=b,this.stringValue=c,this.characterCountBitsForVersions=d,this.bits=e,a.FOR_BITS.set(e,this),a.FOR_VALUE.set(b,this)}return a.forBits=function(b){var c=a.FOR_BITS.get(b);if(void 0===c)throw new bm;return c},a.prototype.getCharacterCountBits=function(a){var b,c=a.getVersionNumber();return b=c<=9?0:c<=26?1:2,this.characterCountBitsForVersions[b]},a.prototype.getValue=function(){return this.value},a.prototype.getBits=function(){return this.bits},a.prototype.equals=function(b){return b instanceof a&&this.value===b.value},a.prototype.toString=function(){return this.stringValue},a.FOR_BITS=new Map,a.FOR_VALUE=new Map,a.TERMINATOR=new a(a5.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),a.NUMERIC=new a(a5.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),a.ALPHANUMERIC=new a(a5.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),a.STRUCTURED_APPEND=new a(a5.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),a.BYTE=new a(a5.BYTE,"BYTE",Int32Array.from([8,16,16]),4),a.ECI=new a(a5.ECI,"ECI",Int32Array.from([0,0,0]),7),a.KANJI=new a(a5.KANJI,"KANJI",Int32Array.from([8,10,12]),8),a.FNC1_FIRST_POSITION=new a(a5.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),a.FNC1_SECOND_POSITION=new a(a5.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),a.HANZI=new a(a5.HANZI,"HANZI",Int32Array.from([8,10,12]),13),a}(),ei=function(){function a(){}return a.decode=function(b,c,d,e){var f=new d_(b),g=new bJ,h=[],i=-1,j=-1;try{var k=null,l=!1,m=void 0;do{if(4>f.available())m=eh.TERMINATOR;else{var n=f.readBits(4);m=eh.forBits(n)}switch(m){case eh.TERMINATOR:break;case eh.FNC1_FIRST_POSITION:case eh.FNC1_SECOND_POSITION:l=!0;break;case eh.STRUCTURED_APPEND:if(16>f.available())throw new bC;i=f.readBits(8),j=f.readBits(8);break;case eh.ECI:var o=a.parseECIValue(f);if(k=bE.getCharacterSetECIByValue(o),null===k)throw new bC;break;case eh.HANZI:var p=f.readBits(4),q=f.readBits(m.getCharacterCountBits(c));p===a.GB2312_SUBSET&&a.decodeHanziSegment(f,g,q);break;default:var r=f.readBits(m.getCharacterCountBits(c));switch(m){case eh.NUMERIC:a.decodeNumericSegment(f,g,r);break;case eh.ALPHANUMERIC:a.decodeAlphanumericSegment(f,g,r,l);break;case eh.BYTE:a.decodeByteSegment(f,g,r,k,h,e);break;case eh.KANJI:a.decodeKanjiSegment(f,g,r);break;default:throw new bC}}}while(m!==eh.TERMINATOR)}catch(a){throw new bC}return new b2(b,g.toString(),0===h.length?null:h,null===d?null:d.toString(),i,j)},a.decodeHanziSegment=function(a,b,c){if(13*c>a.available())throw new bC;for(var d=new Uint8Array(2*c),e=0;c>0;){var f=a.readBits(13),g=f/96<<8|f%96;g<959?g+=41377:g+=42657,d[e]=g>>8&255,d[e+1]=255&g,e+=2,c--}try{b.append(bH.decode(d,bI.GB2312))}catch(a){throw new bC(a)}},a.decodeKanjiSegment=function(a,b,c){if(13*c>a.available())throw new bC;for(var d=new Uint8Array(2*c),e=0;c>0;){var f=a.readBits(13),g=f/192<<8|f%192;g<7936?g+=33088:g+=49472,d[e]=g>>8,d[e+1]=g,e+=2,c--}try{b.append(bH.decode(d,bI.SHIFT_JIS))}catch(a){throw new bC(a)}},a.decodeByteSegment=function(a,b,c,d,e,f){if(8*c>a.available())throw new bC;for(var g,h=new Uint8Array(c),i=0;i<c;i++)h[i]=a.readBits(8);g=null===d?bI.guessEncoding(h,f):d.getName();try{b.append(bH.decode(h,g))}catch(a){throw new bC(a)}e.push(h)},a.toAlphaNumericChar=function(b){if(b>=a.ALPHANUMERIC_CHARS.length)throw new bC;return a.ALPHANUMERIC_CHARS[b]},a.decodeAlphanumericSegment=function(b,c,d,e){for(var f=c.length();d>1;){if(11>b.available())throw new bC;var g=b.readBits(11);c.append(a.toAlphaNumericChar(Math.floor(g/45))),c.append(a.toAlphaNumericChar(g%45)),d-=2}if(1===d){if(6>b.available())throw new bC;c.append(a.toAlphaNumericChar(b.readBits(6)))}if(e)for(var h=f;h<c.length();h++)"%"===c.charAt(h)&&(h<c.length()-1&&"%"===c.charAt(h+1)?c.deleteCharAt(h+1):c.setCharAt(h,"\x1d"))},a.decodeNumericSegment=function(b,c,d){for(;d>=3;){if(10>b.available())throw new bC;var e=b.readBits(10);if(e>=1e3)throw new bC;c.append(a.toAlphaNumericChar(Math.floor(e/100))),c.append(a.toAlphaNumericChar(Math.floor(e/10)%10)),c.append(a.toAlphaNumericChar(e%10)),d-=3}if(2===d){if(7>b.available())throw new bC;var f=b.readBits(7);if(f>=100)throw new bC;c.append(a.toAlphaNumericChar(Math.floor(f/10))),c.append(a.toAlphaNumericChar(f%10))}else if(1===d){if(4>b.available())throw new bC;var g=b.readBits(4);if(g>=10)throw new bC;c.append(a.toAlphaNumericChar(g))}},a.parseECIValue=function(a){var b=a.readBits(8);if((128&b)==0)return 127&b;if((192&b)==128)return(63&b)<<8|a.readBits(8);if((224&b)==192)return(31&b)<<16|a.readBits(16);throw new bC},a.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",a.GB2312_SUBSET=1,a}(),ej=function(){function a(a){this.mirrored=a}return a.prototype.isMirrored=function(){return this.mirrored},a.prototype.applyMirroredCorrection=function(a){if(this.mirrored&&null!==a&&!(a.length<3)){var b=a[0];a[0]=a[2],a[2]=b}},a}(),ek=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},el=function(){function a(){this.rsDecoder=new cd(b8.QR_CODE_FIELD_256)}return a.prototype.decodeBooleanArray=function(a,b){return this.decodeBitMatrix(bK.parseFromBooleanArray(a),b)},a.prototype.decodeBitMatrix=function(a,b){var c=new ee(a),d=null;try{return this.decodeBitMatrixParser(c,b)}catch(a){d=a}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();var e=this.decodeBitMatrixParser(c,b);return e.setOther(new ej(!0)),e}catch(a){if(null!==d)throw d;throw a}},a.prototype.decodeBitMatrixParser=function(a,b){var c,d,e,f,g=a.readVersion(),h=a.readFormatInformation().getErrorCorrectionLevel(),i=a.readCodewords(),j=eg.getDataBlocks(i,g,h),k=0;try{for(var l=ek(j),m=l.next();!m.done;m=l.next()){var n=m.value;k+=n.getNumDataCodewords()}}catch(a){c={error:a}}finally{try{m&&!m.done&&(d=l.return)&&d.call(l)}finally{if(c)throw c.error}}var o=new Uint8Array(k),p=0;try{for(var q=ek(j),r=q.next();!r.done;r=q.next()){var n=r.value,s=n.getCodewords(),t=n.getNumDataCodewords();this.correctErrors(s,t);for(var u=0;u<t;u++)o[p++]=s[u]}}catch(a){e={error:a}}finally{try{r&&!r.done&&(f=q.return)&&f.call(q)}finally{if(e)throw e.error}}return ei.decode(o,g,h,b)},a.prototype.correctErrors=function(a,b){var c=new Int32Array(a);try{this.rsDecoder.decode(c,a.length-b)}catch(a){throw new bp}for(var d=0;d<b;d++)a[d]=c[d]},a}(),em=(am=function(a,b){return(am=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}am(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),en=function(a){function b(b,c,d){var e=a.call(this,b,c)||this;return e.estimatedModuleSize=d,e}return em(b,a),b.prototype.aboutEquals=function(a,b,c){if(Math.abs(b-this.getY())<=a&&Math.abs(c-this.getX())<=a){var d=Math.abs(a-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1},b.prototype.combineEstimate=function(a,c,d){return new b((this.getX()+c)/2,(this.getY()+a)/2,(this.estimatedModuleSize+d)/2)},b}(ch),eo=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},ep=function(){function a(a,b,c,d,e,f,g){this.image=a,this.startX=b,this.startY=c,this.width=d,this.height=e,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return a.prototype.find=function(){for(var a=this.startX,b=this.height,c=a+this.width,d=this.startY+b/2,e=new Int32Array(3),f=this.image,g=0;g<b;g++){var h=d+((1&g)==0?Math.floor((g+1)/2):-Math.floor((g+1)/2));e[0]=0,e[1]=0,e[2]=0;for(var i=a;i<c&&!f.get(i,h);)i++;for(var j=0;i<c;){if(f.get(i,h))if(1===j)e[1]++;else if(2===j){if(this.foundPatternCross(e)){var k=this.handlePossibleCenter(e,h,i);if(null!==k)return k}e[0]=e[2],e[1]=1,e[2]=0,j=1}else e[++j]++;else 1===j&&j++,e[j]++;i++}if(this.foundPatternCross(e)){var k=this.handlePossibleCenter(e,h,c);if(null!==k)return k}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new bM},a.centerFromEnd=function(a,b){return b-a[2]-a[1]/2},a.prototype.foundPatternCross=function(a){for(var b=this.moduleSize,c=b/2,d=0;d<3;d++)if(Math.abs(b-a[d])>=c)return!1;return!0},a.prototype.crossCheckVertical=function(b,c,d,e){var f=this.image,g=f.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;for(var i=b;i>=0&&f.get(c,i)&&h[1]<=d;)h[1]++,i--;if(i<0||h[1]>d)return NaN;for(;i>=0&&!f.get(c,i)&&h[0]<=d;)h[0]++,i--;if(h[0]>d)return NaN;for(i=b+1;i<g&&f.get(c,i)&&h[1]<=d;)h[1]++,i++;if(i===g||h[1]>d)return NaN;for(;i<g&&!f.get(c,i)&&h[2]<=d;)h[2]++,i++;return h[2]>d||5*Math.abs(h[0]+h[1]+h[2]-e)>=2*e?NaN:this.foundPatternCross(h)?a.centerFromEnd(h,i):NaN},a.prototype.handlePossibleCenter=function(b,c,d){var e,f,g=b[0]+b[1]+b[2],h=a.centerFromEnd(b,d),i=this.crossCheckVertical(c,h,2*b[1],g);if(!isNaN(i)){var j=(b[0]+b[1]+b[2])/3;try{for(var k=eo(this.possibleCenters),l=k.next();!l.done;l=k.next()){var m=l.value;if(m.aboutEquals(j,i,h))return m.combineEstimate(i,h,j)}}catch(a){e={error:a}}finally{try{l&&!l.done&&(f=k.return)&&f.call(k)}finally{if(e)throw e.error}}var n=new en(h,i,j);this.possibleCenters.push(n),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(n)}return null},a}(),eq=(an=function(a,b){return(an=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}an(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),er=function(a){function b(b,c,d,e){var f=a.call(this,b,c)||this;return f.estimatedModuleSize=d,f.count=e,void 0===e&&(f.count=1),f}return eq(b,a),b.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},b.prototype.getCount=function(){return this.count},b.prototype.aboutEquals=function(a,b,c){if(Math.abs(b-this.getY())<=a&&Math.abs(c-this.getX())<=a){var d=Math.abs(a-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1},b.prototype.combineEstimate=function(a,c,d){var e=this.count+1;return new b((this.count*this.getX()+c)/e,(this.count*this.getY()+a)/e,(this.count*this.estimatedModuleSize+d)/e,e)},b}(ch),es=function(){function a(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}return a.prototype.getBottomLeft=function(){return this.bottomLeft},a.prototype.getTopLeft=function(){return this.topLeft},a.prototype.getTopRight=function(){return this.topRight},a}(),et=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eu=function(){function a(a,b){this.image=a,this.resultPointCallback=b,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=b}return a.prototype.getImage=function(){return this.image},a.prototype.getPossibleCenters=function(){return this.possibleCenters},a.prototype.find=function(b){var c=null!=b&&void 0!==b.get(bA.TRY_HARDER),d=null!=b&&void 0!==b.get(bA.PURE_BARCODE),e=this.image,f=e.getHeight(),g=e.getWidth(),h=Math.floor(3*f/(4*a.MAX_MODULES));(h<a.MIN_SKIP||c)&&(h=a.MIN_SKIP);for(var i=!1,j=new Int32Array(5),k=h-1;k<f&&!i;k+=h){j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0;for(var l=0,m=0;m<g;m++)if(e.get(m,k))(1&l)==1&&l++,j[l]++;else if((1&l)==0)if(4===l)if(a.foundPatternCross(j)){var n=this.handlePossibleCenter(j,k,m,d);if(!0===n)if(h=2,!0===this.hasSkipped)i=this.haveMultiplyConfirmedCenters();else{var o=this.findRowSkip();o>j[2]&&(k+=o-j[2]-h,m=g-1)}else{j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,l=3;continue}l=0,j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0}else j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,l=3;else j[++l]++;else j[l]++;if(a.foundPatternCross(j)){var n=this.handlePossibleCenter(j,k,g,d);!0===n&&(h=j[0],this.hasSkipped&&(i=this.haveMultiplyConfirmedCenters()))}}var p=this.selectBestPatterns();return ch.orderBestPatterns(p),new es(p)},a.centerFromEnd=function(a,b){return b-a[4]-a[3]-a[2]/2},a.foundPatternCross=function(a){for(var b=0,c=0;c<5;c++){var d=a[c];if(0===d)return!1;b+=d}if(b<7)return!1;var e=b/7,f=e/2;return Math.abs(e-a[0])<f&&Math.abs(e-a[1])<f&&Math.abs(3*e-a[2])<3*f&&Math.abs(e-a[3])<f&&Math.abs(e-a[4])<f},a.prototype.getCrossCheckStateCount=function(){var a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a},a.prototype.crossCheckDiagonal=function(b,c,d,e){for(var f=this.getCrossCheckStateCount(),g=0,h=this.image;b>=g&&c>=g&&h.get(c-g,b-g);)f[2]++,g++;if(b<g||c<g)return!1;for(;b>=g&&c>=g&&!h.get(c-g,b-g)&&f[1]<=d;)f[1]++,g++;if(b<g||c<g||f[1]>d)return!1;for(;b>=g&&c>=g&&h.get(c-g,b-g)&&f[0]<=d;)f[0]++,g++;if(f[0]>d)return!1;var i=h.getHeight(),j=h.getWidth();for(g=1;b+g<i&&c+g<j&&h.get(c+g,b+g);)f[2]++,g++;if(b+g>=i||c+g>=j)return!1;for(;b+g<i&&c+g<j&&!h.get(c+g,b+g)&&f[3]<d;)f[3]++,g++;if(b+g>=i||c+g>=j||f[3]>=d)return!1;for(;b+g<i&&c+g<j&&h.get(c+g,b+g)&&f[4]<d;)f[4]++,g++;return!(f[4]>=d)&&Math.abs(f[0]+f[1]+f[2]+f[3]+f[4]-e)<2*e&&a.foundPatternCross(f)},a.prototype.crossCheckVertical=function(b,c,d,e){for(var f=this.image,g=f.getHeight(),h=this.getCrossCheckStateCount(),i=b;i>=0&&f.get(c,i);)h[2]++,i--;if(i<0)return NaN;for(;i>=0&&!f.get(c,i)&&h[1]<=d;)h[1]++,i--;if(i<0||h[1]>d)return NaN;for(;i>=0&&f.get(c,i)&&h[0]<=d;)h[0]++,i--;if(h[0]>d)return NaN;for(i=b+1;i<g&&f.get(c,i);)h[2]++,i++;if(i===g)return NaN;for(;i<g&&!f.get(c,i)&&h[3]<d;)h[3]++,i++;if(i===g||h[3]>=d)return NaN;for(;i<g&&f.get(c,i)&&h[4]<d;)h[4]++,i++;return h[4]>=d||5*Math.abs(h[0]+h[1]+h[2]+h[3]+h[4]-e)>=2*e?NaN:a.foundPatternCross(h)?a.centerFromEnd(h,i):NaN},a.prototype.crossCheckHorizontal=function(b,c,d,e){for(var f=this.image,g=f.getWidth(),h=this.getCrossCheckStateCount(),i=b;i>=0&&f.get(i,c);)h[2]++,i--;if(i<0)return NaN;for(;i>=0&&!f.get(i,c)&&h[1]<=d;)h[1]++,i--;if(i<0||h[1]>d)return NaN;for(;i>=0&&f.get(i,c)&&h[0]<=d;)h[0]++,i--;if(h[0]>d)return NaN;for(i=b+1;i<g&&f.get(i,c);)h[2]++,i++;if(i===g)return NaN;for(;i<g&&!f.get(i,c)&&h[3]<d;)h[3]++,i++;if(i===g||h[3]>=d)return NaN;for(;i<g&&f.get(i,c)&&h[4]<d;)h[4]++,i++;return h[4]>=d||5*Math.abs(h[0]+h[1]+h[2]+h[3]+h[4]-e)>=e?NaN:a.foundPatternCross(h)?a.centerFromEnd(h,i):NaN},a.prototype.handlePossibleCenter=function(b,c,d,e){var f=b[0]+b[1]+b[2]+b[3]+b[4],g=a.centerFromEnd(b,d),h=this.crossCheckVertical(c,Math.floor(g),b[2],f);if(!isNaN(h)&&!isNaN(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(h),b[2],f))&&(!e||this.crossCheckDiagonal(Math.floor(h),Math.floor(g),b[2],f))){for(var i=f/7,j=!1,k=this.possibleCenters,l=0,m=k.length;l<m;l++){var n=k[l];if(n.aboutEquals(i,h,g)){k[l]=n.combineEstimate(h,g,i),j=!0;break}}if(!j){var o=new er(g,h,i);k.push(o),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(o)}return!0}return!1},a.prototype.findRowSkip=function(){if(this.possibleCenters.length<=1)return 0;var b,c,d=null;try{for(var e=et(this.possibleCenters),f=e.next();!f.done;f=e.next()){var g=f.value;if(g.getCount()>=a.CENTER_QUORUM)if(null!=d)return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-g.getX())-Math.abs(d.getY()-g.getY()))/2);else d=g}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return 0},a.prototype.haveMultiplyConfirmedCenters=function(){var b,c,d,e,f=0,g=0,h=this.possibleCenters.length;try{for(var i=et(this.possibleCenters),j=i.next();!j.done;j=i.next()){var k=j.value;k.getCount()>=a.CENTER_QUORUM&&(f++,g+=k.getEstimatedModuleSize())}}catch(a){b={error:a}}finally{try{j&&!j.done&&(c=i.return)&&c.call(i)}finally{if(b)throw b.error}}if(f<3)return!1;var l=g/h,m=0;try{for(var n=et(this.possibleCenters),o=n.next();!o.done;o=n.next()){var k=o.value;m+=Math.abs(k.getEstimatedModuleSize()-l)}}catch(a){d={error:a}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}return m<=.05*g},a.prototype.selectBestPatterns=function(){var a,b,c,d,e,f=this.possibleCenters.length;if(f<3)throw new bM;var g=this.possibleCenters;if(f>3){var h=0,i=0;try{for(var j=et(this.possibleCenters),k=j.next();!k.done;k=j.next()){var l=k.value.getEstimatedModuleSize();h+=l,i+=l*l}}catch(b){a={error:b}}finally{try{k&&!k.done&&(b=j.return)&&b.call(j)}finally{if(a)throw a.error}}e=h/f;var m=Math.sqrt(i/f-e*e);g.sort(function(a,b){var c=Math.abs(b.getEstimatedModuleSize()-e),d=Math.abs(a.getEstimatedModuleSize()-e);return c<d?-1:+(c>d)});for(var n=Math.max(.2*e,m),o=0;o<g.length&&g.length>3;o++)Math.abs(g[o].getEstimatedModuleSize()-e)>n&&(g.splice(o,1),o--)}if(g.length>3){var h=0;try{for(var p=et(g),q=p.next();!q.done;q=p.next()){var r=q.value;h+=r.getEstimatedModuleSize()}}catch(a){c={error:a}}finally{try{q&&!q.done&&(d=p.return)&&d.call(p)}finally{if(c)throw c.error}}e=h/g.length,g.sort(function(a,b){if(b.getCount()!==a.getCount())return b.getCount()-a.getCount();var c=Math.abs(b.getEstimatedModuleSize()-e),d=Math.abs(a.getEstimatedModuleSize()-e);return c<d?1:c>d?-1:0}),g.splice(3)}return[g[0],g[1],g[2]]},a.CENTER_QUORUM=2,a.MIN_SKIP=3,a.MAX_MODULES=57,a}(),ev=function(){function a(a){this.image=a}return a.prototype.getImage=function(){return this.image},a.prototype.getResultPointCallback=function(){return this.resultPointCallback},a.prototype.detect=function(a){this.resultPointCallback=null==a?null:a.get(bA.NEED_RESULT_POINT_CALLBACK);var b=new eu(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(b)},a.prototype.processFinderPatternInfo=function(b){var c=b.getTopLeft(),d=b.getTopRight(),e=b.getBottomLeft(),f=this.calculateModuleSize(c,d,e);if(f<1)throw new bM("No pattern found in proccess finder.");var g=a.computeDimension(c,d,e,f),h=ec.getProvisionalVersionForDimension(g),i=h.getDimensionForVersion()-7,j=null;if(h.getAlignmentPatternCenters().length>0)for(var k=d.getX()-c.getX()+e.getX(),l=d.getY()-c.getY()+e.getY(),m=1-3/i,n=Math.floor(c.getX()+m*(k-c.getX())),o=Math.floor(c.getY()+m*(l-c.getY())),p=4;p<=16;p<<=1)try{j=this.findAlignmentInRegion(f,n,o,p);break}catch(a){if(!(a instanceof bM))throw a}var q=a.createTransform(c,d,e,j,g);return new ci(a.sampleGrid(this.image,q,g),null===j?[e,c,d]:[e,c,d,j])},a.createTransform=function(a,b,c,d,e){var f,g,h,i,j=e-3.5;return null!==d?(f=d.getX(),g=d.getY(),i=h=j-3):(f=b.getX()-a.getX()+c.getX(),g=b.getY()-a.getY()+c.getY(),h=j,i=j),cn.quadrilateralToQuadrilateral(3.5,3.5,j,3.5,h,i,3.5,j,a.getX(),a.getY(),b.getX(),b.getY(),f,g,c.getX(),c.getY())},a.sampleGrid=function(a,b,c){return cq.getInstance().sampleGridWithTransform(a,c,c,b)},a.computeDimension=function(a,b,c,d){var e=Math.floor((cf.round(ch.distance(a,b)/d)+cf.round(ch.distance(a,c)/d))/2)+7;switch(3&e){case 0:e++;break;case 2:e--;break;case 3:throw new bM("Dimensions could be not found.")}return e},a.prototype.calculateModuleSize=function(a,b,c){return(this.calculateModuleSizeOneWay(a,b)+this.calculateModuleSizeOneWay(a,c))/2},a.prototype.calculateModuleSizeOneWay=function(a,b){var c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(b.getX()),Math.floor(b.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(b.getX()),Math.floor(b.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(c)?d/7:isNaN(d)?c/7:(c+d)/14},a.prototype.sizeOfBlackWhiteBlackRunBothWays=function(a,b,c,d){var e=this.sizeOfBlackWhiteBlackRun(a,b,c,d),f=1,g=a-(c-a);g<0?(f=a/(a-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-a)/(g-a),g=this.image.getWidth()-1);var h=Math.floor(b-(d-b)*f);return f=1,h<0?(f=b/(b-h),h=0):h>=this.image.getHeight()&&(f=(this.image.getHeight()-1-b)/(h-b),h=this.image.getHeight()-1),g=Math.floor(a+(g-a)*f),(e+=this.sizeOfBlackWhiteBlackRun(a,b,g,h))-1},a.prototype.sizeOfBlackWhiteBlackRun=function(a,b,c,d){var e=Math.abs(d-b)>Math.abs(c-a);if(e){var f=a;a=b,b=f,f=c,c=d,d=f}for(var g=Math.abs(c-a),h=Math.abs(d-b),i=-g/2,j=a<c?1:-1,k=b<d?1:-1,l=0,m=c+j,n=a,o=b;n!==m;n+=j){var p=e?o:n,q=e?n:o;if(1===l===this.image.get(p,q)){if(2===l)return cf.distance(n,o,a,b);l++}if((i+=h)>0){if(o===d)break;o+=k,i-=g}}return 2===l?cf.distance(c+j,d,a,b):NaN},a.prototype.findAlignmentInRegion=function(a,b,c,d){var e=Math.floor(d*a),f=Math.max(0,b-e),g=Math.min(this.image.getWidth()-1,b+e);if(g-f<3*a)throw new bM("Alignment top exceeds estimated module size.");var h=Math.max(0,c-e),i=Math.min(this.image.getHeight()-1,c+e);if(i-h<3*a)throw new bM("Alignment bottom exceeds estimated module size.");return new ep(this.image,f,h,g-f,i-h,a,this.resultPointCallback).find()},a}(),ew=function(){function a(){this.decoder=new el}return a.prototype.getDecoder=function(){return this.decoder},a.prototype.decode=function(b,c){if(null!=c&&void 0!==c.get(bA.PURE_BARCODE)){var d,e,f=a.extractPureBits(b.getBlackMatrix());d=this.decoder.decodeBitMatrix(f,c),e=a.NO_POINTS}else{var g=new ev(b.getBlackMatrix()).detect(c);d=this.decoder.decodeBitMatrix(g.getBits(),c),e=g.getPoints()}d.getOther()instanceof ej&&d.getOther().applyMirroredCorrection(e);var h=new b_(d.getText(),d.getRawBytes(),void 0,e,b0.QR_CODE,void 0),i=d.getByteSegments();null!==i&&h.putMetadata(b1.BYTE_SEGMENTS,i);var j=d.getECLevel();return null!==j&&h.putMetadata(b1.ERROR_CORRECTION_LEVEL,j),d.hasStructuredAppend()&&(h.putMetadata(b1.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),h.putMetadata(b1.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),h},a.prototype.reset=function(){},a.extractPureBits=function(a){var b=a.getTopLeftOnBit(),c=a.getBottomRightOnBit();if(null===b||null===c)throw new bM;var d=this.moduleSize(b,a),e=b[1],f=c[1],g=b[0],h=c[0];if(g>=h||e>=f||f-e!=h-g&&(h=g+(f-e))>=a.getWidth())throw new bM;var i=Math.round((h-g+1)/d),j=Math.round((f-e+1)/d);if(i<=0||j<=0||j!==i)throw new bM;var k=Math.floor(d/2);e+=k;var l=(g+=k)+Math.floor((i-1)*d)-h;if(l>0){if(l>k)throw new bM;g-=l}var m=e+Math.floor((j-1)*d)-f;if(m>0){if(m>k)throw new bM;e-=m}for(var n=new bK(i,j),o=0;o<j;o++)for(var p=e+Math.floor(o*d),q=0;q<i;q++)a.get(g+Math.floor(q*d),p)&&n.set(q,o);return n},a.moduleSize=function(a,b){for(var c=b.getHeight(),d=b.getWidth(),e=a[0],f=a[1],g=!0,h=0;e<d&&f<c;){if(g!==b.get(e,f)){if(5==++h)break;g=!g}e++,f++}if(e===d||f===c)throw new bM;return(e-a[0])/7},a.NO_POINTS=[],a}(),ex=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},ey=function(){function a(){}return a.prototype.PDF417Common=function(){},a.getBitCountSum=function(a){return cf.sum(a)},a.toIntArray=function(b){if(null==b||!b.length)return a.EMPTY_INT_ARRAY;var c,d,e=new Int32Array(b.length),f=0;try{for(var g=ex(b),h=g.next();!h.done;h=g.next()){var i=h.value;e[f++]=i}}catch(a){c={error:a}}finally{try{h&&!h.done&&(d=g.return)&&d.call(g)}finally{if(c)throw c.error}}return e},a.getCodeword=function(b){var c=bx.binarySearch(a.SYMBOL_TABLE,262143&b);return c<0?-1:(a.CODEWORD_TABLE[c]-1)%a.NUMBER_OF_CODEWORDS},a.NUMBER_OF_CODEWORDS=929,a.MAX_CODEWORDS_IN_BARCODE=a.NUMBER_OF_CODEWORDS-1,a.MIN_ROWS_IN_BARCODE=3,a.MAX_ROWS_IN_BARCODE=90,a.MODULES_IN_CODEWORD=17,a.MODULES_IN_STOP_PATTERN=18,a.BARS_IN_MODULE=8,a.EMPTY_INT_ARRAY=new Int32Array([]),a.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),a.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),a}(),ez=function(){function a(a,b){this.bits=a,this.points=b}return a.prototype.getBits=function(){return this.bits},a.prototype.getPoints=function(){return this.points},a}(),eA=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eB=function(){function a(){}return a.detectMultiple=function(b,c,d){var e=b.getBlackMatrix(),f=a.detect(d,e);return f.length||((e=e.clone()).rotate180(),f=a.detect(d,e)),new ez(e,f)},a.detect=function(b,c){for(var d,e,f=[],g=0,h=0,i=!1;g<c.getHeight();){var j=a.findVertices(c,g,h);if(null==j[0]&&null==j[3]){if(!i)break;i=!1,h=0;try{for(var k=(d=void 0,eA(f)),l=k.next();!l.done;l=k.next()){var m=l.value;null!=m[1]&&(g=Math.trunc(Math.max(g,m[1].getY()))),null!=m[3]&&(g=Math.max(g,Math.trunc(m[3].getY())))}}catch(a){d={error:a}}finally{try{l&&!l.done&&(e=k.return)&&e.call(k)}finally{if(d)throw d.error}}g+=a.ROW_STEP;continue}if(i=!0,f.push(j),!b)break;null!=j[2]?(h=Math.trunc(j[2].getX()),g=Math.trunc(j[2].getY())):(h=Math.trunc(j[4].getX()),g=Math.trunc(j[4].getY()))}return f},a.findVertices=function(b,c,d){var e=b.getHeight(),f=b.getWidth(),g=Array(8);return a.copyToResult(g,a.findRowsWithPattern(b,e,f,c,d,a.START_PATTERN),a.INDEXES_START_PATTERN),null!=g[4]&&(d=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY())),a.copyToResult(g,a.findRowsWithPattern(b,e,f,c,d,a.STOP_PATTERN),a.INDEXES_STOP_PATTERN),g},a.copyToResult=function(a,b,c){for(var d=0;d<c.length;d++)a[c[d]]=b[d]},a.findRowsWithPattern=function(b,c,d,e,f,g){for(var h=[,,,,],i=!1,j=new Int32Array(g.length);e<c;e+=a.ROW_STEP){var k=a.findGuardPattern(b,f,e,d,!1,g,j);if(null!=k){for(;e>0;){var l=a.findGuardPattern(b,f,--e,d,!1,g,j);if(null!=l)k=l;else{e++;break}}h[0]=new ch(k[0],e),h[1]=new ch(k[1],e),i=!0;break}}var m=e+1;if(i){for(var n=0,l=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);m<c;m++){var k=a.findGuardPattern(b,l[0],m,d,!1,g,j);if(null!=k&&Math.abs(l[0]-k[0])<a.MAX_PATTERN_DRIFT&&Math.abs(l[1]-k[1])<a.MAX_PATTERN_DRIFT)l=k,n=0;else if(n>a.SKIPPED_ROW_COUNT_MAX)break;else n++}m-=n+1,h[2]=new ch(l[0],m),h[3]=new ch(l[1],m)}return m-e<a.BARCODE_MIN_HEIGHT&&bx.fill(h,null),h},a.findGuardPattern=function(b,c,d,e,f,g,h){bx.fillWithin(h,0,h.length,0);for(var i=c,j=0;b.get(i,d)&&i>0&&j++<a.MAX_PIXEL_DRIFT;)i--;for(var k=i,l=0,m=g.length,n=f;k<e;k++)if(b.get(k,d)!==n)h[l]++;else{if(l===m-1){if(a.patternMatchVariance(h,g,a.MAX_INDIVIDUAL_VARIANCE)<a.MAX_AVG_VARIANCE)return new Int32Array([i,k]);i+=h[0]+h[1],br.arraycopy(h,2,h,0,l-1),h[l-1]=0,h[l]=0,l--}else l++;h[l]=1,n=!n}return l===m-1&&a.patternMatchVariance(h,g,a.MAX_INDIVIDUAL_VARIANCE)<a.MAX_AVG_VARIANCE?new Int32Array([i,k-1]):null},a.patternMatchVariance=function(a,b,c){for(var d=a.length,e=0,f=0,g=0;g<d;g++)e+=a[g],f+=b[g];if(e<f)return 1/0;var h=e/f;c*=h;for(var i=0,j=0;j<d;j++){var k=a[j],l=b[j]*h,m=k>l?k-l:l-k;if(m>c)return 1/0;i+=m}return i/e},a.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),a.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),a.MAX_AVG_VARIANCE=.42,a.MAX_INDIVIDUAL_VARIANCE=.8,a.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),a.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),a.MAX_PIXEL_DRIFT=3,a.MAX_PATTERN_DRIFT=5,a.SKIPPED_ROW_COUNT_MAX=25,a.ROW_STEP=5,a.BARCODE_MIN_HEIGHT=10,a}(),eC=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eD=function(){function a(a,b){if(0===b.length)throw new bm;this.field=a;var c=b.length;if(c>1&&0===b[0]){for(var d=1;d<c&&0===b[d];)d++;d===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-d),br.arraycopy(b,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=b}return a.prototype.getCoefficients=function(){return this.coefficients},a.prototype.getDegree=function(){return this.coefficients.length-1},a.prototype.isZero=function(){return 0===this.coefficients[0]},a.prototype.getCoefficient=function(a){return this.coefficients[this.coefficients.length-1-a]},a.prototype.evaluateAt=function(a){if(0===a)return this.getCoefficient(0);if(1===a){var b,c,d=0;try{for(var e=eC(this.coefficients),f=e.next();!f.done;f=e.next()){var g=f.value;d=this.field.add(d,g)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d}for(var h=this.coefficients[0],i=this.coefficients.length,j=1;j<i;j++)h=this.field.add(this.field.multiply(a,h),this.coefficients[j]);return h},a.prototype.add=function(b){if(!this.field.equals(b.field))throw new bm("ModulusPolys do not have same ModulusGF field");if(this.isZero())return b;if(b.isZero())return this;var c=this.coefficients,d=b.coefficients;if(c.length>d.length){var e=c;c=d,d=e}var f=new Int32Array(d.length),g=d.length-c.length;br.arraycopy(d,0,f,0,g);for(var h=g;h<d.length;h++)f[h]=this.field.add(c[h-g],d[h]);return new a(this.field,f)},a.prototype.subtract=function(a){if(!this.field.equals(a.field))throw new bm("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())},a.prototype.multiply=function(b){return b instanceof a?this.multiplyOther(b):this.multiplyScalar(b)},a.prototype.multiplyOther=function(b){if(!this.field.equals(b.field))throw new bm("ModulusPolys do not have same ModulusGF field");if(this.isZero()||b.isZero())return new a(this.field,new Int32Array([0]));for(var c=this.coefficients,d=c.length,e=b.coefficients,f=e.length,g=new Int32Array(d+f-1),h=0;h<d;h++)for(var i=c[h],j=0;j<f;j++)g[h+j]=this.field.add(g[h+j],this.field.multiply(i,e[j]));return new a(this.field,g)},a.prototype.negative=function(){for(var b=this.coefficients.length,c=new Int32Array(b),d=0;d<b;d++)c[d]=this.field.subtract(0,this.coefficients[d]);return new a(this.field,c)},a.prototype.multiplyScalar=function(b){if(0===b)return new a(this.field,new Int32Array([0]));if(1===b)return this;for(var c=this.coefficients.length,d=new Int32Array(c),e=0;e<c;e++)d[e]=this.field.multiply(this.coefficients[e],b);return new a(this.field,d)},a.prototype.multiplyByMonomial=function(b,c){if(b<0)throw new bm;if(0===c)return new a(this.field,new Int32Array([0]));for(var d=this.coefficients.length,e=new Int32Array(d+b),f=0;f<d;f++)e[f]=this.field.multiply(this.coefficients[f],c);return new a(this.field,e)},a.prototype.toString=function(){for(var a=new bJ,b=this.getDegree();b>=0;b--){var c=this.getCoefficient(b);0!==c&&(c<0?(a.append(" - "),c=-c):a.length()>0&&a.append(" + "),(0===b||1!==c)&&a.append(c),0!==b&&(1===b?a.append("x"):(a.append("x^"),a.append(b))))}return a.toString()},a}(),eE=function(){function a(){}return a.prototype.add=function(a,b){return(a+b)%this.modulus},a.prototype.subtract=function(a,b){return(this.modulus+a-b)%this.modulus},a.prototype.exp=function(a){return this.expTable[a]},a.prototype.log=function(a){if(0===a)throw new bm;return this.logTable[a]},a.prototype.inverse=function(a){if(0===a)throw new b6;return this.expTable[this.modulus-this.logTable[a]-1]},a.prototype.multiply=function(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.modulus-1)]},a.prototype.getSize=function(){return this.modulus},a.prototype.equals=function(a){return a===this},a}(),eF=(ao=function(a,b){return(ao=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}ao(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),eG=function(a){function b(b,c){var d=a.call(this)||this;d.modulus=b,d.expTable=new Int32Array(b),d.logTable=new Int32Array(b);for(var e=1,f=0;f<b;f++)d.expTable[f]=e,e=e*c%b;for(var f=0;f<b-1;f++)d.logTable[d.expTable[f]]=f;return d.zero=new eD(d,new Int32Array([0])),d.one=new eD(d,new Int32Array([1])),d}return eF(b,a),b.prototype.getZero=function(){return this.zero},b.prototype.getOne=function(){return this.one},b.prototype.buildMonomial=function(a,b){if(a<0)throw new bm;if(0===b)return this.zero;var c=new Int32Array(a+1);return c[0]=b,new eD(this,c)},b.PDF417_GF=new b(ey.NUMBER_OF_CODEWORDS,3),b}(eE),eH=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eI=function(){function a(){this.field=eG.PDF417_GF}return a.prototype.decode=function(a,b,c){for(var d,e,f=new eD(this.field,a),g=new Int32Array(b),h=!1,i=b;i>0;i--){var j=f.evaluateAt(this.field.exp(i));g[b-i]=j,0!==j&&(h=!0)}if(!h)return 0;var k=this.field.getOne();if(null!=c)try{for(var l=eH(c),m=l.next();!m.done;m=l.next()){var n=m.value,o=this.field.exp(a.length-1-n),p=new eD(this.field,new Int32Array([this.field.subtract(0,o),1]));k=k.multiply(p)}}catch(a){d={error:a}}finally{try{m&&!m.done&&(e=l.return)&&e.call(l)}finally{if(d)throw d.error}}for(var q=new eD(this.field,g),r=this.runEuclideanAlgorithm(this.field.buildMonomial(b,1),q,b),s=r[0],t=r[1],u=this.findErrorLocations(s),v=this.findErrorMagnitudes(t,s,u),i=0;i<u.length;i++){var w=a.length-1-this.field.log(u[i]);if(w<0)throw bp.getChecksumInstance();a[w]=this.field.subtract(a[w],v[i])}return u.length},a.prototype.runEuclideanAlgorithm=function(a,b,c){if(a.getDegree()<b.getDegree()){var d=a;a=b,b=d}for(var e=a,f=b,g=this.field.getZero(),h=this.field.getOne();f.getDegree()>=Math.round(c/2);){var i=e,j=g;if(e=f,g=h,e.isZero())throw bp.getChecksumInstance();f=i;for(var k=this.field.getZero(),l=e.getCoefficient(e.getDegree()),m=this.field.inverse(l);f.getDegree()>=e.getDegree()&&!f.isZero();){var n=f.getDegree()-e.getDegree(),o=this.field.multiply(f.getCoefficient(f.getDegree()),m);k=k.add(this.field.buildMonomial(n,o)),f=f.subtract(e.multiplyByMonomial(n,o))}h=k.multiply(g).subtract(j).negative()}var p=h.getCoefficient(0);if(0===p)throw bp.getChecksumInstance();var q=this.field.inverse(p);return[h.multiply(q),f.multiply(q)]},a.prototype.findErrorLocations=function(a){for(var b=a.getDegree(),c=new Int32Array(b),d=0,e=1;e<this.field.getSize()&&d<b;e++)0===a.evaluateAt(e)&&(c[d]=this.field.inverse(e),d++);if(d!==b)throw bp.getChecksumInstance();return c},a.prototype.findErrorMagnitudes=function(a,b,c){for(var d=b.getDegree(),e=new Int32Array(d),f=1;f<=d;f++)e[d-f]=this.field.multiply(f,b.getCoefficient(f));for(var g=new eD(this.field,e),h=c.length,i=new Int32Array(h),f=0;f<h;f++){var j=this.field.inverse(c[f]),k=this.field.subtract(0,a.evaluateAt(j)),l=this.field.inverse(g.evaluateAt(j));i[f]=this.field.multiply(k,l)}return i},a}(),eJ=function(){function a(b,c,d,e,f){b instanceof a?this.constructor_2(b):this.constructor_1(b,c,d,e,f)}return a.prototype.constructor_1=function(a,b,c,d,e){var f=null==b||null==c,g=null==d||null==e;if(f&&g)throw new bM;f?(b=new ch(0,d.getY()),c=new ch(0,e.getY())):g&&(d=new ch(a.getWidth()-1,b.getY()),e=new ch(a.getWidth()-1,c.getY())),this.image=a,this.topLeft=b,this.bottomLeft=c,this.topRight=d,this.bottomRight=e,this.minX=Math.trunc(Math.min(b.getX(),c.getX())),this.maxX=Math.trunc(Math.max(d.getX(),e.getX())),this.minY=Math.trunc(Math.min(b.getY(),d.getY())),this.maxY=Math.trunc(Math.max(c.getY(),e.getY()))},a.prototype.constructor_2=function(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()},a.merge=function(b,c){return null==b?c:null==c?b:new a(b.image,b.topLeft,b.bottomLeft,c.topRight,c.bottomRight)},a.prototype.addMissingRows=function(b,c,d){var e=this.topLeft,f=this.bottomLeft,g=this.topRight,h=this.bottomRight;if(b>0){var i=d?this.topLeft:this.topRight,j=Math.trunc(i.getY()-b);j<0&&(j=0);var k=new ch(i.getX(),j);d?e=k:g=k}if(c>0){var l=d?this.bottomLeft:this.bottomRight,m=Math.trunc(l.getY()+c);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);var n=new ch(l.getX(),m);d?f=n:h=n}return new a(this.image,e,f,g,h)},a.prototype.getMinX=function(){return this.minX},a.prototype.getMaxX=function(){return this.maxX},a.prototype.getMinY=function(){return this.minY},a.prototype.getMaxY=function(){return this.maxY},a.prototype.getTopLeft=function(){return this.topLeft},a.prototype.getTopRight=function(){return this.topRight},a.prototype.getBottomLeft=function(){return this.bottomLeft},a.prototype.getBottomRight=function(){return this.bottomRight},a}(),eK=function(){function a(a,b,c,d){this.columnCount=a,this.errorCorrectionLevel=d,this.rowCountUpperPart=b,this.rowCountLowerPart=c,this.rowCount=b+c}return a.prototype.getColumnCount=function(){return this.columnCount},a.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},a.prototype.getRowCount=function(){return this.rowCount},a.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},a.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},a}(),eL=function(){function a(){this.buffer=""}return a.form=function(a,b){var c=-1;return a.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(a,d,e,f,g,h){if("%%"===a)return"%";if(void 0!==b[++c]){a=f?parseInt(f.substr(1)):void 0;var i,j=g?parseInt(g.substr(1)):void 0;switch(h){case"s":i=b[c];break;case"c":i=b[c][0];break;case"f":i=parseFloat(b[c]).toFixed(a);break;case"p":i=parseFloat(b[c]).toPrecision(a);break;case"e":i=parseFloat(b[c]).toExponential(a);break;case"x":i=parseInt(b[c]).toString(j||16);break;case"d":i=parseFloat(parseInt(b[c],j||10).toPrecision(a)).toFixed(0)}i="object"==typeof i?JSON.stringify(i):(+i).toString(j);for(var k=parseInt(e),l=e&&e[0]+""=="0"?"0":" ";i.length<k;)i=void 0!==d?i+l:l+i;return i}})},a.prototype.format=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];this.buffer+=a.form(b,c)},a.prototype.toString=function(){return this.buffer},a}(),eM=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eN=function(){function a(a){this.boundingBox=new eJ(a),this.codewords=Array(a.getMaxY()-a.getMinY()+1)}return a.prototype.getCodewordNearby=function(b){var c=this.getCodeword(b);if(null!=c)return c;for(var d=1;d<a.MAX_NEARBY_DISTANCE;d++){var e=this.imageRowToCodewordIndex(b)-d;if(e>=0&&null!=(c=this.codewords[e])||(e=this.imageRowToCodewordIndex(b)+d)<this.codewords.length&&null!=(c=this.codewords[e]))return c}return null},a.prototype.imageRowToCodewordIndex=function(a){return a-this.boundingBox.getMinY()},a.prototype.setCodeword=function(a,b){this.codewords[this.imageRowToCodewordIndex(a)]=b},a.prototype.getCodeword=function(a){return this.codewords[this.imageRowToCodewordIndex(a)]},a.prototype.getBoundingBox=function(){return this.boundingBox},a.prototype.getCodewords=function(){return this.codewords},a.prototype.toString=function(){var a,b,c=new eL,d=0;try{for(var e=eM(this.codewords),f=e.next();!f.done;f=e.next()){var g=f.value;if(null==g){c.format("%3d:    |   %n",d++);continue}c.format("%3d: %3d|%3d%n",d++,g.getRowNumber(),g.getValue())}}catch(b){a={error:b}}finally{try{f&&!f.done&&(b=e.return)&&b.call(e)}finally{if(a)throw a.error}}return c.toString()},a.MAX_NEARBY_DISTANCE=5,a}(),eO=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eP=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},eQ=function(){function a(){this.values=new Map}return a.prototype.setValue=function(a){a=Math.trunc(a);var b=this.values.get(a);null==b&&(b=0),b++,this.values.set(a,b)},a.prototype.getValue=function(){var a,b,c=-1,d=[],e=function(a,b){var e=function(){return a},f=function(){return b};f()>c?(c=f(),(d=[]).push(e())):f()===c&&d.push(e())};try{for(var f=eO(this.values.entries()),g=f.next();!g.done;g=f.next()){var h=eP(g.value,2),i=h[0],j=h[1];e(i,j)}}catch(b){a={error:b}}finally{try{g&&!g.done&&(b=f.return)&&b.call(f)}finally{if(a)throw a.error}}return ey.toIntArray(d)},a.prototype.getConfidence=function(a){return this.values.get(a)},a}(),eR=(ap=function(a,b){return(ap=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}ap(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),eS=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eT=function(a){function b(b,c){var d=a.call(this,b)||this;return d._isLeft=c,d}return eR(b,a),b.prototype.setRowNumbers=function(){var a,b;try{for(var c=eS(this.getCodewords()),d=c.next();!d.done;d=c.next()){var e=d.value;null!=e&&e.setRowNumberAsRowIndicatorColumn()}}catch(b){a={error:b}}finally{try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(a)throw a.error}}},b.prototype.adjustCompleteIndicatorColumnRowNumbers=function(a){var b=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(b,a);for(var c=this.getBoundingBox(),d=this._isLeft?c.getTopLeft():c.getTopRight(),e=this._isLeft?c.getBottomLeft():c.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(d.getY())),g=this.imageRowToCodewordIndex(Math.trunc(e.getY())),h=-1,i=1,j=0,k=f;k<g;k++)if(null!=b[k]){var l=b[k],m=l.getRowNumber()-h;if(0===m)j++;else if(1===m)i=Math.max(i,j),j=1,h=l.getRowNumber();else if(m<0||l.getRowNumber()>=a.getRowCount()||m>k)b[k]=null;else{for(var n=void 0,o=(n=i>2?(i-2)*m:m)>=k,p=1;p<=n&&!o;p++)o=null!=b[k-p];o?b[k]=null:(h=l.getRowNumber(),j=1)}}},b.prototype.getRowHeights=function(){var a,b,c=this.getBarcodeMetadata();if(null==c)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);var d=new Int32Array(c.getRowCount());try{for(var e=eS(this.getCodewords()),f=e.next();!f.done;f=e.next()){var g=f.value;if(null!=g){var h=g.getRowNumber();if(h>=d.length)continue;d[h]++}}}catch(b){a={error:b}}finally{try{f&&!f.done&&(b=e.return)&&b.call(e)}finally{if(a)throw a.error}}return d},b.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(a){for(var b=this.getBoundingBox(),c=this._isLeft?b.getTopLeft():b.getTopRight(),d=this._isLeft?b.getBottomLeft():b.getBottomRight(),e=this.imageRowToCodewordIndex(Math.trunc(c.getY())),f=this.imageRowToCodewordIndex(Math.trunc(d.getY())),g=this.getCodewords(),h=-1,i=1,j=0,k=e;k<f;k++)if(null!=g[k]){var l=g[k];l.setRowNumberAsRowIndicatorColumn();var m=l.getRowNumber()-h;0===m?j++:1===m?(i=Math.max(i,j),j=1,h=l.getRowNumber()):l.getRowNumber()>=a.getRowCount()?g[k]=null:(h=l.getRowNumber(),j=1)}},b.prototype.getBarcodeMetadata=function(){var a,b,c=this.getCodewords(),d=new eQ,e=new eQ,f=new eQ,g=new eQ;try{for(var h=eS(c),i=h.next();!i.done;i=h.next()){var j=i.value;if(null!=j){j.setRowNumberAsRowIndicatorColumn();var k=j.getValue()%30,l=j.getRowNumber();switch(!this._isLeft&&(l+=2),l%3){case 0:e.setValue(3*k+1);break;case 1:g.setValue(k/3),f.setValue(k%3);break;case 2:d.setValue(k+1)}}}}catch(b){a={error:b}}finally{try{i&&!i.done&&(b=h.return)&&b.call(h)}finally{if(a)throw a.error}}if(0===d.getValue().length||0===e.getValue().length||0===f.getValue().length||0===g.getValue().length||d.getValue()[0]<1||e.getValue()[0]+f.getValue()[0]<ey.MIN_ROWS_IN_BARCODE||e.getValue()[0]+f.getValue()[0]>ey.MAX_ROWS_IN_BARCODE)return null;var m=new eK(d.getValue()[0],e.getValue()[0],f.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(c,m),m},b.prototype.removeIncorrectCodewords=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(null!=a[c]){var e=d.getValue()%30,f=d.getRowNumber();if(f>b.getRowCount()){a[c]=null;continue}switch(!this._isLeft&&(f+=2),f%3){case 0:3*e+1!==b.getRowCountUpperPart()&&(a[c]=null);break;case 1:(Math.trunc(e/3)!==b.getErrorCorrectionLevel()||e%3!==b.getRowCountLowerPart())&&(a[c]=null);break;case 2:e+1!==b.getColumnCount()&&(a[c]=null)}}}},b.prototype.isLeft=function(){return this._isLeft},b.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+a.prototype.toString.call(this)},b}(eN),eU=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eV=function(){function a(a,b){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=b,this.detectionResultColumns=Array(this.barcodeColumnCount+2)}return a.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var a,b=ey.MAX_CODEWORDS_IN_BARCODE;do a=b,b=this.adjustRowNumbersAndGetCount();while(b>0&&b<a)return this.detectionResultColumns},a.prototype.adjustIndicatorColumnRowNumbers=function(a){null!=a&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},a.prototype.adjustRowNumbersAndGetCount=function(){var a=this.adjustRowNumbersByRow();if(0===a)return 0;for(var b=1;b<this.barcodeColumnCount+1;b++)for(var c=this.detectionResultColumns[b].getCodewords(),d=0;d<c.length;d++)null!=c[d]&&(c[d].hasValidRowNumber()||this.adjustRowNumbers(b,d,c));return a},a.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},a.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1]){for(var a=this.detectionResultColumns[0].getCodewords(),b=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),c=0;c<a.length;c++)if(null!=a[c]&&null!=b[c]&&a[c].getRowNumber()===b[c].getRowNumber())for(var d=1;d<=this.barcodeColumnCount;d++){var e=this.detectionResultColumns[d].getCodewords()[c];null!=e&&(e.setRowNumber(a[c].getRowNumber()),e.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[c]=null))}}},a.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var b=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),d=0;d<c.length;d++)if(null!=c[d])for(var e=c[d].getRowNumber(),f=0,g=this.barcodeColumnCount+1;g>0&&f<this.ADJUST_ROW_NUMBER_SKIP;g--){var h=this.detectionResultColumns[g].getCodewords()[d];null!=h&&(f=a.adjustRowNumberIfValid(e,f,h),!h.hasValidRowNumber()&&b++)}return b},a.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var b=0,c=this.detectionResultColumns[0].getCodewords(),d=0;d<c.length;d++)if(null!=c[d])for(var e=c[d].getRowNumber(),f=0,g=1;g<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;g++){var h=this.detectionResultColumns[g].getCodewords()[d];null!=h&&(f=a.adjustRowNumberIfValid(e,f,h),!h.hasValidRowNumber()&&b++)}return b},a.adjustRowNumberIfValid=function(a,b,c){return null==c||!c.hasValidRowNumber()&&(c.isValidRowNumber(a)?(c.setRowNumber(a),b=0):++b),b},a.prototype.adjustRowNumbers=function(b,c,d){if(null!=this.detectionResultColumns[b-1]){var e,f,g=d[c],h=this.detectionResultColumns[b-1].getCodewords(),i=h;null!=this.detectionResultColumns[b+1]&&(i=this.detectionResultColumns[b+1].getCodewords());var j=Array(14);j[2]=h[c],j[3]=i[c],c>0&&(j[0]=d[c-1],j[4]=h[c-1],j[5]=i[c-1]),c>1&&(j[8]=d[c-2],j[10]=h[c-2],j[11]=i[c-2]),c<d.length-1&&(j[1]=d[c+1],j[6]=h[c+1],j[7]=i[c+1]),c<d.length-2&&(j[9]=d[c+2],j[12]=h[c+2],j[13]=i[c+2]);try{for(var k=eU(j),l=k.next();!l.done;l=k.next()){var m=l.value;if(a.adjustRowNumber(g,m))return}}catch(a){e={error:a}}finally{try{l&&!l.done&&(f=k.return)&&f.call(k)}finally{if(e)throw e.error}}}},a.adjustRowNumber=function(a,b){return null!=b&&!!b.hasValidRowNumber()&&b.getBucket()===a.getBucket()&&(a.setRowNumber(b.getRowNumber()),!0)},a.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},a.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},a.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},a.prototype.setBoundingBox=function(a){this.boundingBox=a},a.prototype.getBoundingBox=function(){return this.boundingBox},a.prototype.setDetectionResultColumn=function(a,b){this.detectionResultColumns[a]=b},a.prototype.getDetectionResultColumn=function(a){return this.detectionResultColumns[a]},a.prototype.toString=function(){var a=this.detectionResultColumns[0];null==a&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var b=new eL,c=0;c<a.getCodewords().length;c++){b.format("CW %3d:",c);for(var d=0;d<this.barcodeColumnCount+2;d++){if(null==this.detectionResultColumns[d]){b.format("    |   ");continue}var e=this.detectionResultColumns[d].getCodewords()[c];if(null==e){b.format("    |   ");continue}b.format(" %3d|%3d",e.getRowNumber(),e.getValue())}b.format("%n")}return b.toString()},a}(),eW=function(){function a(b,c,d,e){this.rowNumber=a.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(b),this.endX=Math.trunc(c),this.bucket=Math.trunc(d),this.value=Math.trunc(e)}return a.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},a.prototype.isValidRowNumber=function(b){return b!==a.BARCODE_ROW_UNKNOWN&&this.bucket===b%3*3},a.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},a.prototype.getWidth=function(){return this.endX-this.startX},a.prototype.getStartX=function(){return this.startX},a.prototype.getEndX=function(){return this.endX},a.prototype.getBucket=function(){return this.bucket},a.prototype.getValue=function(){return this.value},a.prototype.getRowNumber=function(){return this.rowNumber},a.prototype.setRowNumber=function(a){this.rowNumber=a},a.prototype.toString=function(){return this.rowNumber+"|"+this.value},a.BARCODE_ROW_UNKNOWN=-1,a}(),eX=function(){function a(){}return a.initialize=function(){for(var b=0;b<ey.SYMBOL_TABLE.length;b++)for(var c=ey.SYMBOL_TABLE[b],d=1&c,e=0;e<ey.BARS_IN_MODULE;e++){for(var f=0;(1&c)===d;)f+=1,c>>=1;d=1&c,a.RATIOS_TABLE[b]||(a.RATIOS_TABLE[b]=Array(ey.BARS_IN_MODULE)),a.RATIOS_TABLE[b][ey.BARS_IN_MODULE-e-1]=Math.fround(f/ey.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},a.getDecodedValue=function(b){var c=a.getDecodedCodewordValue(a.sampleBitCounts(b));return -1!==c?c:a.getClosestDecodedValue(b)},a.sampleBitCounts=function(a){for(var b=cf.sum(a),c=new Int32Array(ey.BARS_IN_MODULE),d=0,e=0,f=0;f<ey.MODULES_IN_CODEWORD;f++){var g=b/(2*ey.MODULES_IN_CODEWORD)+f*b/ey.MODULES_IN_CODEWORD;e+a[d]<=g&&(e+=a[d],d++),c[d]++}return c},a.getDecodedCodewordValue=function(b){var c=a.getBitValue(b);return -1===ey.getCodeword(c)?-1:c},a.getBitValue=function(a){for(var b=0,c=0;c<a.length;c++)for(var d=0;d<a[c];d++)b=b<<1|c%2==0;return Math.trunc(b)},a.getClosestDecodedValue=function(b){var c=cf.sum(b),d=Array(ey.BARS_IN_MODULE);if(c>1)for(var e=0;e<d.length;e++)d[e]=Math.fround(b[e]/c);var f=cg.MAX_VALUE,g=-1;this.bSymbolTableReady||a.initialize();for(var h=0;h<a.RATIOS_TABLE.length;h++){for(var i=0,j=a.RATIOS_TABLE[h],k=0;k<ey.BARS_IN_MODULE;k++){var l=Math.fround(j[k]-d[k]);if((i+=Math.fround(l*l))>=f)break}i<f&&(f=i,g=ey.SYMBOL_TABLE[h])}return g},a.bSymbolTableReady=!1,a.RATIOS_TABLE=Array(ey.SYMBOL_TABLE.length).map(function(a){return Array(ey.BARS_IN_MODULE)}),a}(),eY=function(){function a(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return a.prototype.getSegmentIndex=function(){return this.segmentIndex},a.prototype.setSegmentIndex=function(a){this.segmentIndex=a},a.prototype.getFileId=function(){return this.fileId},a.prototype.setFileId=function(a){this.fileId=a},a.prototype.getOptionalData=function(){return this.optionalData},a.prototype.setOptionalData=function(a){this.optionalData=a},a.prototype.isLastSegment=function(){return this.lastSegment},a.prototype.setLastSegment=function(a){this.lastSegment=a},a.prototype.getSegmentCount=function(){return this.segmentCount},a.prototype.setSegmentCount=function(a){this.segmentCount=a},a.prototype.getSender=function(){return this.sender||null},a.prototype.setSender=function(a){this.sender=a},a.prototype.getAddressee=function(){return this.addressee||null},a.prototype.setAddressee=function(a){this.addressee=a},a.prototype.getFileName=function(){return this.fileName},a.prototype.setFileName=function(a){this.fileName=a},a.prototype.getFileSize=function(){return this.fileSize},a.prototype.setFileSize=function(a){this.fileSize=a},a.prototype.getChecksum=function(){return this.checksum},a.prototype.setChecksum=function(a){this.checksum=a},a.prototype.getTimestamp=function(){return this.timestamp},a.prototype.setTimestamp=function(a){this.timestamp=a},a}(),eZ=function(){function a(){}return a.parseLong=function(a,b){return void 0===b&&(b=void 0),parseInt(a,b)},a}(),e$=(aq=function(a,b){return(aq=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aq(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),e_=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e$(b,a),b.kind="NullPointerException",b}(bi),e0=function(){function a(){}return a.prototype.writeBytes=function(a){this.writeBytesOffset(a,0,a.length)},a.prototype.writeBytesOffset=function(a,b,c){if(null==a)throw new e_;if(b<0||b>a.length||c<0||b+c>a.length||b+c<0)throw new bt;if(0!==c)for(var d=0;d<c;d++)this.write(a[b+d])},a.prototype.flush=function(){},a.prototype.close=function(){},a}(),e1=(ar=function(a,b){return(ar=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}ar(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),e2=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return e1(b,a),b}(bi),e3=(as=function(a,b){return(as=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}as(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),e4=function(a){function b(b){void 0===b&&(b=32);var c=a.call(this)||this;if(c.count=0,b<0)throw new bm("Negative initial size: "+b);return c.buf=new Uint8Array(b),c}return e3(b,a),b.prototype.ensureCapacity=function(a){a-this.buf.length>0&&this.grow(a)},b.prototype.grow=function(a){var b=this.buf.length<<1;if(b-a<0&&(b=a),b<0){if(a<0)throw new e2;b=by.MAX_VALUE}this.buf=bx.copyOfUint8Array(this.buf,b)},b.prototype.write=function(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1},b.prototype.writeBytesOffset=function(a,b,c){if(b<0||b>a.length||c<0||b+c-a.length>0)throw new bt;this.ensureCapacity(this.count+c),br.arraycopy(a,b,this.buf,this.count,c),this.count+=c},b.prototype.writeTo=function(a){a.writeBytesOffset(this.buf,0,this.count)},b.prototype.reset=function(){this.count=0},b.prototype.toByteArray=function(){return bx.copyOfUint8Array(this.buf,this.count)},b.prototype.size=function(){return this.count},b.prototype.toString=function(a){return a?"string"==typeof a?this.toString_string(a):this.toString_number(a):this.toString_void()},b.prototype.toString_void=function(){return new String(this.buf).toString()},b.prototype.toString_string=function(a){return new String(this.buf).toString()},b.prototype.toString_number=function(a){return new String(this.buf).toString()},b.prototype.close=function(){},b}(e0);function e5(){return a.g.BigInt||null}function e6(a){if(void 0===a7&&(a7=e5()),null===a7)throw Error("BigInt is not supported!");return a7(a)}(at=a6||(a6={}))[at.ALPHA=0]="ALPHA",at[at.LOWER=1]="LOWER",at[at.MIXED=2]="MIXED",at[at.PUNCT=3]="PUNCT",at[at.ALPHA_SHIFT=4]="ALPHA_SHIFT",at[at.PUNCT_SHIFT=5]="PUNCT_SHIFT";var e7=function(){function a(){}return a.decode=function(b,c){var d=new bJ(""),e=bE.ISO8859_1;d.enableDecoding(e);for(var f=1,g=b[f++],h=new eY;f<b[0];){switch(g){case a.TEXT_COMPACTION_MODE_LATCH:f=a.textCompaction(b,f,d);break;case a.BYTE_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:f=a.byteCompaction(g,b,e,f,d);break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(b[f++]);break;case a.NUMERIC_COMPACTION_MODE_LATCH:f=a.numericCompaction(b,f,d);break;case a.ECI_CHARSET:bE.getCharacterSetECIByValue(b[f++]);break;case a.ECI_GENERAL_PURPOSE:f+=2;break;case a.ECI_USER_DEFINED:f++;break;case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=a.decodeMacroBlock(b,f,h);break;case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:throw new bC;default:f--,f=a.textCompaction(b,f,d)}if(f<b.length)g=b[f++];else throw bC.getFormatInstance()}if(0===d.length())throw bC.getFormatInstance();var i=new b2(null,d.toString(),null,c);return i.setOther(h),i},a.decodeMacroBlock=function(b,c,d){if(c+a.NUMBER_OF_SEQUENCE_CODEWORDS>b[0])throw bC.getFormatInstance();for(var e=new Int32Array(a.NUMBER_OF_SEQUENCE_CODEWORDS),f=0;f<a.NUMBER_OF_SEQUENCE_CODEWORDS;f++,c++)e[f]=b[c];d.setSegmentIndex(by.parseInt(a.decodeBase900toBase10(e,a.NUMBER_OF_SEQUENCE_CODEWORDS)));var g=new bJ;c=a.textCompaction(b,c,g),d.setFileId(g.toString());var h=-1;for(b[c]===a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=c+1);c<b[0];)switch(b[c]){case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(b[++c]){case a.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var i=new bJ;c=a.textCompaction(b,c+1,i),d.setFileName(i.toString());break;case a.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var j=new bJ;c=a.textCompaction(b,c+1,j),d.setSender(j.toString());break;case a.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var k=new bJ;c=a.textCompaction(b,c+1,k),d.setAddressee(k.toString());break;case a.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var l=new bJ;c=a.numericCompaction(b,c+1,l),d.setSegmentCount(by.parseInt(l.toString()));break;case a.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var m=new bJ;c=a.numericCompaction(b,c+1,m),d.setTimestamp(eZ.parseLong(m.toString()));break;case a.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var n=new bJ;c=a.numericCompaction(b,c+1,n),d.setChecksum(by.parseInt(n.toString()));break;case a.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var o=new bJ;c=a.numericCompaction(b,c+1,o),d.setFileSize(eZ.parseLong(o.toString()));break;default:throw bC.getFormatInstance()}break;case a.MACRO_PDF417_TERMINATOR:c++,d.setLastSegment(!0);break;default:throw bC.getFormatInstance()}if(-1!==h){var p=c-h;d.isLastSegment()&&p--,d.setOptionalData(bx.copyOfRange(b,h,h+p))}return c},a.textCompaction=function(b,c,d){for(var e=new Int32Array((b[0]-c)*2),f=new Int32Array((b[0]-c)*2),g=0,h=!1;c<b[0]&&!h;){var i=b[c++];if(i<a.TEXT_COMPACTION_MODE_LATCH)e[g]=i/30,e[g+1]=i%30,g+=2;else switch(i){case a.TEXT_COMPACTION_MODE_LATCH:e[g++]=a.TEXT_COMPACTION_MODE_LATCH;break;case a.BYTE_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.NUMERIC_COMPACTION_MODE_LATCH:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:c--,h=!0;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:e[g]=a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,i=b[c++],f[g]=i,g++}}return a.decodeTextCompaction(e,f,g,d),c},a.decodeTextCompaction=function(b,c,d,e){for(var f=a6.ALPHA,g=a6.ALPHA,h=0;h<d;){var i=b[h],j="";switch(f){case a6.ALPHA:if(i<26)j=String.fromCharCode(65+i);else switch(i){case 26:j=" ";break;case a.LL:f=a6.LOWER;break;case a.ML:f=a6.MIXED;break;case a.PS:g=f,f=a6.PUNCT_SHIFT;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:e.append(c[h]);break;case a.TEXT_COMPACTION_MODE_LATCH:f=a6.ALPHA}break;case a6.LOWER:if(i<26)j=String.fromCharCode(97+i);else switch(i){case 26:j=" ";break;case a.AS:g=f,f=a6.ALPHA_SHIFT;break;case a.ML:f=a6.MIXED;break;case a.PS:g=f,f=a6.PUNCT_SHIFT;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:e.append(c[h]);break;case a.TEXT_COMPACTION_MODE_LATCH:f=a6.ALPHA}break;case a6.MIXED:if(i<a.PL)j=a.MIXED_CHARS[i];else switch(i){case a.PL:f=a6.PUNCT;break;case 26:j=" ";break;case a.LL:f=a6.LOWER;break;case a.AL:f=a6.ALPHA;break;case a.PS:g=f,f=a6.PUNCT_SHIFT;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:e.append(c[h]);break;case a.TEXT_COMPACTION_MODE_LATCH:f=a6.ALPHA}break;case a6.PUNCT:if(i<a.PAL)j=a.PUNCT_CHARS[i];else switch(i){case a.PAL:f=a6.ALPHA;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:e.append(c[h]);break;case a.TEXT_COMPACTION_MODE_LATCH:f=a6.ALPHA}break;case a6.ALPHA_SHIFT:if(f=g,i<26)j=String.fromCharCode(65+i);else switch(i){case 26:j=" ";break;case a.TEXT_COMPACTION_MODE_LATCH:f=a6.ALPHA}break;case a6.PUNCT_SHIFT:if(f=g,i<a.PAL)j=a.PUNCT_CHARS[i];else switch(i){case a.PAL:f=a6.ALPHA;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:e.append(c[h]);break;case a.TEXT_COMPACTION_MODE_LATCH:f=a6.ALPHA}}""!==j&&e.append(j),h++}},a.byteCompaction=function(b,c,d,e,f){var g=new e4,h=0,i=0,j=!1;switch(b){case a.BYTE_COMPACTION_MODE_LATCH:for(var k=new Int32Array(6),l=c[e++];e<c[0]&&!j;)switch(k[h++]=l,i=900*i+l,l=c[e++]){case a.TEXT_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH:case a.NUMERIC_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:e--,j=!0;break;default:if(h%5==0&&h>0){for(var m=0;m<6;++m)g.write(Number(e6(i)>>e6(8*(5-m))));i=0,h=0}}e===c[0]&&l<a.TEXT_COMPACTION_MODE_LATCH&&(k[h++]=l);for(var n=0;n<h;n++)g.write(k[n]);break;case a.BYTE_COMPACTION_MODE_LATCH_6:for(;e<c[0]&&!j;){var o=c[e++];if(o<a.TEXT_COMPACTION_MODE_LATCH)h++,i=900*i+o;else switch(o){case a.TEXT_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH:case a.NUMERIC_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:e--,j=!0}if(h%5==0&&h>0){for(var m=0;m<6;++m)g.write(Number(e6(i)>>e6(8*(5-m))));i=0,h=0}}}return f.append(bH.decode(g.toByteArray(),d)),e},a.numericCompaction=function(b,c,d){for(var e=0,f=!1,g=new Int32Array(a.MAX_NUMERIC_CODEWORDS);c<b[0]&&!f;){var h=b[c++];if(c===b[0]&&(f=!0),h<a.TEXT_COMPACTION_MODE_LATCH)g[e]=h,e++;else switch(h){case a.TEXT_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:c--,f=!0}(e%a.MAX_NUMERIC_CODEWORDS==0||h===a.NUMERIC_COMPACTION_MODE_LATCH||f)&&e>0&&(d.append(a.decodeBase900toBase10(g,e)),e=0)}return c},a.decodeBase900toBase10=function(b,c){for(var d=e6(0),e=0;e<c;e++)d+=a.EXP900[c-e-1]*e6(b[e]);var f=d.toString();if("1"!==f.charAt(0))throw new bC;return f.substring(1)},a.TEXT_COMPACTION_MODE_LATCH=900,a.BYTE_COMPACTION_MODE_LATCH=901,a.NUMERIC_COMPACTION_MODE_LATCH=902,a.BYTE_COMPACTION_MODE_LATCH_6=924,a.ECI_USER_DEFINED=925,a.ECI_GENERAL_PURPOSE=926,a.ECI_CHARSET=927,a.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,a.MACRO_PDF417_TERMINATOR=922,a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,a.MAX_NUMERIC_CODEWORDS=15,a.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,a.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,a.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,a.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,a.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,a.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,a.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,a.PL=25,a.LL=27,a.AS=27,a.ML=28,a.AL=28,a.PS=29,a.PAL=29,a.PUNCT_CHARS=";<>@[\\]_`~!\r	,:\n-.$/\"|*()?{}'",a.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",a.EXP900=e5()?function(){var a=[];a[0]=e6(1);var b=e6(900);a[1]=b;for(var c=2;c<16;c++)a[c]=a[c-1]*b;return a}():[],a.NUMBER_OF_SEQUENCE_CODEWORDS=2,a}(),e8=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},e9=function(){function a(){}return a.decode=function(b,c,d,e,f,g,h){for(var i,j=new eJ(b,c,d,e,f),k=null,l=null,m=!0;;m=!1){if(null!=c&&(k=a.getRowIndicatorColumn(b,j,c,!0,g,h)),null!=e&&(l=a.getRowIndicatorColumn(b,j,e,!1,g,h)),null==(i=a.merge(k,l)))throw bM.getNotFoundInstance();var n=i.getBoundingBox();if(m&&null!=n&&(n.getMinY()<j.getMinY()||n.getMaxY()>j.getMaxY()))j=n;else break}i.setBoundingBox(j);var o=i.getBarcodeColumnCount()+1;i.setDetectionResultColumn(0,k),i.setDetectionResultColumn(o,l);for(var p=null!=k,q=1;q<=o;q++){var r=p?q:o-q;if(void 0===i.getDetectionResultColumn(r)){var s=void 0;s=0===r||r===o?new eT(j,0===r):new eN(j),i.setDetectionResultColumn(r,s);for(var t=-1,u=-1,v=j.getMinY();v<=j.getMaxY();v++){if((t=a.getStartColumn(i,r,v,p))<0||t>j.getMaxX()){if(-1===u)continue;t=u}var w=a.detectCodeword(b,j.getMinX(),j.getMaxX(),p,t,v,g,h);null!=w&&(s.setCodeword(v,w),u=t,g=Math.min(g,w.getWidth()),h=Math.max(h,w.getWidth()))}}}return a.createDecoderResult(i)},a.merge=function(b,c){if(null==b&&null==c)return null;var d=a.getBarcodeMetadata(b,c);return null==d?null:new eV(d,eJ.merge(a.adjustBoundingBox(b),a.adjustBoundingBox(c)))},a.adjustBoundingBox=function(b){if(null==b)return null;var c,d,e=b.getRowHeights();if(null==e)return null;var f=a.getMax(e),g=0;try{for(var h=e8(e),i=h.next();!i.done;i=h.next()){var j=i.value;if(g+=f-j,j>0)break}}catch(a){c={error:a}}finally{try{i&&!i.done&&(d=h.return)&&d.call(h)}finally{if(c)throw c.error}}for(var k=b.getCodewords(),l=0;g>0&&null==k[l];l++)g--;for(var m=0,l=e.length-1;l>=0&&(m+=f-e[l],!(e[l]>0));l--);for(var l=k.length-1;m>0&&null==k[l];l--)m--;return b.getBoundingBox().addMissingRows(g,m,b.isLeft())},a.getMax=function(a){var b,c,d=-1;try{for(var e=e8(a),f=e.next();!f.done;f=e.next()){var g=f.value;d=Math.max(d,g)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d},a.getBarcodeMetadata=function(a,b){var c,d;return null==a||null==(c=a.getBarcodeMetadata())?null==b?null:b.getBarcodeMetadata():null==b||null==(d=b.getBarcodeMetadata())?c:c.getColumnCount()!==d.getColumnCount()&&c.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&c.getRowCount()!==d.getRowCount()?null:c},a.getRowIndicatorColumn=function(b,c,d,e,f,g){for(var h=new eT(c,e),i=0;i<2;i++)for(var j=0===i?1:-1,k=Math.trunc(Math.trunc(d.getX())),l=Math.trunc(Math.trunc(d.getY()));l<=c.getMaxY()&&l>=c.getMinY();l+=j){var m=a.detectCodeword(b,0,b.getWidth(),e,k,l,f,g);null!=m&&(h.setCodeword(l,m),k=e?m.getStartX():m.getEndX())}return h},a.adjustCodewordCount=function(b,c){var d=c[0][1],e=d.getValue(),f=b.getBarcodeColumnCount()*b.getBarcodeRowCount()-a.getNumberOfECCodeWords(b.getBarcodeECLevel());if(0===e.length){if(f<1||f>ey.MAX_CODEWORDS_IN_BARCODE)throw bM.getNotFoundInstance();d.setValue(f)}else e[0]!==f&&d.setValue(f)},a.createDecoderResult=function(b){var c=a.createBarcodeMatrix(b);a.adjustCodewordCount(b,c);for(var d=[],e=new Int32Array(b.getBarcodeRowCount()*b.getBarcodeColumnCount()),f=[],g=[],h=0;h<b.getBarcodeRowCount();h++)for(var i=0;i<b.getBarcodeColumnCount();i++){var j=c[h][i+1].getValue(),k=h*b.getBarcodeColumnCount()+i;0===j.length?d.push(k):1===j.length?e[k]=j[0]:(g.push(k),f.push(j))}for(var l=Array(f.length),m=0;m<l.length;m++)l[m]=f[m];return a.createDecoderResultFromAmbiguousValues(b.getBarcodeECLevel(),e,ey.toIntArray(d),ey.toIntArray(g),l)},a.createDecoderResultFromAmbiguousValues=function(b,c,d,e,f){for(var g=new Int32Array(e.length),h=100;h-- >0;){for(var i=0;i<g.length;i++)c[e[i]]=f[i][g[i]];try{return a.decodeCodewords(c,b,d)}catch(a){if(!(a instanceof bp))throw a}if(0===g.length)break;for(var i=0;i<g.length;i++)if(g[i]<f[i].length-1){g[i]++;break}else if(g[i]=0,i===g.length-1)throw bp.getChecksumInstance()}throw bp.getChecksumInstance()},a.createBarcodeMatrix=function(a){for(var b,c,d,e,f=Array.from({length:a.getBarcodeRowCount()},function(){return Array(a.getBarcodeColumnCount()+2)}),g=0;g<f.length;g++)for(var h=0;h<f[g].length;h++)f[g][h]=new eQ;var i=0;try{for(var j=e8(a.getDetectionResultColumns()),k=j.next();!k.done;k=j.next()){var l=k.value;if(null!=l)try{for(var m=(d=void 0,e8(l.getCodewords())),n=m.next();!n.done;n=m.next()){var o=n.value;if(null!=o){var p=o.getRowNumber();if(p>=0){if(p>=f.length)continue;f[p][i].setValue(o.getValue())}}}}catch(a){d={error:a}}finally{try{n&&!n.done&&(e=m.return)&&e.call(m)}finally{if(d)throw d.error}}i++}}catch(a){b={error:a}}finally{try{k&&!k.done&&(c=j.return)&&c.call(j)}finally{if(b)throw b.error}}return f},a.isValidBarcodeColumn=function(a,b){return b>=0&&b<=a.getBarcodeColumnCount()+1},a.getStartColumn=function(b,c,d,e){var f,g,h=e?1:-1,i=null;if(a.isValidBarcodeColumn(b,c-h)&&(i=b.getDetectionResultColumn(c-h).getCodeword(d)),null!=i)return e?i.getEndX():i.getStartX();if(null!=(i=b.getDetectionResultColumn(c).getCodewordNearby(d)))return e?i.getStartX():i.getEndX();if(a.isValidBarcodeColumn(b,c-h)&&(i=b.getDetectionResultColumn(c-h).getCodewordNearby(d)),null!=i)return e?i.getEndX():i.getStartX();for(var j=0;a.isValidBarcodeColumn(b,c-h);){c-=h;try{for(var k=(f=void 0,e8(b.getDetectionResultColumn(c).getCodewords())),l=k.next();!l.done;l=k.next()){var m=l.value;if(null!=m)return(e?m.getEndX():m.getStartX())+h*j*(m.getEndX()-m.getStartX())}}catch(a){f={error:a}}finally{try{l&&!l.done&&(g=k.return)&&g.call(k)}finally{if(f)throw f.error}}j++}return e?b.getBoundingBox().getMinX():b.getBoundingBox().getMaxX()},a.detectCodeword=function(b,c,d,e,f,g,h,i){f=a.adjustCodewordStartColumn(b,c,d,e,f,g);var j,k=a.getModuleBitCount(b,c,d,e,f,g);if(null==k)return null;var l=cf.sum(k);if(e)j=f+l;else{for(var m=0;m<k.length/2;m++){var n=k[m];k[m]=k[k.length-1-m],k[k.length-1-m]=n}f=(j=f)-l}if(!a.checkCodewordSkew(l,h,i))return null;var o=eX.getDecodedValue(k),p=ey.getCodeword(o);return -1===p?null:new eW(f,j,a.getCodewordBucketNumber(o),p)},a.getModuleBitCount=function(a,b,c,d,e,f){for(var g=e,h=new Int32Array(8),i=0,j=d?1:-1,k=d;(d?g<c:g>=b)&&i<h.length;)a.get(g,f)===k?(h[i]++,g+=j):(i++,k=!k);return i===h.length||g===(d?c:b)&&i===h.length-1?h:null},a.getNumberOfECCodeWords=function(a){return 2<<a},a.adjustCodewordStartColumn=function(b,c,d,e,f,g){for(var h=f,i=e?-1:1,j=0;j<2;j++){for(;(e?h>=c:h<d)&&e===b.get(h,g);){if(Math.abs(f-h)>a.CODEWORD_SKEW_SIZE)return f;h+=i}i=-i,e=!e}return h},a.checkCodewordSkew=function(b,c,d){return c-a.CODEWORD_SKEW_SIZE<=b&&b<=d+a.CODEWORD_SKEW_SIZE},a.decodeCodewords=function(b,c,d){if(0===b.length)throw bC.getFormatInstance();var e=1<<c+1,f=a.correctErrors(b,d,e);a.verifyCodewordCount(b,e);var g=e7.decode(b,""+c);return g.setErrorsCorrected(f),g.setErasures(d.length),g},a.correctErrors=function(b,c,d){if(null!=c&&c.length>d/2+a.MAX_ERRORS||d<0||d>a.MAX_EC_CODEWORDS)throw bp.getChecksumInstance();return a.errorCorrection.decode(b,d,c)},a.verifyCodewordCount=function(a,b){if(a.length<4)throw bC.getFormatInstance();var c=a[0];if(c>a.length)throw bC.getFormatInstance();if(0===c)if(b<a.length)a[0]=a.length-b;else throw bC.getFormatInstance()},a.getBitCountForCodeword=function(a){for(var b=new Int32Array(8),c=0,d=b.length-1;!((1&a)!==c&&(c=1&a,--d<0));)b[d]++,a>>=1;return b},a.getCodewordBucketNumber=function(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)},a.getCodewordBucketNumber_number=function(b){return a.getCodewordBucketNumber(a.getBitCountForCodeword(b))},a.getCodewordBucketNumber_Int32Array=function(a){return(a[0]-a[2]+a[4]-a[6]+9)%9},a.toString=function(a){for(var b=new eL,c=0;c<a.length;c++){b.format("Row %2d: ",c);for(var d=0;d<a[c].length;d++){var e=a[c][d];0===e.getValue().length?b.format("        ",null):b.format("%4d(%2d)",e.getValue()[0],e.getConfidence(e.getValue()[0]))}b.format("%n")}return b.toString()},a.CODEWORD_SKEW_SIZE=2,a.MAX_ERRORS=3,a.MAX_EC_CODEWORDS=512,a.errorCorrection=new eI,a}(),fa=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},fb=function(){function a(){}return a.prototype.decode=function(b,c){void 0===c&&(c=null);var d=a.decode(b,c,!1);if(null==d||0===d.length||null==d[0])throw bM.getNotFoundInstance();return d[0]},a.prototype.decodeMultiple=function(b,c){void 0===c&&(c=null);try{return a.decode(b,c,!0)}catch(a){if(a instanceof bC||a instanceof bp)throw bM.getNotFoundInstance();throw a}},a.decode=function(b,c,d){var e,f,g=[],h=eB.detectMultiple(b,c,d);try{for(var i=fa(h.getPoints()),j=i.next();!j.done;j=i.next()){var k=j.value,l=e9.decode(h.getBits(),k[4],k[5],k[6],k[7],a.getMinCodewordWidth(k),a.getMaxCodewordWidth(k)),m=new b_(l.getText(),l.getRawBytes(),void 0,k,b0.PDF_417);m.putMetadata(b1.ERROR_CORRECTION_LEVEL,l.getECLevel());var n=l.getOther();null!=n&&m.putMetadata(b1.PDF417_EXTRA_METADATA,n),g.push(m)}}catch(a){e={error:a}}finally{try{j&&!j.done&&(f=i.return)&&f.call(i)}finally{if(e)throw e.error}}return g.map(function(a){return a})},a.getMaxWidth=function(a,b){return null==a||null==b?0:Math.trunc(Math.abs(a.getX()-b.getX()))},a.getMinWidth=function(a,b){return null==a||null==b?by.MAX_VALUE:Math.trunc(Math.abs(a.getX()-b.getX()))},a.getMaxCodewordWidth=function(b){return Math.floor(Math.max(Math.max(a.getMaxWidth(b[0],b[4]),a.getMaxWidth(b[6],b[2])*ey.MODULES_IN_CODEWORD/ey.MODULES_IN_STOP_PATTERN),Math.max(a.getMaxWidth(b[1],b[5]),a.getMaxWidth(b[7],b[3])*ey.MODULES_IN_CODEWORD/ey.MODULES_IN_STOP_PATTERN)))},a.getMinCodewordWidth=function(b){return Math.floor(Math.min(Math.min(a.getMinWidth(b[0],b[4]),a.getMinWidth(b[6],b[2])*ey.MODULES_IN_CODEWORD/ey.MODULES_IN_STOP_PATTERN),Math.min(a.getMinWidth(b[1],b[5]),a.getMinWidth(b[7],b[3])*ey.MODULES_IN_CODEWORD/ey.MODULES_IN_STOP_PATTERN)))},a.prototype.reset=function(){},a}(),fc=(au=function(a,b){return(au=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}au(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),fd=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return fc(b,a),b.kind="ReaderException",b}(bi),fe=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},ff=function(){function a(){}return a.prototype.decode=function(a,b){return this.setHints(b),this.decodeInternal(a)},a.prototype.decodeWithState=function(a){return(null===this.readers||void 0===this.readers)&&this.setHints(null),this.decodeInternal(a)},a.prototype.setHints=function(a){this.hints=a;var b=null!=a&&void 0!==a.get(bA.TRY_HARDER),c=null==a?null:a.get(bA.POSSIBLE_FORMATS),d=[];if(null!=c){var e=c.some(function(a){return a===b0.UPC_A||a===b0.UPC_E||a===b0.EAN_13||a===b0.EAN_8||a===b0.CODABAR||a===b0.CODE_39||a===b0.CODE_93||a===b0.CODE_128||a===b0.ITF||a===b0.RSS_14||a===b0.RSS_EXPANDED});e&&!b&&d.push(new dT(a)),c.includes(b0.QR_CODE)&&d.push(new ew),c.includes(b0.DATA_MATRIX)&&d.push(new d4),c.includes(b0.AZTEC)&&d.push(new ct),c.includes(b0.PDF_417)&&d.push(new fb),e&&b&&d.push(new dT(a))}0===d.length&&(b||d.push(new dT(a)),d.push(new ew),d.push(new d4),d.push(new ct),d.push(new fb),b&&d.push(new dT(a))),this.readers=d},a.prototype.reset=function(){var a,b;if(null!==this.readers)try{for(var c=fe(this.readers),d=c.next();!d.done;d=c.next())d.value.reset()}catch(b){a={error:b}}finally{try{d&&!d.done&&(b=c.return)&&b.call(c)}finally{if(a)throw a.error}}},a.prototype.decodeInternal=function(a){var b,c;if(null===this.readers)throw new fd("No readers where selected, nothing can be read.");try{for(var d=fe(this.readers),e=d.next();!e.done;e=d.next()){var f=e.value;try{return f.decode(a,this.hints)}catch(a){if(a instanceof fd)continue}}}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}throw new bM("No MultiFormat Readers were able to detect the code.")},a}();function fg(a,b){void 0===a&&(a=null),void 0===b&&(b=500);var c=new ff;return c.setHints(a),b$.call(this,c,b)||this}(av=function(a,b){return(av=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}av(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(fg,b$),fg.prototype.decodeBitmap=function(a){return this.reader.decodeWithState(a)},(aw=function(a,b){return(aw=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aw(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(function(a){return void 0===a&&(a=500),ax.call(this,new fb,a)||this},ax=b$),(ay=function(a,b){return(ay=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}ay(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(function(a){return void 0===a&&(a=500),az.call(this,new ew,a)||this},az=b$),(aA=a8||(a8={}))[aA.ERROR_CORRECTION=0]="ERROR_CORRECTION",aA[aA.CHARACTER_SET=1]="CHARACTER_SET",aA[aA.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",aA[aA.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",aA[aA.MIN_SIZE=4]="MIN_SIZE",aA[aA.MAX_SIZE=5]="MAX_SIZE",aA[aA.MARGIN=6]="MARGIN",aA[aA.PDF417_COMPACT=7]="PDF417_COMPACT",aA[aA.PDF417_COMPACTION=8]="PDF417_COMPACTION",aA[aA.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",aA[aA.AZTEC_LAYERS=10]="AZTEC_LAYERS",aA[aA.QR_VERSION=11]="QR_VERSION",aA[aA.GS1_FORMAT=12]="GS1_FORMAT",aA[aA.FORCE_C40=13]="FORCE_C40";let fh=a8;var fi=function(){function a(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new b4(a,Int32Array.from([1])))}return a.prototype.buildGenerator=function(a){var b=this.cachedGenerators;if(a>=b.length)for(var c=b[b.length-1],d=this.field,e=b.length;e<=a;e++){var f=c.multiply(new b4(d,Int32Array.from([1,d.exp(e-1+d.getGeneratorBase())])));b.push(f),c=f}return b[a]},a.prototype.encode=function(a,b){if(0===b)throw new bm("No error correction bytes");var c=a.length-b;if(c<=0)throw new bm("No data bytes provided");var d=this.buildGenerator(b),e=new Int32Array(c);br.arraycopy(a,0,e,0,c);for(var f=new b4(this.field,e),g=(f=f.multiplyByMonomial(b,1)).divide(d)[1].getCoefficients(),h=b-g.length,i=0;i<h;i++)a[c+i]=0;br.arraycopy(g,0,a,c+h,g.length)},a}(),fj=function(){function a(){}return a.applyMaskPenaltyRule1=function(b){return a.applyMaskPenaltyRule1Internal(b,!0)+a.applyMaskPenaltyRule1Internal(b,!1)},a.applyMaskPenaltyRule2=function(b){for(var c=0,d=b.getArray(),e=b.getWidth(),f=b.getHeight(),g=0;g<f-1;g++)for(var h=d[g],i=0;i<e-1;i++){var j=h[i];j===h[i+1]&&j===d[g+1][i]&&j===d[g+1][i+1]&&c++}return a.N2*c},a.applyMaskPenaltyRule3=function(b){for(var c=0,d=b.getArray(),e=b.getWidth(),f=b.getHeight(),g=0;g<f;g++)for(var h=0;h<e;h++){var i=d[g];h+6<e&&1===i[h]&&0===i[h+1]&&1===i[h+2]&&1===i[h+3]&&1===i[h+4]&&0===i[h+5]&&1===i[h+6]&&(a.isWhiteHorizontal(i,h-4,h)||a.isWhiteHorizontal(i,h+7,h+11))&&c++,g+6<f&&1===d[g][h]&&0===d[g+1][h]&&1===d[g+2][h]&&1===d[g+3][h]&&1===d[g+4][h]&&0===d[g+5][h]&&1===d[g+6][h]&&(a.isWhiteVertical(d,h,g-4,g)||a.isWhiteVertical(d,h,g+7,g+11))&&c++}return c*a.N3},a.isWhiteHorizontal=function(a,b,c){b=Math.max(b,0),c=Math.min(c,a.length);for(var d=b;d<c;d++)if(1===a[d])return!1;return!0},a.isWhiteVertical=function(a,b,c,d){c=Math.max(c,0),d=Math.min(d,a.length);for(var e=c;e<d;e++)if(1===a[e][b])return!1;return!0},a.applyMaskPenaltyRule4=function(b){for(var c=0,d=b.getArray(),e=b.getWidth(),f=b.getHeight(),g=0;g<f;g++)for(var h=d[g],i=0;i<e;i++)1===h[i]&&c++;var j=b.getHeight()*b.getWidth();return Math.floor(10*Math.abs(2*c-j)/j)*a.N4},a.getDataMaskBit=function(a,b,c){var d,e;switch(a){case 0:d=c+b&1;break;case 1:d=1&c;break;case 2:d=b%3;break;case 3:d=(c+b)%3;break;case 4:d=Math.floor(c/2)+Math.floor(b/3)&1;break;case 5:d=(1&(e=c*b))+e%3;break;case 6:d=(1&(e=c*b))+e%3&1;break;case 7:d=(e=c*b)%3+(c+b&1)&1;break;default:throw new bm("Invalid mask pattern: "+a)}return 0===d},a.applyMaskPenaltyRule1Internal=function(b,c){for(var d=0,e=c?b.getHeight():b.getWidth(),f=c?b.getWidth():b.getHeight(),g=b.getArray(),h=0;h<e;h++){for(var i=0,j=-1,k=0;k<f;k++){var l=c?g[h][k]:g[k][h];l===j?i++:(i>=5&&(d+=a.N1+(i-5)),i=1,j=l)}i>=5&&(d+=a.N1+(i-5))}return d},a.N1=3,a.N2=3,a.N3=40,a.N4=10,a}(),fk=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},fl=function(){function a(a,b){this.width=a,this.height=b;for(var c=Array(b),d=0;d!==b;d++)c[d]=new Uint8Array(a);this.bytes=c}return a.prototype.getHeight=function(){return this.height},a.prototype.getWidth=function(){return this.width},a.prototype.get=function(a,b){return this.bytes[b][a]},a.prototype.getArray=function(){return this.bytes},a.prototype.setNumber=function(a,b,c){this.bytes[b][a]=c},a.prototype.setBoolean=function(a,b,c){this.bytes[b][a]=+!!c},a.prototype.clear=function(a){var b,c;try{for(var d=fk(this.bytes),e=d.next();!e.done;e=d.next()){var f=e.value;bx.fill(f,a)}}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}},a.prototype.equals=function(b){if(!(b instanceof a)||this.width!==b.width||this.height!==b.height)return!1;for(var c=0,d=this.height;c<d;++c)for(var e=this.bytes[c],f=b.bytes[c],g=0,h=this.width;g<h;++g)if(e[g]!==f[g])return!1;return!0},a.prototype.toString=function(){for(var a=new bJ,b=0,c=this.height;b<c;++b){for(var d=this.bytes[b],e=0,f=this.width;e<f;++e)switch(d[e]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ")}a.append("\n")}return a.toString()},a}(),fm=function(){function a(){this.maskPattern=-1}return a.prototype.getMode=function(){return this.mode},a.prototype.getECLevel=function(){return this.ecLevel},a.prototype.getVersion=function(){return this.version},a.prototype.getMaskPattern=function(){return this.maskPattern},a.prototype.getMatrix=function(){return this.matrix},a.prototype.toString=function(){var a=new bJ;return a.append("<<\n"),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append("\n ecLevel: "),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append("\n version: "),a.append(this.version?this.version.toString():"null"),a.append("\n maskPattern: "),a.append(this.maskPattern.toString()),this.matrix?(a.append("\n matrix:\n"),a.append(this.matrix.toString())):a.append("\n matrix: null\n"),a.append(">>\n"),a.toString()},a.prototype.setMode=function(a){this.mode=a},a.prototype.setECLevel=function(a){this.ecLevel=a},a.prototype.setVersion=function(a){this.version=a},a.prototype.setMaskPattern=function(a){this.maskPattern=a},a.prototype.setMatrix=function(a){this.matrix=a},a.isValidMaskPattern=function(b){return b>=0&&b<a.NUM_MASK_PATTERNS},a.NUM_MASK_PATTERNS=8,a}(),fn=(aB=function(a,b){return(aB=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aB(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),fo=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return fn(b,a),b.kind="WriterException",b}(bi),fp=function(){function a(){}return a.clearMatrix=function(a){a.clear(255)},a.buildMatrix=function(b,c,d,e,f){a.clearMatrix(f),a.embedBasicPatterns(d,f),a.embedTypeInfo(c,e,f),a.maybeEmbedVersionInfo(d,f),a.embedDataBits(b,e,f)},a.embedBasicPatterns=function(b,c){a.embedPositionDetectionPatternsAndSeparators(c),a.embedDarkDotAtLeftBottomCorner(c),a.maybeEmbedPositionAdjustmentPatterns(b,c),a.embedTimingPatterns(c)},a.embedTypeInfo=function(b,c,d){var e=new bz;a.makeTypeInfoBits(b,c,e);for(var f=0,g=e.getSize();f<g;++f){var h=e.get(e.getSize()-1-f),i=a.TYPE_INFO_COORDINATES[f],j=i[0],k=i[1];if(d.setBoolean(j,k,h),f<8){var l=d.getWidth()-f-1,m=8;d.setBoolean(l,m,h)}else{var l=8,m=d.getHeight()-7+(f-8);d.setBoolean(l,m,h)}}},a.maybeEmbedVersionInfo=function(b,c){if(!(7>b.getVersionNumber())){var d=new bz;a.makeVersionInfoBits(b,d);for(var e=17,f=0;f<6;++f)for(var g=0;g<3;++g){var h=d.get(e);e--,c.setBoolean(f,c.getHeight()-11+g,h),c.setBoolean(c.getHeight()-11+g,f,h)}}},a.embedDataBits=function(b,c,d){for(var e=0,f=-1,g=d.getWidth()-1,h=d.getHeight()-1;g>0;){for(6===g&&(g-=1);h>=0&&h<d.getHeight();){for(var i=0;i<2;++i){var j=g-i;if(a.isEmpty(d.get(j,h))){var k=void 0;e<b.getSize()?(k=b.get(e),++e):k=!1,255!==c&&fj.getDataMaskBit(c,j,h)&&(k=!k),d.setBoolean(j,h,k)}}h+=f}h+=f=-f,g-=2}if(e!==b.getSize())throw new fo("Not all bits consumed: "+e+"/"+b.getSize())},a.findMSBSet=function(a){return 32-by.numberOfLeadingZeros(a)},a.calculateBCHCode=function(b,c){if(0===c)throw new bm("0 polynomial");var d=a.findMSBSet(c);for(b<<=d-1;a.findMSBSet(b)>=d;)b^=c<<a.findMSBSet(b)-d;return b},a.makeTypeInfoBits=function(b,c,d){if(!fm.isValidMaskPattern(c))throw new fo("Invalid mask pattern");var e=b.getBits()<<3|c;d.appendBits(e,5);var f=a.calculateBCHCode(e,a.TYPE_INFO_POLY);d.appendBits(f,10);var g=new bz;if(g.appendBits(a.TYPE_INFO_MASK_PATTERN,15),d.xor(g),15!==d.getSize())throw new fo("should not happen but we got: "+d.getSize())},a.makeVersionInfoBits=function(b,c){c.appendBits(b.getVersionNumber(),6);var d=a.calculateBCHCode(b.getVersionNumber(),a.VERSION_INFO_POLY);if(c.appendBits(d,12),18!==c.getSize())throw new fo("should not happen but we got: "+c.getSize())},a.isEmpty=function(a){return 255===a},a.embedTimingPatterns=function(b){for(var c=8;c<b.getWidth()-8;++c){var d=(c+1)%2;a.isEmpty(b.get(c,6))&&b.setNumber(c,6,d),a.isEmpty(b.get(6,c))&&b.setNumber(6,c,d)}},a.embedDarkDotAtLeftBottomCorner=function(a){if(0===a.get(8,a.getHeight()-8))throw new fo;a.setNumber(8,a.getHeight()-8,1)},a.embedHorizontalSeparationPattern=function(b,c,d){for(var e=0;e<8;++e){if(!a.isEmpty(d.get(b+e,c)))throw new fo;d.setNumber(b+e,c,0)}},a.embedVerticalSeparationPattern=function(b,c,d){for(var e=0;e<7;++e){if(!a.isEmpty(d.get(b,c+e)))throw new fo;d.setNumber(b,c+e,0)}},a.embedPositionAdjustmentPattern=function(b,c,d){for(var e=0;e<5;++e)for(var f=a.POSITION_ADJUSTMENT_PATTERN[e],g=0;g<5;++g)d.setNumber(b+g,c+e,f[g])},a.embedPositionDetectionPattern=function(b,c,d){for(var e=0;e<7;++e)for(var f=a.POSITION_DETECTION_PATTERN[e],g=0;g<7;++g)d.setNumber(b+g,c+e,f[g])},a.embedPositionDetectionPatternsAndSeparators=function(b){var c=a.POSITION_DETECTION_PATTERN[0].length;a.embedPositionDetectionPattern(0,0,b),a.embedPositionDetectionPattern(b.getWidth()-c,0,b),a.embedPositionDetectionPattern(0,b.getWidth()-c,b),a.embedHorizontalSeparationPattern(0,7,b),a.embedHorizontalSeparationPattern(b.getWidth()-8,7,b),a.embedHorizontalSeparationPattern(0,b.getWidth()-8,b),a.embedVerticalSeparationPattern(7,0,b),a.embedVerticalSeparationPattern(b.getHeight()-7-1,0,b),a.embedVerticalSeparationPattern(7,b.getHeight()-7,b)},a.maybeEmbedPositionAdjustmentPatterns=function(b,c){if(!(2>b.getVersionNumber()))for(var d=b.getVersionNumber()-1,e=a.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d],f=0,g=e.length;f!==g;f++){var h=e[f];if(h>=0)for(var i=0;i!==g;i++){var j=e[i];j>=0&&a.isEmpty(c.get(j,h))&&a.embedPositionAdjustmentPattern(j-2,h-2,c)}}},a.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),a.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),a.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),a.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),a.VERSION_INFO_POLY=7973,a.TYPE_INFO_POLY=1335,a.TYPE_INFO_MASK_PATTERN=21522,a}(),fq=function(){function a(a,b){this.dataBytes=a,this.errorCorrectionBytes=b}return a.prototype.getDataBytes=function(){return this.dataBytes},a.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},a}(),fr=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},fs=function(){function a(){}return a.calculateMaskPenalty=function(a){return fj.applyMaskPenaltyRule1(a)+fj.applyMaskPenaltyRule2(a)+fj.applyMaskPenaltyRule3(a)+fj.applyMaskPenaltyRule4(a)},a.encode=function(b,c,d){void 0===d&&(d=null);var e,f=a.DEFAULT_BYTE_MODE_ENCODING,g=null!==d&&void 0!==d.get(fh.CHARACTER_SET);g&&(f=d.get(fh.CHARACTER_SET).toString());var h=this.chooseMode(b,f),i=new bz;if(h===eh.BYTE&&(g||a.DEFAULT_BYTE_MODE_ENCODING!==f)){var j=bE.getCharacterSetECIByName(f);void 0!==j&&this.appendECI(j,i)}this.appendModeInfo(h,i);var k=new bz;if(this.appendBytes(b,h,k,f),null!==d&&void 0!==d.get(fh.QR_VERSION)){var l=Number.parseInt(d.get(fh.QR_VERSION).toString(),10);e=ec.getVersionForNumber(l);var m=this.calculateBitsNeeded(h,i,k,e);if(!this.willFit(m,e,c))throw new fo("Data too big for requested version")}else e=this.recommendVersion(c,h,i,k);var n=new bz;n.appendBitArray(i);var o=h===eh.BYTE?k.getSizeInBytes():b.length;this.appendLengthInfo(o,e,h,n),n.appendBitArray(k);var p=e.getECBlocksForLevel(c),q=e.getTotalCodewords()-p.getTotalECCodewords();this.terminateBits(q,n);var r=this.interleaveWithECBytes(n,e.getTotalCodewords(),q,p.getNumBlocks()),s=new fm;s.setECLevel(c),s.setMode(h),s.setVersion(e);var t=e.getDimensionForVersion(),u=new fl(t,t),v=this.chooseMaskPattern(r,c,e,u);return s.setMaskPattern(v),fp.buildMatrix(r,c,e,v,u),s.setMatrix(u),s},a.recommendVersion=function(a,b,c,d){var e=this.calculateBitsNeeded(b,c,d,ec.getVersionForNumber(1)),f=this.chooseVersion(e,a),g=this.calculateBitsNeeded(b,c,d,f);return this.chooseVersion(g,a)},a.calculateBitsNeeded=function(a,b,c,d){return b.getSize()+a.getCharacterCountBits(d)+c.getSize()},a.getAlphanumericCode=function(b){return b<a.ALPHANUMERIC_TABLE.length?a.ALPHANUMERIC_TABLE[b]:-1},a.chooseMode=function(b,c){if(void 0===c&&(c=null),bE.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(b))return eh.KANJI;for(var d=!1,e=!1,f=0,g=b.length;f<g;++f){var h=b.charAt(f);if(a.isDigit(h))d=!0;else{if(-1===this.getAlphanumericCode(h.charCodeAt(0)))return eh.BYTE;e=!0}}return e?eh.ALPHANUMERIC:d?eh.NUMERIC:eh.BYTE},a.isOnlyDoubleByteKanji=function(a){try{b=bH.encode(a,bE.SJIS)}catch(a){return!1}var b,c=b.length;if(c%2!=0)return!1;for(var d=0;d<c;d+=2){var e=255&b[d];if((e<129||e>159)&&(e<224||e>235))return!1}return!0},a.chooseMaskPattern=function(a,b,c,d){for(var e=Number.MAX_SAFE_INTEGER,f=-1,g=0;g<fm.NUM_MASK_PATTERNS;g++){fp.buildMatrix(a,b,c,g,d);var h=this.calculateMaskPenalty(d);h<e&&(e=h,f=g)}return f},a.chooseVersion=function(b,c){for(var d=1;d<=40;d++){var e=ec.getVersionForNumber(d);if(a.willFit(b,e,c))return e}throw new fo("Data too big")},a.willFit=function(a,b,c){return b.getTotalCodewords()-b.getECBlocksForLevel(c).getTotalECCodewords()>=(a+7)/8},a.terminateBits=function(a,b){var c=8*a;if(b.getSize()>c)throw new fo("data bits cannot fit in the QR Code"+b.getSize()+" > "+c);for(var d=0;d<4&&b.getSize()<c;++d)b.appendBit(!1);var e=7&b.getSize();if(e>0)for(var d=e;d<8;d++)b.appendBit(!1);for(var f=a-b.getSizeInBytes(),d=0;d<f;++d)b.appendBits((1&d)==0?236:17,8);if(b.getSize()!==c)throw new fo("Bits size does not equal capacity")},a.getNumDataBytesAndNumECBytesForBlockID=function(a,b,c,d,e,f){if(d>=c)throw new fo("Block ID too large");var g=a%c,h=c-g,i=Math.floor(a/c),j=Math.floor(b/c),k=j+1,l=i-j,m=i+1-k;if(l!==m)throw new fo("EC bytes mismatch");if(c!==h+g)throw new fo("RS blocks mismatch");if(a!==(j+l)*h+(k+m)*g)throw new fo("Total bytes mismatch");d<h?(e[0]=j,f[0]=l):(e[0]=k,f[0]=m)},a.interleaveWithECBytes=function(b,c,d,e){if(b.getSizeInBytes()!==d)throw new fo("Number of bits and data bytes does not match");for(var f,g,h,i,j=0,k=0,l=0,m=[],n=0;n<e;++n){var o=new Int32Array(1),p=new Int32Array(1);a.getNumDataBytesAndNumECBytesForBlockID(c,d,e,n,o,p);var q=o[0],r=new Uint8Array(q);b.toBytes(8*j,r,0,q);var s=a.generateECBytes(r,p[0]);m.push(new fq(r,s)),k=Math.max(k,q),l=Math.max(l,s.length),j+=o[0]}if(d!==j)throw new fo("Data bytes does not match offset");for(var t=new bz,n=0;n<k;++n)try{for(var u=(f=void 0,fr(m)),v=u.next();!v.done;v=u.next()){var w=v.value,r=w.getDataBytes();n<r.length&&t.appendBits(r[n],8)}}catch(a){f={error:a}}finally{try{v&&!v.done&&(g=u.return)&&g.call(u)}finally{if(f)throw f.error}}for(var n=0;n<l;++n)try{for(var x=(h=void 0,fr(m)),y=x.next();!y.done;y=x.next()){var w=y.value,s=w.getErrorCorrectionBytes();n<s.length&&t.appendBits(s[n],8)}}catch(a){h={error:a}}finally{try{y&&!y.done&&(i=x.return)&&i.call(x)}finally{if(h)throw h.error}}if(c!==t.getSizeInBytes())throw new fo("Interleaving error: "+c+" and "+t.getSizeInBytes()+" differ.");return t},a.generateECBytes=function(a,b){for(var c=a.length,d=new Int32Array(c+b),e=0;e<c;e++)d[e]=255&a[e];new fi(b8.QR_CODE_FIELD_256).encode(d,b);for(var f=new Uint8Array(b),e=0;e<b;e++)f[e]=d[c+e];return f},a.appendModeInfo=function(a,b){b.appendBits(a.getBits(),4)},a.appendLengthInfo=function(a,b,c,d){var e=c.getCharacterCountBits(b);if(a>=1<<e)throw new fo(a+" is bigger than "+((1<<e)-1));d.appendBits(a,e)},a.appendBytes=function(b,c,d,e){switch(c){case eh.NUMERIC:a.appendNumericBytes(b,d);break;case eh.ALPHANUMERIC:a.appendAlphanumericBytes(b,d);break;case eh.BYTE:a.append8BitBytes(b,d,e);break;case eh.KANJI:a.appendKanjiBytes(b,d);break;default:throw new fo("Invalid mode: "+c)}},a.getDigit=function(a){return a.charCodeAt(0)-48},a.isDigit=function(b){var c=a.getDigit(b);return c>=0&&c<=9},a.appendNumericBytes=function(b,c){for(var d=b.length,e=0;e<d;){var f=a.getDigit(b.charAt(e));if(e+2<d){var g=a.getDigit(b.charAt(e+1)),h=a.getDigit(b.charAt(e+2));c.appendBits(100*f+10*g+h,10),e+=3}else if(e+1<d){var g=a.getDigit(b.charAt(e+1));c.appendBits(10*f+g,7),e+=2}else c.appendBits(f,4),e++}},a.appendAlphanumericBytes=function(b,c){for(var d=b.length,e=0;e<d;){var f=a.getAlphanumericCode(b.charCodeAt(e));if(-1===f)throw new fo;if(e+1<d){var g=a.getAlphanumericCode(b.charCodeAt(e+1));if(-1===g)throw new fo;c.appendBits(45*f+g,11),e+=2}else c.appendBits(f,6),e++}},a.append8BitBytes=function(a,b,c){var d;try{d=bH.encode(a,c)}catch(a){throw new fo(a)}for(var e=0,f=d.length;e!==f;e++){var g=d[e];b.appendBits(g,8)}},a.appendKanjiBytes=function(a,b){try{c=bH.encode(a,bE.SJIS)}catch(a){throw new fo(a)}for(var c,d=c.length,e=0;e<d;e+=2){var f=(255&c[e])<<8|255&c[e+1],g=-1;if(f>=33088&&f<=40956?g=f-33088:f>=57408&&f<=60351&&(g=f-49472),-1===g)throw new fo("Invalid byte sequence");var h=(g>>8)*192+(255&g);b.appendBits(h,13)}},a.appendECI=function(a,b){b.appendBits(eh.ECI.getBits(),4),b.appendBits(a.getValue(),8)},a.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),a.DEFAULT_BYTE_MODE_ENCODING=bE.UTF8.getName(),a}();function ft(){}ft.prototype.write=function(a,b,c,d){if(void 0===d&&(d=null),0===a.length)throw new bm("Found empty contents");if(b<0||c<0)throw new bm("Requested dimensions are too small: "+b+"x"+c);var e=d5.L,f=ft.QUIET_ZONE_SIZE;null!==d&&(void 0!==d.get(fh.ERROR_CORRECTION)&&(e=d5.fromString(d.get(fh.ERROR_CORRECTION).toString())),void 0!==d.get(fh.MARGIN)&&(f=Number.parseInt(d.get(fh.MARGIN).toString(),10)));var g=fs.encode(a,e,d);return this.renderResult(g,b,c,f)},ft.prototype.writeToDom=function(a,b,c,d,e){void 0===e&&(e=null),"string"==typeof a&&(a=document.querySelector(a));var f=this.write(b,c,d,e);a&&a.appendChild(f)},ft.prototype.renderResult=function(a,b,c,d){var e=a.getMatrix();if(null===e)throw new cc;for(var f=e.getWidth(),g=e.getHeight(),h=f+2*d,i=g+2*d,j=Math.max(b,h),k=Math.max(c,i),l=Math.min(Math.floor(j/h),Math.floor(k/i)),m=Math.floor((j-f*l)/2),n=Math.floor((k-g*l)/2),o=this.createSVGElement(j,k),p=0,q=n;p<g;p++,q+=l)for(var r=0,s=m;r<f;r++,s+=l)if(1===e.get(r,p)){var t=this.createSvgRectElement(s,q,l,l);o.appendChild(t)}return o},ft.prototype.createSVGElement=function(a,b){var c=document.createElementNS(ft.SVG_NS,"svg");return c.setAttributeNS(null,"height",a.toString()),c.setAttributeNS(null,"width",b.toString()),c},ft.prototype.createSvgRectElement=function(a,b,c,d){var e=document.createElementNS(ft.SVG_NS,"rect");return e.setAttributeNS(null,"x",a.toString()),e.setAttributeNS(null,"y",b.toString()),e.setAttributeNS(null,"height",c.toString()),e.setAttributeNS(null,"width",d.toString()),e.setAttributeNS(null,"fill","#000000"),e},ft.QUIET_ZONE_SIZE=4,ft.SVG_NS="http://www.w3.org/2000/svg",a.i(7231),a.i(84612);var fu=function(){function a(){}return a.prototype.encode=function(b,c,d,e,f){if(0===b.length)throw new bm("Found empty contents");if(c!==b0.QR_CODE)throw new bm("Can only encode QR_CODE, but got "+c);if(d<0||e<0)throw new bm("Requested dimensions are too small: "+d+"x"+e);var g=d5.L,h=a.QUIET_ZONE_SIZE;null!==f&&(void 0!==f.get(fh.ERROR_CORRECTION)&&(g=d5.fromString(f.get(fh.ERROR_CORRECTION).toString())),void 0!==f.get(fh.MARGIN)&&(h=Number.parseInt(f.get(fh.MARGIN).toString(),10)));var i=fs.encode(b,g,f);return a.renderResult(i,d,e,h)},a.renderResult=function(a,b,c,d){var e=a.getMatrix();if(null===e)throw new cc;for(var f=e.getWidth(),g=e.getHeight(),h=f+2*d,i=g+2*d,j=Math.max(b,h),k=Math.max(c,i),l=Math.min(Math.floor(j/h),Math.floor(k/i)),m=Math.floor((j-f*l)/2),n=Math.floor((k-g*l)/2),o=new bK(j,k),p=0,q=n;p<g;p++,q+=l)for(var r=0,s=m;r<f;r++,s+=l)1===e.get(r,p)&&o.setRegion(s,q,l,l);return o},a.QUIET_ZONE_SIZE=4,a}();function fv(a,b,c,d,e,f,g,h){var i=bR.call(this,f,g)||this;if(i.yuvData=a,i.dataWidth=b,i.dataHeight=c,i.left=d,i.top=e,d+f>b||e+g>c)throw new bm("Crop rectangle does not fit within image data.");return h&&i.reverseHorizontal(f,g),i}function fw(a,b,c,d,e,f,g){var h=bR.call(this,b,c)||this;if(h.dataWidth=d,h.dataHeight=e,h.left=f,h.top=g,4===a.BYTES_PER_ELEMENT){for(var i=b*c,j=new Uint8ClampedArray(i),k=0;k<i;k++){var l=a[k],m=l>>16&255,n=l>>7&510,o=255&l;j[k]=(m+n+o)/4&255}h.luminances=j}else h.luminances=a;if(void 0===d&&(h.dataWidth=b),void 0===e&&(h.dataHeight=c),void 0===f&&(h.left=0),void 0===g&&(h.top=0),h.left+b>h.dataWidth||h.top+c>h.dataHeight)throw new bm("Crop rectangle does not fit within image data.");return h}(function(){}).prototype.encode=function(a,b,c,d,e){var f;if(b===b0.QR_CODE)f=new fu;else throw new bm("No encoder available for format "+b);return f.encode(a,b,c,d,e)},(aC=function(a,b){return(aC=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aC(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(fv,bR),fv.prototype.getRow=function(a,b){if(a<0||a>=this.getHeight())throw new bm("Requested row is outside the image: "+a);var c=this.getWidth();(null==b||b.length<c)&&(b=new Uint8ClampedArray(c));var d=(a+this.top)*this.dataWidth+this.left;return br.arraycopy(this.yuvData,d,b,0,c),b},fv.prototype.getMatrix=function(){var a=this.getWidth(),b=this.getHeight();if(a===this.dataWidth&&b===this.dataHeight)return this.yuvData;var c=a*b,d=new Uint8ClampedArray(c),e=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return br.arraycopy(this.yuvData,e,d,0,c),d;for(var f=0;f<b;f++){var g=f*a;br.arraycopy(this.yuvData,e,d,g,a),e+=this.dataWidth}return d},fv.prototype.isCropSupported=function(){return!0},fv.prototype.crop=function(a,b,c,d){return new fv(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+b,c,d,!1)},fv.prototype.renderThumbnail=function(){for(var a=this.getWidth()/fv.THUMBNAIL_SCALE_FACTOR,b=this.getHeight()/fv.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(a*b),d=this.yuvData,e=this.top*this.dataWidth+this.left,f=0;f<b;f++){for(var g=f*a,h=0;h<a;h++){var i=255&d[e+h*fv.THUMBNAIL_SCALE_FACTOR];c[g+h]=0xff000000|65793*i}e+=this.dataWidth*fv.THUMBNAIL_SCALE_FACTOR}return c},fv.prototype.getThumbnailWidth=function(){return this.getWidth()/fv.THUMBNAIL_SCALE_FACTOR},fv.prototype.getThumbnailHeight=function(){return this.getHeight()/fv.THUMBNAIL_SCALE_FACTOR},fv.prototype.reverseHorizontal=function(a,b){for(var c=this.yuvData,d=0,e=this.top*this.dataWidth+this.left;d<b;d++,e+=this.dataWidth)for(var f=e+a/2,g=e,h=e+a-1;g<f;g++,h--){var i=c[g];c[g]=c[h],c[h]=i}},fv.prototype.invert=function(){return new bT(this)},fv.THUMBNAIL_SCALE_FACTOR=2,(aD=function(a,b){return(aD=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aD(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(fw,bR),fw.prototype.getRow=function(a,b){if(a<0||a>=this.getHeight())throw new bm("Requested row is outside the image: "+a);var c=this.getWidth();(null==b||b.length<c)&&(b=new Uint8ClampedArray(c));var d=(a+this.top)*this.dataWidth+this.left;return br.arraycopy(this.luminances,d,b,0,c),b},fw.prototype.getMatrix=function(){var a=this.getWidth(),b=this.getHeight();if(a===this.dataWidth&&b===this.dataHeight)return this.luminances;var c=a*b,d=new Uint8ClampedArray(c),e=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return br.arraycopy(this.luminances,e,d,0,c),d;for(var f=0;f<b;f++){var g=f*a;br.arraycopy(this.luminances,e,d,g,a),e+=this.dataWidth}return d},fw.prototype.isCropSupported=function(){return!0},fw.prototype.crop=function(a,b,c,d){return new fw(this.luminances,c,d,this.dataWidth,this.dataHeight,this.left+a,this.top+b)},fw.prototype.invert=function(){return new bT(this)};var fx=(aE=function(a,b){return(aE=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aE(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),fy=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return fx(b,a),b.forName=function(a){return this.getCharacterSetECIByName(a)},b}(bE),fz=function(){function a(){}return a.ISO_8859_1=bE.ISO8859_1,a}(),fA=function(){function a(a,b,c){this.codewords=a,this.numcols=b,this.numrows=c,this.bits=new Uint8Array(b*c),bx.fill(this.bits,2)}return a.prototype.getNumrows=function(){return this.numrows},a.prototype.getNumcols=function(){return this.numcols},a.prototype.getBits=function(){return this.bits},a.prototype.getBit=function(a,b){return 1===this.bits[b*this.numcols+a]},a.prototype.setBit=function(a,b,c){this.bits[b*this.numcols+a]=+!!c},a.prototype.noBit=function(a,b){return 2===this.bits[b*this.numcols+a]},a.prototype.place=function(){var a=0,b=4,c=0;do{b===this.numrows&&0===c&&this.corner1(a++),b===this.numrows-2&&0===c&&this.numcols%4!=0&&this.corner2(a++),b===this.numrows-2&&0===c&&this.numcols%8==4&&this.corner3(a++),b===this.numrows+4&&2===c&&this.numcols%8==0&&this.corner4(a++);do b<this.numrows&&c>=0&&this.noBit(c,b)&&this.utah(b,c,a++),b-=2,c+=2;while(b>=0&&c<this.numcols)b++,c+=3;do b>=0&&c<this.numcols&&this.noBit(c,b)&&this.utah(b,c,a++),b+=2,c-=2;while(b<this.numrows&&c>=0)b+=3,c++}while(b<this.numrows||c<this.numcols)this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},a.prototype.module=function(a,b,c,d){a<0&&(a+=this.numrows,b+=4-(this.numrows+4)%8),b<0&&(b+=this.numcols,a+=4-(this.numcols+4)%8);var e=this.codewords.charCodeAt(c);e&=1<<8-d,this.setBit(b,a,0!==e)},a.prototype.utah=function(a,b,c){this.module(a-2,b-2,c,1),this.module(a-2,b-1,c,2),this.module(a-1,b-2,c,3),this.module(a-1,b-1,c,4),this.module(a-1,b,c,5),this.module(a,b-2,c,6),this.module(a,b-1,c,7),this.module(a,b,c,8)},a.prototype.corner1=function(a){this.module(this.numrows-1,0,a,1),this.module(this.numrows-1,1,a,2),this.module(this.numrows-1,2,a,3),this.module(0,this.numcols-2,a,4),this.module(0,this.numcols-1,a,5),this.module(1,this.numcols-1,a,6),this.module(2,this.numcols-1,a,7),this.module(3,this.numcols-1,a,8)},a.prototype.corner2=function(a){this.module(this.numrows-3,0,a,1),this.module(this.numrows-2,0,a,2),this.module(this.numrows-1,0,a,3),this.module(0,this.numcols-4,a,4),this.module(0,this.numcols-3,a,5),this.module(0,this.numcols-2,a,6),this.module(0,this.numcols-1,a,7),this.module(1,this.numcols-1,a,8)},a.prototype.corner3=function(a){this.module(this.numrows-3,0,a,1),this.module(this.numrows-2,0,a,2),this.module(this.numrows-1,0,a,3),this.module(0,this.numcols-2,a,4),this.module(0,this.numcols-1,a,5),this.module(1,this.numcols-1,a,6),this.module(2,this.numcols-1,a,7),this.module(3,this.numcols-1,a,8)},a.prototype.corner4=function(a){this.module(this.numrows-1,0,a,1),this.module(this.numrows-1,this.numcols-1,a,2),this.module(0,this.numcols-3,a,3),this.module(0,this.numcols-2,a,4),this.module(0,this.numcols-1,a,5),this.module(1,this.numcols-3,a,6),this.module(1,this.numcols-2,a,7),this.module(1,this.numcols-1,a,8)},a}(),fB=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],fC=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],fD=(a9=function(a,b){for(var c=1,d=0;d<255;d++)b[d]=c,a[c]=d,(c*=2)>=256&&(c^=301);return{LOG:a,ALOG:b}}([],[])).LOG,fE=a9.ALOG;(aF=ba||(ba={}))[aF.FORCE_NONE=0]="FORCE_NONE",aF[aF.FORCE_SQUARE=1]="FORCE_SQUARE",aF[aF.FORCE_RECTANGLE=2]="FORCE_RECTANGLE";var fF="[)>\x1e05\x1d",fG="[)>\x1e06\x1d",fH=function(){function a(){}return a.encodeECC200=function(a,b){if(a.length!==b.getDataCapacity())throw Error("The number of codewords does not match the selected symbol");var c=new bJ;c.append(a);var d=b.getInterleavedBlockCount();if(1===d){var e=this.createECCBlock(a,b.getErrorCodewords());c.append(e)}else{for(var f=[],g=[],h=0;h<d;h++)f[h]=b.getDataLengthForInterleavedBlock(h+1),g[h]=b.getErrorLengthForInterleavedBlock(h+1);for(var i=0;i<d;i++){for(var j=new bJ,k=i;k<b.getDataCapacity();k+=d)j.append(a.charAt(k));for(var e=this.createECCBlock(j.toString(),g[i]),l=0,m=i;m<g[i]*d;m+=d)c.setCharAt(b.getDataCapacity()+m,e.charAt(l++))}}return c.toString()},a.createECCBlock=function(a,b){for(var c=-1,d=0;d<fB.length;d++)if(fB[d]===b){c=d;break}if(c<0)throw Error("Illegal number of error correction codewords specified: "+b);for(var e=fC[c],f=[],d=0;d<b;d++)f[d]=0;for(var d=0;d<a.length;d++){for(var g=f[b-1]^a.charAt(d).charCodeAt(0),h=b-1;h>0;h--)0!==g&&0!==e[h]?f[h]=f[h-1]^fE[(fD[g]+fD[e[h]])%255]:f[h]=f[h-1];0!==g&&0!==e[0]?f[0]=fE[(fD[g]+fD[e[0]])%255]:f[0]=0}for(var i=[],d=0;d<b;d++)i[d]=f[b-d-1];return i.map(function(a){return String.fromCharCode(a)}).join("")},a}(),fI=function(){function a(){}return a.prototype.getEncodingMode=function(){return 0},a.prototype.encode=function(a){if(fW.determineConsecutiveDigitCount(a.getMessage(),a.pos)>=2)a.writeCodeword(this.encodeASCIIDigits(a.getMessage().charCodeAt(a.pos),a.getMessage().charCodeAt(a.pos+1))),a.pos+=2;else{var b=a.getCurrentChar(),c=fW.lookAheadTest(a.getMessage(),a.pos,this.getEncodingMode());if(c!==this.getEncodingMode())switch(c){case 5:a.writeCodeword(231),a.signalEncoderChange(5);return;case 1:a.writeCodeword(230),a.signalEncoderChange(1);return;case 3:a.writeCodeword(238),a.signalEncoderChange(3);break;case 2:a.writeCodeword(239),a.signalEncoderChange(2);break;case 4:a.writeCodeword(240),a.signalEncoderChange(4);break;default:throw Error("Illegal mode: "+c)}else fW.isExtendedASCII(b)?(a.writeCodeword(235),a.writeCodeword(b-128+1)):a.writeCodeword(b+1),a.pos++}},a.prototype.encodeASCIIDigits=function(a,b){if(fW.isDigit(a)&&fW.isDigit(b))return(a-48)*10+(b-48)+130;throw Error("not digits: "+a+b)},a}(),fJ=function(){function a(){}return a.prototype.getEncodingMode=function(){return 5},a.prototype.encode=function(a){var b=new bJ;for(b.append(0);a.hasMoreCharacters();){var c=a.getCurrentChar();if(b.append(c),a.pos++,fW.lookAheadTest(a.getMessage(),a.pos,this.getEncodingMode())!==this.getEncodingMode()){a.signalEncoderChange(0);break}}var d=b.length()-1,e=a.getCodewordCount()+d+1;a.updateSymbolInfo(e);var f=a.getSymbolInfo().getDataCapacity()-e>0;if(a.hasMoreCharacters()||f)if(d<=249)b.setCharAt(0,bI.getCharAt(d));else if(d<=1555)b.setCharAt(0,bI.getCharAt(Math.floor(d/250)+249)),b.insert(1,bI.getCharAt(d%250));else throw Error("Message length not in valid ranges: "+d);for(var g=0,c=b.length();g<c;g++)a.writeCodeword(this.randomize255State(b.charAt(g).charCodeAt(0),a.getCodewordCount()+1))},a.prototype.randomize255State=function(a,b){var c=a+(149*b%255+1);return c<=255?c:c-256},a}(),fK=function(){function a(){}return a.prototype.getEncodingMode=function(){return 1},a.prototype.encodeMaximal=function(a){for(var b=new bJ,c=0,d=a.pos,e=0;a.hasMoreCharacters();){var f=a.getCurrentChar();a.pos++,c=this.encodeChar(f,b),b.length()%3==0&&(d=a.pos,e=b.length())}if(e!==b.length()){var g=Math.floor(b.length()/3*2),h=Math.floor(a.getCodewordCount()+g+1);a.updateSymbolInfo(h);var i=a.getSymbolInfo().getDataCapacity()-h,j=Math.floor(b.length()%3);(2===j&&2!==i||1===j&&(c>3||1!==i))&&(a.pos=d)}b.length()>0&&a.writeCodeword(230),this.handleEOD(a,b)},a.prototype.encode=function(a){for(var b=new bJ;a.hasMoreCharacters();){var c=a.getCurrentChar();a.pos++;var d=this.encodeChar(c,b),e=2*Math.floor(b.length()/3),f=a.getCodewordCount()+e;a.updateSymbolInfo(f);var g=a.getSymbolInfo().getDataCapacity()-f;if(!a.hasMoreCharacters()){var h=new bJ;for(b.length()%3==2&&2!==g&&(d=this.backtrackOneCharacter(a,b,h,d));b.length()%3==1&&(d>3||1!==g);)d=this.backtrackOneCharacter(a,b,h,d);break}if(b.length()%3==0&&fW.lookAheadTest(a.getMessage(),a.pos,this.getEncodingMode())!==this.getEncodingMode()){a.signalEncoderChange(0);break}}this.handleEOD(a,b)},a.prototype.backtrackOneCharacter=function(a,b,c,d){var e=b.length(),f=b.toString().substring(0,e-d);b.setLengthToZero(),b.append(f),a.pos--;var g=a.getCurrentChar();return d=this.encodeChar(g,c),a.resetSymbolInfo(),d},a.prototype.writeNextTriplet=function(a,b){a.writeCodewords(this.encodeToCodewords(b.toString()));var c=b.toString().substring(3);b.setLengthToZero(),b.append(c)},a.prototype.handleEOD=function(a,b){var c=Math.floor(b.length()/3*2),d=b.length()%3,e=a.getCodewordCount()+c;a.updateSymbolInfo(e);var f=a.getSymbolInfo().getDataCapacity()-e;if(2===d){for(b.append("\0");b.length()>=3;)this.writeNextTriplet(a,b);a.hasMoreCharacters()&&a.writeCodeword(254)}else if(1===f&&1===d){for(;b.length()>=3;)this.writeNextTriplet(a,b);a.hasMoreCharacters()&&a.writeCodeword(254),a.pos--}else if(0===d){for(;b.length()>=3;)this.writeNextTriplet(a,b);(f>0||a.hasMoreCharacters())&&a.writeCodeword(254)}else throw Error("Unexpected case. Please report!");a.signalEncoderChange(0)},a.prototype.encodeChar=function(a,b){return 32===a?(b.append(3),1):a>=48&&a<=57?(b.append(a-48+4),1):a>=65&&a<=90?(b.append(a-65+14),1):a<32?(b.append(0),b.append(a),2):a<=47?(b.append(1),b.append(a-33),2):a<=64?(b.append(1),b.append(a-58+15),2):a<=95?(b.append(1),b.append(a-91+22),2):a<=127?(b.append(2),b.append(a-96),2):(b.append("1\x1e"),2+this.encodeChar(a-128,b))},a.prototype.encodeToCodewords=function(a){var b=1600*a.charCodeAt(0)+40*a.charCodeAt(1)+a.charCodeAt(2)+1,c=new bJ;return c.append(b/256),c.append(b%256),c.toString()},a}(),fL=function(){function a(){}return a.prototype.getEncodingMode=function(){return 4},a.prototype.encode=function(a){for(var b=new bJ;a.hasMoreCharacters();){var c=a.getCurrentChar();if(this.encodeChar(c,b),a.pos++,b.length()>=4){a.writeCodewords(this.encodeToCodewords(b.toString()));var d=b.toString().substring(4);if(b.setLengthToZero(),b.append(d),fW.lookAheadTest(a.getMessage(),a.pos,this.getEncodingMode())!==this.getEncodingMode()){a.signalEncoderChange(0);break}}}b.append(bI.getCharAt(31)),this.handleEOD(a,b)},a.prototype.handleEOD=function(a,b){try{var c=b.length();if(0===c)return;if(1===c){a.updateSymbolInfo();var d=a.getSymbolInfo().getDataCapacity()-a.getCodewordCount(),e=a.getRemainingCharacters();if(e>d&&(a.updateSymbolInfo(a.getCodewordCount()+1),d=a.getSymbolInfo().getDataCapacity()-a.getCodewordCount()),e<=d&&d<=2)return}if(c>4)throw Error("Count must not exceed 4");var f=c-1,g=this.encodeToCodewords(b.toString()),h=!a.hasMoreCharacters()&&f<=2;if(f<=2){a.updateSymbolInfo(a.getCodewordCount()+f);var d=a.getSymbolInfo().getDataCapacity()-a.getCodewordCount();d>=3&&(h=!1,a.updateSymbolInfo(a.getCodewordCount()+g.length))}h?(a.resetSymbolInfo(),a.pos-=f):a.writeCodewords(g)}finally{a.signalEncoderChange(0)}},a.prototype.encodeChar=function(a,b){a>=32&&a<=63?b.append(a):a>=64&&a<=94?b.append(bI.getCharAt(a-64)):fW.illegalCharacter(bI.getCharAt(a))},a.prototype.encodeToCodewords=function(a){var b=a.length;if(0===b)throw Error("StringBuilder must not be empty");var c=(a.charAt(0).charCodeAt(0)<<18)+((b>=2?a.charAt(1).charCodeAt(0):0)<<12)+((b>=3?a.charAt(2).charCodeAt(0):0)<<6)+(b>=4?a.charAt(3).charCodeAt(0):0),d=new bJ;return d.append(c>>16&255),b>=2&&d.append(c>>8&255),b>=3&&d.append(255&c),d.toString()},a}(),fM=(aG=function(a,b){return(aG=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aG(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),fN=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},fO=function(){function a(a,b,c,d,e,f,g,h){void 0===g&&(g=0),void 0===h&&(h=0),this.rectangular=a,this.dataCapacity=b,this.errorCodewords=c,this.matrixWidth=d,this.matrixHeight=e,this.dataRegions=f,this.rsBlockData=g,this.rsBlockError=h}return a.lookup=function(a,b,c,d,e){var f,g;void 0===b&&(b=0),void 0===c&&(c=null),void 0===d&&(d=null),void 0===e&&(e=!0);try{for(var h=fN(fQ),i=h.next();!i.done;i=h.next()){var j=i.value;if(!(1===b&&j.rectangular||2===b&&!j.rectangular||null!=c&&(j.getSymbolWidth()<c.getWidth()||j.getSymbolHeight()<c.getHeight()))&&!(null!=d&&(j.getSymbolWidth()>d.getWidth()||j.getSymbolHeight()>d.getHeight()))&&a<=j.dataCapacity)return j}}catch(a){f={error:a}}finally{try{i&&!i.done&&(g=h.return)&&g.call(h)}finally{if(f)throw f.error}}if(e)throw Error("Can't find a symbol arrangement that matches the message. Data codewords: "+a);return null},a.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw Error("Cannot handle this number of data regions")}},a.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw Error("Cannot handle this number of data regions")}},a.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},a.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},a.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},a.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},a.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},a.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},a.prototype.getDataCapacity=function(){return this.dataCapacity},a.prototype.getErrorCodewords=function(){return this.errorCodewords},a.prototype.getDataLengthForInterleavedBlock=function(a){return this.rsBlockData},a.prototype.getErrorLengthForInterleavedBlock=function(a){return this.rsBlockError},a}(),fP=function(a){function b(){return a.call(this,!1,1558,620,22,22,36,-1,62)||this}return fM(b,a),b.prototype.getInterleavedBlockCount=function(){return 10},b.prototype.getDataLengthForInterleavedBlock=function(a){return a<=8?156:155},b}(fO),fQ=[new fO(!1,3,5,8,8,1),new fO(!1,5,7,10,10,1),new fO(!0,5,7,16,6,1),new fO(!1,8,10,12,12,1),new fO(!0,10,11,14,6,2),new fO(!1,12,12,14,14,1),new fO(!0,16,14,24,10,1),new fO(!1,18,14,16,16,1),new fO(!1,22,18,18,18,1),new fO(!0,22,18,16,10,2),new fO(!1,30,20,20,20,1),new fO(!0,32,24,16,14,2),new fO(!1,36,24,22,22,1),new fO(!1,44,28,24,24,1),new fO(!0,49,28,22,14,2),new fO(!1,62,36,14,14,4),new fO(!1,86,42,16,16,4),new fO(!1,114,48,18,18,4),new fO(!1,144,56,20,20,4),new fO(!1,174,68,22,22,4),new fO(!1,204,84,24,24,4,102,42),new fO(!1,280,112,14,14,16,140,56),new fO(!1,368,144,16,16,16,92,36),new fO(!1,456,192,18,18,16,114,48),new fO(!1,576,224,20,20,16,144,56),new fO(!1,696,272,22,22,16,174,68),new fO(!1,816,336,24,24,16,136,56),new fO(!1,1050,408,18,18,36,175,68),new fO(!1,1304,496,20,20,36,163,62),new fP],fR=function(){function a(a){this.msg=a,this.pos=0,this.skipAtEnd=0;for(var b=a.split("").map(function(a){return a.charCodeAt(0)}),c=new bJ,d=0,e=b.length;d<e;d++){var f=String.fromCharCode(255&b[d]);if("?"===f&&"?"!==a.charAt(d))throw Error("Message contains characters outside ISO-8859-1 encoding.");c.append(f)}this.msg=c.toString(),this.shape=0,this.codewords=new bJ,this.newEncoding=-1}return a.prototype.setSymbolShape=function(a){this.shape=a},a.prototype.setSizeConstraints=function(a,b){this.minSize=a,this.maxSize=b},a.prototype.getMessage=function(){return this.msg},a.prototype.setSkipAtEnd=function(a){this.skipAtEnd=a},a.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},a.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},a.prototype.getCodewords=function(){return this.codewords},a.prototype.writeCodewords=function(a){this.codewords.append(a)},a.prototype.writeCodeword=function(a){this.codewords.append(a)},a.prototype.getCodewordCount=function(){return this.codewords.length()},a.prototype.getNewEncoding=function(){return this.newEncoding},a.prototype.signalEncoderChange=function(a){this.newEncoding=a},a.prototype.resetEncoderSignal=function(){this.newEncoding=-1},a.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},a.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},a.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},a.prototype.getSymbolInfo=function(){return this.symbolInfo},a.prototype.updateSymbolInfo=function(a){void 0===a&&(a=this.getCodewordCount()),(null==this.symbolInfo||a>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=fO.lookup(a,this.shape,this.minSize,this.maxSize,!0))},a.prototype.resetSymbolInfo=function(){this.symbolInfo=null},a}(),fS=(aH=function(a,b){return(aH=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aH(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),fT=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return fS(b,a),b.prototype.getEncodingMode=function(){return 3},b.prototype.encode=function(a){for(var b=new bJ;a.hasMoreCharacters();){var c=a.getCurrentChar();if(a.pos++,this.encodeChar(c,b),b.length()%3==0&&(this.writeNextTriplet(a,b),fW.lookAheadTest(a.getMessage(),a.pos,this.getEncodingMode())!==this.getEncodingMode())){a.signalEncoderChange(0);break}}this.handleEOD(a,b)},b.prototype.encodeChar=function(a,b){switch(a){case 13:b.append(0);break;case 42:b.append(1);break;case 62:b.append(2);break;case 32:b.append(3);break;default:a>=48&&a<=57?b.append(a-48+4):a>=65&&a<=90?b.append(a-65+14):fW.illegalCharacter(bI.getCharAt(a))}return 1},b.prototype.handleEOD=function(a,b){a.updateSymbolInfo();var c=a.getSymbolInfo().getDataCapacity()-a.getCodewordCount(),d=b.length();a.pos-=d,(a.getRemainingCharacters()>1||c>1||a.getRemainingCharacters()!==c)&&a.writeCodeword(254),0>a.getNewEncoding()&&a.signalEncoderChange(0)},b}(fK),fU=(aI=function(a,b){return(aI=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aI(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),fV=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return fU(b,a),b.prototype.getEncodingMode=function(){return 2},b.prototype.encodeChar=function(a,b){return 32===a?(b.append(3),1):a>=48&&a<=57?(b.append(a-48+4),1):a>=97&&a<=122?(b.append(a-97+14),1):a<32?(b.append(0),b.append(a),2):a<=47?(b.append(1),b.append(a-33),2):a<=64?(b.append(1),b.append(a-58+15),2):a>=91&&a<=95?(b.append(1),b.append(a-91+22),2):96===a?(b.append(2),b.append(0),2):a<=90?(b.append(2),b.append(a-65+1),2):a<=127?(b.append(2),b.append(a-123+27),2):(b.append("1\x1e"),2+this.encodeChar(a-128,b))},b}(fK);let fW=function(){function a(){}return a.randomize253State=function(a){var b=129+(149*a%253+1);return b<=254?b:b-254},a.encodeHighLevel=function(a,b,c,d,e){void 0===b&&(b=0),void 0===c&&(c=null),void 0===d&&(d=null),void 0===e&&(e=!1);var f=new fK,g=[new fI,f,new fV,new fT,new fL,new fJ],h=new fR(a);h.setSymbolShape(b),h.setSizeConstraints(c,d),a.startsWith(fF)&&a.endsWith("\x1e\x04")?(h.writeCodeword(236),h.setSkipAtEnd(2),h.pos+=fF.length):a.startsWith(fG)&&a.endsWith("\x1e\x04")&&(h.writeCodeword(237),h.setSkipAtEnd(2),h.pos+=fG.length);var i=0;for(e&&(f.encodeMaximal(h),i=h.getNewEncoding(),h.resetEncoderSignal());h.hasMoreCharacters();)g[i].encode(h),h.getNewEncoding()>=0&&(i=h.getNewEncoding(),h.resetEncoderSignal());var j=h.getCodewordCount();h.updateSymbolInfo();var k=h.getSymbolInfo().getDataCapacity();j<k&&0!==i&&5!==i&&4!==i&&h.writeCodeword("");var l=h.getCodewords();for(l.length()<k&&l.append(129);l.length()<k;)l.append(this.randomize253State(l.length()+1));return h.getCodewords().toString()},a.lookAheadTest=function(a,b,c){var d=this.lookAheadTestIntern(a,b,c);if(3===c&&3===d){for(var e=Math.min(b+3,a.length),f=b;f<e;f++)if(!this.isNativeX12(a.charCodeAt(f)))return 0}else if(4===c&&4===d){for(var e=Math.min(b+4,a.length),f=b;f<e;f++)if(!this.isNativeEDIFACT(a.charCodeAt(f)))return 0}return d},a.lookAheadTestIntern=function(a,b,c){if(b>=a.length)return c;0===c?d=[0,1,1,1,1,1.25]:(d=[1,2,2,2,2,2.25])[c]=0;for(var d,e=0,f=new Uint8Array(6),g=[];;){if(b+e===a.length){bx.fill(f,0),bx.fill(g,0);var h=this.findMinimums(d,g,by.MAX_VALUE,f),i=this.getMinimumCount(f);if(g[0]===h)return 0;if(1===i){if(f[5]>0)return 5;if(f[4]>0)return 4;if(f[2]>0)return 2;if(f[3]>0)return 3}return 1}var j=a.charCodeAt(b+e);if(e++,this.isDigit(j)?d[0]+=.5:this.isExtendedASCII(j)?(d[0]=Math.ceil(d[0]),d[0]+=2):(d[0]=Math.ceil(d[0]),d[0]++),this.isNativeC40(j)?d[1]+=2/3:this.isExtendedASCII(j)?d[1]+=8/3:d[1]+=4/3,this.isNativeText(j)?d[2]+=2/3:this.isExtendedASCII(j)?d[2]+=8/3:d[2]+=4/3,this.isNativeX12(j)?d[3]+=2/3:this.isExtendedASCII(j)?d[3]+=13/3:d[3]+=10/3,this.isNativeEDIFACT(j)?d[4]+=.75:this.isExtendedASCII(j)?d[4]+=4.25:d[4]+=3.25,this.isSpecialB256(j)?d[5]+=4:d[5]++,e>=4){if(bx.fill(f,0),bx.fill(g,0),this.findMinimums(d,g,by.MAX_VALUE,f),g[0]<this.min(g[5],g[1],g[2],g[3],g[4]))return 0;if(g[5]<g[0]||g[5]+1<this.min(g[1],g[2],g[3],g[4]))return 5;if(g[4]+1<this.min(g[5],g[1],g[2],g[3],g[0]))return 4;if(g[2]+1<this.min(g[5],g[1],g[4],g[3],g[0]))return 2;if(g[3]+1<this.min(g[5],g[1],g[4],g[2],g[0]))return 3;if(g[1]+1<this.min(g[0],g[5],g[4],g[2])){if(g[1]<g[3])return 1;if(g[1]===g[3]){for(var k=b+e+1;k<a.length;){var l=a.charCodeAt(k);if(this.isX12TermSep(l))return 3;if(!this.isNativeX12(l))break;k++}return 1}}}}},a.min=function(a,b,c,d,e){var f=Math.min(a,Math.min(b,Math.min(c,d)));return void 0===e?f:Math.min(f,e)},a.findMinimums=function(a,b,c,d){for(var e=0;e<6;e++){var f=b[e]=Math.ceil(a[e]);c>f&&(c=f,bx.fill(d,0)),c===f&&(d[e]=d[e]+1)}return c},a.getMinimumCount=function(a){for(var b=0,c=0;c<6;c++)b+=a[c];return b||0},a.isDigit=function(a){return a>=48&&a<=57},a.isExtendedASCII=function(a){return a>=128&&a<=255},a.isNativeC40=function(a){return 32===a||a>=48&&a<=57||a>=65&&a<=90},a.isNativeText=function(a){return 32===a||a>=48&&a<=57||a>=97&&a<=122},a.isNativeX12=function(a){return this.isX12TermSep(a)||32===a||a>=48&&a<=57||a>=65&&a<=90},a.isX12TermSep=function(a){return 13===a||42===a||62===a},a.isNativeEDIFACT=function(a){return a>=32&&a<=94},a.isSpecialB256=function(a){return!1},a.determineConsecutiveDigitCount=function(a,b){void 0===b&&(b=0);for(var c=a.length,d=b;d<c&&this.isDigit(a.charCodeAt(d));)d++;return d-b},a.illegalCharacter=function(a){var b=by.toHexString(a.charCodeAt(0));throw Error("Illegal character: "+a+" (0x"+(b="0000".substring(0,4-b.length)+b)+")")},a}();var fX=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},fY=function(){function a(a){this.charset=a,this.name=a.name}return a.prototype.canEncode=function(a){try{return null!=bH.encode(a,this.charset)}catch(a){return!1}},a}(),fZ=function(){function a(a,b,c){this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(a){return new fY(fy.forName(a))}),this.encoders=[];var d,e,f,g,h,i,j=[];j.push(new fY(fz.ISO_8859_1));for(var k=null!=b&&b.name.startsWith("UTF"),l=0;l<a.length;l++){var m=!1;try{for(var n=(d=void 0,fX(j)),o=n.next();!o.done;o=n.next()){var p=o.value,q=a.charAt(l);if(q.charCodeAt(0)===c||p.canEncode(q)){m=!0;break}}}catch(a){d={error:a}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(d)throw d.error}}if(!m)try{for(var r=(f=void 0,fX(this.ENCODERS)),s=r.next();!s.done;s=r.next()){var p=s.value;if(p.canEncode(a.charAt(l))){j.push(p),m=!0;break}}}catch(a){f={error:a}}finally{try{s&&!s.done&&(g=r.return)&&g.call(r)}finally{if(f)throw f.error}}m||(k=!0)}if(1!==j.length||k){this.encoders=[];var t=0;try{for(var u=fX(j),v=u.next();!v.done;v=u.next()){var p=v.value;this.encoders[t++]=p}}catch(a){h={error:a}}finally{try{v&&!v.done&&(i=u.return)&&i.call(u)}finally{if(h)throw h.error}}}else this.encoders=[j[0]];var w=-1;if(null!=b){for(var l=0;l<this.encoders.length;l++)if(null!=this.encoders[l]&&b.name===this.encoders[l].name){w=l;break}}this.priorityEncoderIndex=w}return a.prototype.length=function(){return this.encoders.length},a.prototype.getCharsetName=function(a){if(!(a<this.length()))throw Error("index must be less than length");return this.encoders[a].name},a.prototype.getCharset=function(a){if(!(a<this.length()))throw Error("index must be less than length");return this.encoders[a].charset},a.prototype.getECIValue=function(a){return this.encoders[a].charset.getValueIdentifier()},a.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},a.prototype.canEncode=function(a,b){if(!(b<this.length()))throw Error("index must be less than length");return!0},a.prototype.encode=function(a,b){if(!(b<this.length()))throw Error("index must be less than length");return bH.encode(bI.getCharAt(a),this.encoders[b].name)},a}(),f$=function(){function a(a,b,c){this.fnc1=c;var d=new fZ(a,b,c);if(1===d.length())for(var e=0;e<this.bytes.length;e++){var f=a.charAt(e).charCodeAt(0);this.bytes[e]=f===c?1e3:f}else this.bytes=this.encodeMinimally(a,d,c)}return a.prototype.getFNC1Character=function(){return this.fnc1},a.prototype.length=function(){return this.bytes.length},a.prototype.haveNCharacters=function(a,b){if(a+b-1>=this.bytes.length)return!1;for(var c=0;c<b;c++)if(this.isECI(a+c))return!1;return!0},a.prototype.charAt=function(a){if(a<0||a>=this.length())throw Error(""+a);if(this.isECI(a))throw Error("value at "+a+" is not a character but an ECI");return this.isFNC1(a)?this.fnc1:this.bytes[a]},a.prototype.subSequence=function(a,b){if(a<0||a>b||b>this.length())throw Error(""+a);for(var c=new bJ,d=a;d<b;d++){if(this.isECI(d))throw Error("value at "+d+" is not a character but an ECI");c.append(this.charAt(d))}return c.toString()},a.prototype.isECI=function(a){if(a<0||a>=this.length())throw Error(""+a);return this.bytes[a]>255&&this.bytes[a]<=999},a.prototype.isFNC1=function(a){if(a<0||a>=this.length())throw Error(""+a);return 1e3===this.bytes[a]},a.prototype.getECIValue=function(a){if(a<0||a>=this.length())throw Error(""+a);if(!this.isECI(a))throw Error("value at "+a+" is not an ECI but a character");return this.bytes[a]-256},a.prototype.addEdge=function(a,b,c){(null==a[b][c.encoderIndex]||a[b][c.encoderIndex].cachedTotalSize>c.cachedTotalSize)&&(a[b][c.encoderIndex]=c)},a.prototype.addEdges=function(a,b,c,d,e,f){var g=a.charAt(d).charCodeAt(0),h=0,i=b.length();b.getPriorityEncoderIndex()>=0&&(g===f||b.canEncode(g,b.getPriorityEncoderIndex()))&&(i=(h=b.getPriorityEncoderIndex())+1);for(var j=h;j<i;j++)(g===f||b.canEncode(g,j))&&this.addEdge(c,d+1,new f_(g,b,j,e,f))},a.prototype.encodeMinimally=function(a,b,c){var d=a.length,e=new f_[d+1][b.length()];this.addEdges(a,b,e,0,null,c);for(var f=1;f<=d;f++){for(var g=0;g<b.length();g++)null!=e[f][g]&&f<d&&this.addEdges(a,b,e,f,e[f][g],c);for(var g=0;g<b.length();g++)e[f-1][g]=null}for(var h=-1,i=by.MAX_VALUE,g=0;g<b.length();g++)if(null!=e[d][g]){var j=e[d][g];j.cachedTotalSize<i&&(i=j.cachedTotalSize,h=g)}if(h<0)throw Error('Failed to encode "'+a+'"');for(var k=[],l=e[d][h];null!=l;){if(l.isFNC1())k.unshift(1e3);else for(var m=b.encode(l.c,l.encoderIndex),f=m.length-1;f>=0;f--)k.unshift(255&m[f]);(null===l.previous?0:l.previous.encoderIndex)!==l.encoderIndex&&k.unshift(256+b.getECIValue(l.encoderIndex)),l=l.previous}for(var n=[],f=0;f<n.length;f++)n[f]=k[f];return n},a}(),f_=function(){function a(a,b,c,d,e){this.c=a,this.encoderSet=b,this.encoderIndex=c,this.previous=d,this.fnc1=e,this.c=a===e?1e3:a;var f=this.isFNC1()?1:b.encode(a,c).length;(null===d?0:d.encoderIndex)!==c&&(f+=3),null!=d&&(f+=d.cachedTotalSize),this.cachedTotalSize=f}return a.prototype.isFNC1=function(){return 1e3===this.c},a}(),f0=(aJ=function(a,b){return(aJ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aJ(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),f1=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},f2=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},f3=function(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(f2(arguments[b]));return a};(aK=bb||(bb={}))[aK.ASCII=0]="ASCII",aK[aK.C40=1]="C40",aK[aK.TEXT=2]="TEXT",aK[aK.X12=3]="X12",aK[aK.EDF=4]="EDF",aK[aK.B256=5]="B256";var f4=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],f5=function(){function a(){}return a.isExtendedASCII=function(a,b){return a!==b&&a>=128&&a<=255},a.isInC40Shift1Set=function(a){return a<=31},a.isInC40Shift2Set=function(a,b){var c,d;try{for(var e=f1(f4),f=e.next();!f.done;f=e.next())if(f.value.charCodeAt(0)===a)return!0}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}return a===b},a.isInTextShift1Set=function(a){return this.isInC40Shift1Set(a)},a.isInTextShift2Set=function(a,b){return this.isInC40Shift2Set(a,b)},a.encodeHighLevel=function(a,b,c,d){void 0===b&&(b=null),void 0===c&&(c=-1),void 0===d&&(d=0);var e=0;return a.startsWith(fF)&&a.endsWith("\x1e\x04")?(e=5,a=a.substring(fF.length,a.length-2)):a.startsWith(fG)&&a.endsWith("\x1e\x04")&&(e=6,a=a.substring(fG.length,a.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,f3(this.encode(a,b,c,d,e)))))},a.encode=function(a,b,c,d,e){return this.encodeMinimally(new f8(a,b,c,d,e)).getBytes()},a.addEdge=function(a,b){var c=b.fromPosition+b.characterLength;(null===a[c][b.getEndMode()]||a[c][b.getEndMode()].cachedTotalSize>b.cachedTotalSize)&&(a[c][b.getEndMode()]=b)},a.getNumberOfC40Words=function(b,c,d,e){for(var f=0,g=c;g<b.length()&&!b.isECI(g);g++){;var h=b.charAt(g);if(d&&fW.isNativeC40(h)||!d&&fW.isNativeText(h))f++;else if(a.isExtendedASCII(h,b.getFNC1Character())){var i=255&h;i>=128&&(d&&fW.isNativeC40(i-128)||!d&&fW.isNativeText(i-128))?f+=3:f+=4}else f+=2;if(f%3==0||(f-2)%3==0&&g+1===b.length())return e[0]=g-c+1,Math.ceil(f/3)}return e[0]=0,0},a.addEdges=function(b,c,d,e){if(b.isECI(d))return void this.addEdge(c,new f7(b,bb.ASCII,d,1,e));var f,g,h,i=b.charAt(d);if(null===e||e.getEndMode()!==bb.EDF){fW.isDigit(i)&&b.haveNCharacters(d,2)&&fW.isDigit(b.charAt(d+1))?this.addEdge(c,new f7(b,bb.ASCII,d,2,e)):this.addEdge(c,new f7(b,bb.ASCII,d,1,e));var j=[bb.C40,bb.TEXT];try{for(var k=f1(j),l=k.next();!l.done;l=k.next()){var m=l.value,n=[];a.getNumberOfC40Words(b,d,m===bb.C40,n)>0&&this.addEdge(c,new f7(b,m,d,n[0],e))}}catch(a){f={error:a}}finally{try{l&&!l.done&&(g=k.return)&&g.call(k)}finally{if(f)throw f.error}}b.haveNCharacters(d,3)&&fW.isNativeX12(b.charAt(d))&&fW.isNativeX12(b.charAt(d+1))&&fW.isNativeX12(b.charAt(d+2))&&this.addEdge(c,new f7(b,bb.X12,d,3,e)),this.addEdge(c,new f7(b,bb.B256,d,1,e))}for(h=0;h<3;h++){var o=d+h;if(b.haveNCharacters(o,1)&&fW.isNativeEDIFACT(b.charAt(o)))this.addEdge(c,new f7(b,bb.EDF,d,h+1,e));else break}3===h&&b.haveNCharacters(d,4)&&fW.isNativeEDIFACT(b.charAt(d+3))&&this.addEdge(c,new f7(b,bb.EDF,d,4,e))},a.encodeMinimally=function(a){var b=a.length(),c=Array(b+1).fill(null).map(function(){return Array(6).fill(0)});this.addEdges(a,c,0,null);for(var d=1;d<=b;d++){for(var e=0;e<6;e++)null!==c[d][e]&&d<b&&this.addEdges(a,c,d,c[d][e]);for(var e=0;e<6;e++)c[d-1][e]=null}for(var f=-1,g=by.MAX_VALUE,e=0;e<6;e++)if(null!==c[b][e]){var h=c[b][e],i=e>=1&&e<=3?h.cachedTotalSize+1:h.cachedTotalSize;i<g&&(g=i,f=e)}if(f<0)throw Error('Failed to encode "'+a+'"');return new f6(c[b][f])},a}(),f6=function(){function a(a){var b=a.input,c=0,d=[],e=[],f=[];(a.mode===bb.C40||a.mode===bb.TEXT||a.mode===bb.X12)&&a.getEndMode()!==bb.ASCII&&(c+=this.prepend(f7.getBytes(254),d));for(var g=a;null!==g;)c+=this.prepend(g.getDataBytes(),d),(null===g.previous||g.getPreviousStartMode()!==g.getMode())&&(g.getMode()===bb.B256&&(c<=249?(d.unshift(c),c++):(d.unshift(c%250),d.unshift(c/250+249),c+=2),e.push(d.length),f.push(c)),this.prepend(g.getLatchBytes(),d),c=0),g=g.previous;5===b.getMacroId()?c+=this.prepend(f7.getBytes(236),d):6===b.getMacroId()&&(c+=this.prepend(f7.getBytes(237),d)),b.getFNC1Character()>0&&(c+=this.prepend(f7.getBytes(232),d));for(var h=0;h<e.length;h++)this.applyRandomPattern(d,d.length-e[h],f[h]);var i=a.getMinSymbolSize(d.length);for(d.length<i&&d.push(129);d.length<i;)d.push(this.randomize253State(d.length+1));this.bytes=new Uint8Array(d.length);for(var h=0;h<this.bytes.length;h++)this.bytes[h]=d[h]}return a.prototype.prepend=function(a,b){for(var c=a.length-1;c>=0;c--)b.unshift(a[c]);return a.length},a.prototype.randomize253State=function(a){var b=129+(149*a%253+1);return b<=254?b:b-254},a.prototype.applyRandomPattern=function(a,b,c){for(var d=0;d<c;d++){var e=b+d,f=(255&a[e])+(149*(e+1)%255+1);a[e]=f<=255?f:f-256}},a.prototype.getBytes=function(){return this.bytes},a}(),f7=function(){function a(a,b,c,d,e){if(this.input=a,this.mode=b,this.fromPosition=c,this.characterLength=d,this.previous=e,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(c+d<=a.length()))throw Error("Invalid edge");var f=null!==e?e.cachedTotalSize:0,g=this.getPreviousMode();switch(b){case bb.ASCII:f++,(a.isECI(c)||f5.isExtendedASCII(a.charAt(c),a.getFNC1Character()))&&f++,(g===bb.C40||g===bb.TEXT||g===bb.X12)&&f++;break;case bb.B256:f++,g!==bb.B256?f++:250===this.getB256Size()&&f++,g===bb.ASCII?f++:(g===bb.C40||g===bb.TEXT||g===bb.X12)&&(f+=2);break;case bb.C40:case bb.TEXT:case bb.X12:b===bb.X12?f+=2:f+=2*f5.getNumberOfC40Words(a,c,b===bb.C40,[]),g===bb.ASCII||g===bb.B256?f++:g!==b&&(g===bb.C40||g===bb.TEXT||g===bb.X12)&&(f+=2);break;case bb.EDF:f+=3,g===bb.ASCII||g===bb.B256?f++:(g===bb.C40||g===bb.TEXT||g===bb.X12)&&(f+=2)}this.cachedTotalSize=f}return a.prototype.getB256Size=function(){for(var a=0,b=this;null!==b&&b.mode===bb.B256&&a<=250;)a++,b=b.previous;return a},a.prototype.getPreviousStartMode=function(){return null===this.previous?bb.ASCII:this.previous.mode},a.prototype.getPreviousMode=function(){return null===this.previous?bb.ASCII:this.previous.getEndMode()},a.prototype.getEndMode=function(){if(this.mode===bb.EDF){if(this.characterLength<4)return bb.ASCII;var a=this.getLastASCII();if(a>0&&this.getCodewordsRemaining(this.cachedTotalSize+a)<=2-a)return bb.ASCII}if(this.mode===bb.C40||this.mode===bb.TEXT||this.mode===bb.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&0===this.getCodewordsRemaining(this.cachedTotalSize))return bb.ASCII;var a=this.getLastASCII();if(1===a&&0===this.getCodewordsRemaining(this.cachedTotalSize+1))return bb.ASCII}return this.mode},a.prototype.getMode=function(){return this.mode},a.prototype.getLastASCII=function(){var a=this.input.length(),b=this.fromPosition+this.characterLength;return a-b>4||b>=a?0:a-b==1?+!f5.isExtendedASCII(this.input.charAt(b),this.input.getFNC1Character()):a-b==2?f5.isExtendedASCII(this.input.charAt(b),this.input.getFNC1Character())||f5.isExtendedASCII(this.input.charAt(b+1),this.input.getFNC1Character())?0:fW.isDigit(this.input.charAt(b))&&fW.isDigit(this.input.charAt(b+1))?1:2:a-b==3?fW.isDigit(this.input.charAt(b))&&fW.isDigit(this.input.charAt(b+1))&&!f5.isExtendedASCII(this.input.charAt(b+2),this.input.getFNC1Character())||fW.isDigit(this.input.charAt(b+1))&&fW.isDigit(this.input.charAt(b+2))&&!f5.isExtendedASCII(this.input.charAt(b),this.input.getFNC1Character())?2:0:fW.isDigit(this.input.charAt(b))&&fW.isDigit(this.input.charAt(b+1))&&fW.isDigit(this.input.charAt(b+2))&&fW.isDigit(this.input.charAt(b+3))?2:0},a.prototype.getMinSymbolSize=function(a){var b,c,d,e,f,g;switch(this.input.getShapeHint()){case 1:try{for(var h=f1(this.squareCodewordCapacities),i=h.next();!i.done;i=h.next()){var j=i.value;if(j>=a)return j}}catch(a){b={error:a}}finally{try{i&&!i.done&&(c=h.return)&&c.call(h)}finally{if(b)throw b.error}}break;case 2:try{for(var k=f1(this.rectangularCodewordCapacities),l=k.next();!l.done;l=k.next()){var j=l.value;if(j>=a)return j}}catch(a){d={error:a}}finally{try{l&&!l.done&&(e=k.return)&&e.call(k)}finally{if(d)throw d.error}}}try{for(var m=f1(this.allCodewordCapacities),n=m.next();!n.done;n=m.next()){var j=n.value;if(j>=a)return j}}catch(a){f={error:a}}finally{try{n&&!n.done&&(g=m.return)&&g.call(m)}finally{if(f)throw f.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},a.prototype.getCodewordsRemaining=function(a){return this.getMinSymbolSize(a)-a},a.getBytes=function(a,b){var c=new Uint8Array(b?2:1);return c[0]=a,b&&(c[1]=b),c},a.prototype.setC40Word=function(a,b,c,d,e){var f=1600*(255&c)+40*(255&d)+(255&e)+1;a[b]=f/256,a[b+1]=f%256},a.prototype.getX12Value=function(a){return 13===a?0:42===a?1:62===a?2:32===a?3:a>=48&&a<=57?a-44:a>=65&&a<=90?a-51:a},a.prototype.getX12Words=function(){if(this.characterLength%3!=0)throw Error("X12 words must be a multiple of 3");for(var a=new Uint8Array(this.characterLength/3*2),b=0;b<a.length;b+=2)this.setC40Word(a,b,this.getX12Value(this.input.charAt(this.fromPosition+b/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+b/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+b/2*3+2)));return a},a.prototype.getShiftValue=function(a,b,c){return b&&f5.isInC40Shift1Set(a)||!b&&f5.isInTextShift1Set(a)?0:b&&f5.isInC40Shift2Set(a,c)||!b&&f5.isInTextShift2Set(a,c)?1:2},a.prototype.getC40Value=function(a,b,c,d){if(c===d){if(2!==b)throw Error("FNC1 cannot be used in C40 shift 2");return 27}return a?c<=31?c:32===c?3:c<=47?c-33:c<=57?c-44:c<=64?c-43:c<=90?c-51:c<=95?c-69:c<=127?c-96:c:0===c?0:0===b&&c<=3?c-1:1===b&&c<=31?c:32===c?3:c>=33&&c<=47?c-33:c>=48&&c<=57?c-44:c>=58&&c<=64?c-43:c>=65&&c<=90?c-64:c>=91&&c<=95?c-69:96===c?0:c>=97&&c<=122?c-83:c>=123&&c<=127?c-96:c},a.prototype.getC40Words=function(a,b){for(var c=[],d=0;d<this.characterLength;d++){var e=this.input.charAt(this.fromPosition+d);if(a&&fW.isNativeC40(e)||!a&&fW.isNativeText(e))c.push(this.getC40Value(a,0,e,b));else if(f5.isExtendedASCII(e,b)){var f=(255&e)-128;if(a&&fW.isNativeC40(f)||!a&&fW.isNativeText(f))c.push(1),c.push(30),c.push(this.getC40Value(a,0,f,b));else{c.push(1),c.push(30);var g=this.getShiftValue(f,a,b);c.push(g),c.push(this.getC40Value(a,g,f,b))}}else{var g=this.getShiftValue(e,a,b);c.push(g),c.push(this.getC40Value(a,g,e,b))}}if(c.length%3!=0){if((c.length-2)%3!=0||this.fromPosition+this.characterLength!==this.input.length())throw Error("C40 words must be a multiple of 3");c.push(0)}for(var h=new Uint8Array(c.length/3*2),i=0,d=0;d<c.length;d+=3)this.setC40Word(h,i,255&c[d],255&c[d+1],255&c[d+2]),i+=2;return h},a.prototype.getEDFBytes=function(){for(var a=Math.ceil(this.characterLength/4),b=new Uint8Array(3*a),c=this.fromPosition,d=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),e=0;e<a;e+=3){for(var f=[],g=0;g<4;g++)c<=d?f[g]=63&this.input.charAt(c++):f[g]=31*(c===d+1);var h=f[0]<<18;h|=f[1]<<12,h|=f[2]<<6,h|=f[3],b[e]=h>>16&255,b[e+1]=h>>8&255,b[e+2]=255&h}return b},a.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case bb.ASCII:case bb.B256:switch(this.mode){case bb.B256:return a.getBytes(231);case bb.C40:return a.getBytes(230);case bb.TEXT:return a.getBytes(239);case bb.X12:return a.getBytes(238);case bb.EDF:return a.getBytes(240)}break;case bb.C40:case bb.TEXT:case bb.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case bb.ASCII:return a.getBytes(254);case bb.B256:return a.getBytes(254,231);case bb.C40:return a.getBytes(254,230);case bb.TEXT:return a.getBytes(254,239);case bb.X12:return a.getBytes(254,238);case bb.EDF:return a.getBytes(254,240)}break;case bb.EDF:if(this.mode!==bb.EDF)throw Error("Cannot switch from EDF to "+this.mode)}return new Uint8Array(0)},a.prototype.getDataBytes=function(){switch(this.mode){case bb.ASCII:if(this.input.isECI(this.fromPosition))return a.getBytes(241,this.input.getECIValue(this.fromPosition)+1);if(f5.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character()))return a.getBytes(235,this.input.charAt(this.fromPosition)-127);if(2===this.characterLength)return a.getBytes(10*this.input.charAt(this.fromPosition)+this.input.charAt(this.fromPosition+1)+130);else if(this.input.isFNC1(this.fromPosition))return a.getBytes(232);else return a.getBytes(this.input.charAt(this.fromPosition)+1);case bb.B256:return a.getBytes(this.input.charAt(this.fromPosition));case bb.C40:return this.getC40Words(!0,this.input.getFNC1Character());case bb.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case bb.X12:return this.getX12Words();case bb.EDF:return this.getEDFBytes()}},a}(),f8=function(a){function b(b,c,d,e,f){var g=a.call(this,b,c,d)||this;return g.shape=e,g.macroId=f,g}return f0(b,a),b.prototype.getMacroId=function(){return this.macroId},b.prototype.getShapeHint=function(){return this.shape},b}(f$);function f9(){}f9.prototype.encode=function(a,b,c,d,e){if(void 0===e&&(e=null),""===a.trim())throw Error("Found empty contents");if(b!==b0.DATA_MATRIX)throw Error("Can only encode DATA_MATRIX, but got "+b);if(c<0||d<0)throw Error("Requested dimensions can't be negative: "+c+"x"+d);var f,g=0,h=null,i=null;if(null!=e){var j=e.get(fh.DATA_MATRIX_SHAPE);null!=j&&(g=j);var k=e.get(fh.MIN_SIZE);null!=k&&(h=k);var l=e.get(fh.MAX_SIZE);null!=l&&(i=l)}if(null!=e&&e.has(fh.DATA_MATRIX_COMPACT)&&e.get(fh.DATA_MATRIX_COMPACT).toString()){var m=e.has(fh.GS1_FORMAT)&&!!e.get(fh.GS1_FORMAT).toString(),n=null;e.has(fh.CHARACTER_SET)&&(n=fy.forName(e.get(fh.CHARACTER_SET).toString())),f=f5.encodeHighLevel(a,n,m?29:-1,g)}else{var o=null!=e&&e.has(fh.FORCE_C40)&&!!e.get(fh.FORCE_C40).toString();f=fW.encodeHighLevel(a,g,h,i,o)}var p=fO.lookup(f.length,g,h,i,!0),q=new fA(fH.encodeECC200(f,p),p.getSymbolDataWidth(),p.getSymbolDataHeight());return q.place(),this.encodeLowLevel(q,p,c,d)},f9.prototype.encodeLowLevel=function(a,b,c,d){for(var e=b.getSymbolDataWidth(),f=b.getSymbolDataHeight(),g=new fl(b.getSymbolWidth(),b.getSymbolHeight()),h=0,i=0;i<f;i++){var j=void 0;if(i%b.matrixHeight==0){j=0;for(var k=0;k<b.getSymbolWidth();k++)g.setBoolean(j,h,k%2==0),j++;h++}j=0;for(var k=0;k<e;k++)k%b.matrixWidth==0&&(g.setBoolean(j,h,!0),j++),g.setBoolean(j,h,a.getBit(k,i)),j++,k%b.matrixWidth==b.matrixWidth-1&&(g.setBoolean(j,h,i%2==0),j++);if(h++,i%b.matrixHeight==b.matrixHeight-1){j=0;for(var k=0;k<b.getSymbolWidth();k++)g.setBoolean(j,h,!0),j++;h++}}return this.convertByteMatrixToBitMatrix(g,c,d)},f9.prototype.convertByteMatrixToBitMatrix=function(a,b,c){var d,e=a.getWidth(),f=a.getHeight(),g=Math.max(b,e),h=Math.max(c,f),i=Math.min(g/e,h/f),j=(g-e*i)/2,k=(h-f*i)/2;c<f||b<e?(j=0,k=0,d=new bK(e,f)):d=new bK(b,c),d.clear();for(var l=0,m=k;l<f;l++,m+=i)for(var n=0,o=j;n<e;n++,o+=i)1===a.get(n,l)&&d.setRegion(o,m,i,i);return d};var ga=function(){function a(){}return a.prototype.isCompact=function(){return this.compact},a.prototype.setCompact=function(a){this.compact=a},a.prototype.getSize=function(){return this.size},a.prototype.setSize=function(a){this.size=a},a.prototype.getLayers=function(){return this.layers},a.prototype.setLayers=function(a){this.layers=a},a.prototype.getCodeWords=function(){return this.codeWords},a.prototype.setCodeWords=function(a){this.codeWords=a},a.prototype.getMatrix=function(){return this.matrix},a.prototype.setMatrix=function(a){this.matrix=a},a}(),gb=function(){function a(){}return a.singletonList=function(a){return[a]},a.min=function(a,b){return a.sort(b)[0]},a}(),gc=function(){function a(a){this.previous=a}return a.prototype.getPrevious=function(){return this.previous},a}(),gd=(aL=function(a,b){return(aL=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aL(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),ge=function(a){function b(b,c,d){var e=a.call(this,b)||this;return e.value=c,e.bitCount=d,e}return gd(b,a),b.prototype.appendTo=function(a,b){a.appendBits(this.value,this.bitCount)},b.prototype.add=function(a,c){return new b(this,a,c)},b.prototype.addBinaryShift=function(a,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new b(this,a,c)},b.prototype.toString=function(){var a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+by.toBinaryString(a|1<<this.bitCount).substring(1)+">"},b}(gc),gf=(aM=function(a,b){return(aM=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},function(a,b){function c(){this.constructor=a}aM(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),gg=function(a){function b(b,c,d){var e=a.call(this,b,0,0)||this;return e.binaryShiftStart=c,e.binaryShiftByteCount=d,e}return gf(b,a),b.prototype.appendTo=function(a,b){for(var c=0;c<this.binaryShiftByteCount;c++)(0===c||31===c&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):0===c?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(b[this.binaryShiftStart+c],8)},b.prototype.addBinaryShift=function(a,c){return new b(this,a,c)},b.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},b}(ge);function gh(a,b,c){return new ge(a,b,c)}var gi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],gj=new ge(null,0,0),gk=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],gl=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},gm=function(a){var b,c;try{for(var d=gl(a),e=d.next();!e.done;e=d.next()){var f=e.value;bx.fill(f,-1)}}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}return a[0][4]=0,a[1][4]=0,a[1][0]=28,a[3][4]=0,a[2][4]=0,a[2][0]=15,a}(bx.createInt32Array(6,6)),gn=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},go=function(){function a(a,b,c,d){this.token=a,this.mode=b,this.binaryShiftByteCount=c,this.bitCount=d}return a.prototype.getMode=function(){return this.mode},a.prototype.getToken=function(){return this.token},a.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},a.prototype.getBitCount=function(){return this.bitCount},a.prototype.latchAndAppend=function(b,c){var d=this.bitCount,e=this.token;if(b!==this.mode){var f=gk[this.mode][b];e=gh(e,65535&f,f>>16),d+=f>>16}var g=2===b?4:5;return new a(e=gh(e,c,g),b,0,d+g)},a.prototype.shiftAndAppend=function(b,c){var d=this.token,e=2===this.mode?4:5;return d=gh(d,gm[this.mode][b],e),new a(d=gh(d,c,5),this.mode,0,this.bitCount+e+5)},a.prototype.addBinaryShiftChar=function(b){var c=this.token,d=this.mode,e=this.bitCount;if(4===this.mode||2===this.mode){var f=gk[d][0];c=gh(c,65535&f,f>>16),e+=f>>16,d=0}var g=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,h=new a(c,d,this.binaryShiftByteCount+1,e+g);return 2078===h.binaryShiftByteCount&&(h=h.endBinaryShift(b+1)),h},a.prototype.endBinaryShift=function(b){if(0===this.binaryShiftByteCount)return this;var c=this.token;return new a(c=new gg(c,b-this.binaryShiftByteCount,this.binaryShiftByteCount),this.mode,0,this.bitCount)},a.prototype.isBetterThanOrEqualTo=function(b){var c=this.bitCount+(gk[this.mode][b.mode]>>16);return this.binaryShiftByteCount<b.binaryShiftByteCount?c+=a.calculateBinaryShiftCost(b)-a.calculateBinaryShiftCost(this):this.binaryShiftByteCount>b.binaryShiftByteCount&&b.binaryShiftByteCount>0&&(c+=10),c<=b.bitCount},a.prototype.toBitArray=function(a){for(var b,c,d=[],e=this.endBinaryShift(a.length).token;null!==e;e=e.getPrevious())d.unshift(e);var f=new bz;try{for(var g=gn(d),h=g.next();!h.done;h=g.next())h.value.appendTo(f,a)}catch(a){b={error:a}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}return f},a.prototype.toString=function(){return bI.format("%s bits=%d bytes=%d",gi[this.mode],this.bitCount,this.binaryShiftByteCount)},a.calculateBinaryShiftCost=function(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:10*(a.binaryShiftByteCount>0)},a.INITIAL_STATE=new a(gj,0,0,0),a}(),gp=function(a){var b=bI.getCharCode(" "),c=bI.getCharCode("."),d=bI.getCharCode(",");a[0][b]=1;for(var e=bI.getCharCode("Z"),f=bI.getCharCode("A"),g=f;g<=e;g++)a[0][g]=g-f+2;a[1][b]=1;for(var h=bI.getCharCode("z"),i=bI.getCharCode("a"),g=i;g<=h;g++)a[1][g]=g-i+2;a[2][b]=1;for(var j=bI.getCharCode("9"),k=bI.getCharCode("0"),g=k;g<=j;g++)a[2][g]=g-k+2;a[2][d]=12,a[2][c]=13;for(var l=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","	","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~",""],m=0;m<l.length;m++)a[3][bI.getCharCode(l[m])]=m;for(var n=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],m=0;m<n.length;m++)bI.getCharCode(n[m])>0&&(a[4][bI.getCharCode(n[m])]=m);return a}(bx.createInt32Array(5,256)),gq=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},gr=function(){function a(a){this.text=a}return a.prototype.encode=function(){for(var b=bI.getCharCode(" "),c=bI.getCharCode("\n"),d=gb.singletonList(go.INITIAL_STATE),e=0;e<this.text.length;e++){var f=void 0,g=e+1<this.text.length?this.text[e+1]:0;switch(this.text[e]){case bI.getCharCode("\r"):f=2*(g===c);break;case bI.getCharCode("."):f=3*(g===b);break;case bI.getCharCode(","):f=4*(g===b);break;case bI.getCharCode(":"):f=5*(g===b);break;default:f=0}f>0?(d=a.updateStateListForPair(d,e,f),e++):d=this.updateStateListForChar(d,e)}return gb.min(d,function(a,b){return a.getBitCount()-b.getBitCount()}).toBitArray(this.text)},a.prototype.updateStateListForChar=function(b,c){var d,e,f=[];try{for(var g=gq(b),h=g.next();!h.done;h=g.next()){var i=h.value;this.updateStateForChar(i,c,f)}}catch(a){d={error:a}}finally{try{h&&!h.done&&(e=g.return)&&e.call(g)}finally{if(d)throw d.error}}return a.simplifyStates(f)},a.prototype.updateStateForChar=function(a,b,c){for(var d=255&this.text[b],e=gp[a.getMode()][d]>0,f=null,g=0;g<=4;g++){var h=gp[g][d];if(h>0){if(null==f&&(f=a.endBinaryShift(b)),!e||g===a.getMode()||2===g){var i=f.latchAndAppend(g,h);c.push(i)}if(!e&&gm[a.getMode()][g]>=0){var j=f.shiftAndAppend(g,h);c.push(j)}}}if(a.getBinaryShiftByteCount()>0||0===gp[a.getMode()][d]){var k=a.addBinaryShiftChar(b);c.push(k)}},a.updateStateListForPair=function(a,b,c){var d,e,f=[];try{for(var g=gq(a),h=g.next();!h.done;h=g.next()){var i=h.value;this.updateStateForPair(i,b,c,f)}}catch(a){d={error:a}}finally{try{h&&!h.done&&(e=g.return)&&e.call(g)}finally{if(d)throw d.error}}return this.simplifyStates(f)},a.updateStateForPair=function(a,b,c,d){var e=a.endBinaryShift(b);if(d.push(e.latchAndAppend(4,c)),4!==a.getMode()&&d.push(e.shiftAndAppend(4,c)),3===c||4===c){var f=e.latchAndAppend(2,16-c).latchAndAppend(2,1);d.push(f)}if(a.getBinaryShiftByteCount()>0){var g=a.addBinaryShiftChar(b).addBinaryShiftChar(b+1);d.push(g)}},a.simplifyStates=function(a){var b,c,d,e,f=[];try{for(var g=gq(a),h=g.next();!h.done;h=g.next()){var i=h.value,j=!0,k=function(a){if(a.isBetterThanOrEqualTo(i))return j=!1,"break";i.isBetterThanOrEqualTo(a)&&(f=f.filter(function(b){return b!==a}))};try{for(var l=(d=void 0,gq(f)),m=l.next();!m.done;m=l.next()){var n=m.value,o=k(n);if("break"===o)break}}catch(a){d={error:a}}finally{try{m&&!m.done&&(e=l.return)&&e.call(l)}finally{if(d)throw d.error}}j&&f.push(i)}}catch(a){b={error:a}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}return f},a}(),gs=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},gt=function(){function a(){}return a.encodeBytes=function(b){return a.encode(b,a.DEFAULT_EC_PERCENT,a.DEFAULT_AZTEC_LAYERS)},a.encode=function(b,c,d){var e,f,g,h,i,j,k=new gr(b).encode(),l=by.truncDivision(k.getSize()*c,100)+11,m=k.getSize()+l;if(d!==a.DEFAULT_AZTEC_LAYERS){if(e=d<0,(f=Math.abs(d))>(e?a.MAX_NB_BITS_COMPACT:a.MAX_NB_BITS))throw new bm(bI.format("Illegal value %s for layers",d));var n=(g=a.totalBitsInLayer(f,e))-g%(h=a.WORD_SIZE[f]);if((i=a.stuffBits(k,h)).getSize()+l>n||e&&i.getSize()>64*h)throw new bm("Data to large for user specified layer")}else{h=0,i=null;for(var o=0;;o++){if(o>a.MAX_NB_BITS)throw new bm("Data too large for an Aztec code");if(f=(e=o<=3)?o+1:o,!(m>(g=a.totalBitsInLayer(f,e)))){(null==i||h!==a.WORD_SIZE[f])&&(h=a.WORD_SIZE[f],i=a.stuffBits(k,h));var n=g-g%h;if(!(e&&i.getSize()>64*h)&&i.getSize()+l<=n)break}}}var p=a.generateCheckWords(i,g,h),q=i.getSize()/h,r=a.generateModeMessage(e,f,q),s=(e?11:14)+4*f,t=new Int32Array(s);if(e){j=s;for(var o=0;o<t.length;o++)t[o]=o}else{j=s+1+2*by.truncDivision(by.truncDivision(s,2)-1,15);for(var u=by.truncDivision(s,2),v=by.truncDivision(j,2),o=0;o<u;o++){var w=o+by.truncDivision(o,15);t[u-o-1]=v-w-1,t[u+o]=v+w+1}}for(var x=new bK(j),o=0,y=0;o<f;o++){for(var z=(f-o)*4+(e?9:12),A=0;A<z;A++)for(var B=2*A,C=0;C<2;C++)p.get(y+B+C)&&x.set(t[2*o+C],t[2*o+A]),p.get(y+2*z+B+C)&&x.set(t[2*o+A],t[s-1-2*o-C]),p.get(y+4*z+B+C)&&x.set(t[s-1-2*o-C],t[s-1-2*o-A]),p.get(y+6*z+B+C)&&x.set(t[s-1-2*o-A],t[2*o+C]);y+=8*z}if(a.drawModeMessage(x,e,j,r),e)a.drawBullsEye(x,by.truncDivision(j,2),5);else{a.drawBullsEye(x,by.truncDivision(j,2),7);for(var o=0,A=0;o<by.truncDivision(s,2)-1;o+=15,A+=16)for(var C=1&by.truncDivision(j,2);C<j;C+=2)x.set(by.truncDivision(j,2)-A,C),x.set(by.truncDivision(j,2)+A,C),x.set(C,by.truncDivision(j,2)-A),x.set(C,by.truncDivision(j,2)+A)}var D=new ga;return D.setCompact(e),D.setSize(j),D.setLayers(f),D.setCodeWords(q),D.setMatrix(x),D},a.drawBullsEye=function(a,b,c){for(var d=0;d<c;d+=2)for(var e=b-d;e<=b+d;e++)a.set(e,b-d),a.set(e,b+d),a.set(b-d,e),a.set(b+d,e);a.set(b-c,b-c),a.set(b-c+1,b-c),a.set(b-c,b-c+1),a.set(b+c,b-c),a.set(b+c,b-c+1),a.set(b+c,b+c-1)},a.generateModeMessage=function(b,c,d){var e=new bz;return b?(e.appendBits(c-1,2),e.appendBits(d-1,6),e=a.generateCheckWords(e,28,4)):(e.appendBits(c-1,5),e.appendBits(d-1,11),e=a.generateCheckWords(e,40,4)),e},a.drawModeMessage=function(a,b,c,d){var e=by.truncDivision(c,2);if(b)for(var f=0;f<7;f++){var g=e-3+f;d.get(f)&&a.set(g,e-5),d.get(f+7)&&a.set(e+5,g),d.get(20-f)&&a.set(g,e+5),d.get(27-f)&&a.set(e-5,g)}else for(var f=0;f<10;f++){var g=e-5+f+by.truncDivision(f,5);d.get(f)&&a.set(g,e-7),d.get(f+10)&&a.set(e+7,g),d.get(29-f)&&a.set(g,e+7),d.get(39-f)&&a.set(e-7,g)}},a.generateCheckWords=function(b,c,d){var e,f,g=b.getSize()/d,h=new fi(a.getGF(d)),i=by.truncDivision(c,d),j=a.bitsToWords(b,d,i);h.encode(j,i-g);var k=c%d,l=new bz;l.appendBits(0,k);try{for(var m=gs(Array.from(j)),n=m.next();!n.done;n=m.next()){var o=n.value;l.appendBits(o,d)}}catch(a){e={error:a}}finally{try{n&&!n.done&&(f=m.return)&&f.call(m)}finally{if(e)throw e.error}}return l},a.bitsToWords=function(a,b,c){var d,e,f=new Int32Array(c);for(d=0,e=a.getSize()/b;d<e;d++){for(var g=0,h=0;h<b;h++)g|=a.get(d*b+h)?1<<b-h-1:0;f[d]=g}return f},a.getGF=function(a){switch(a){case 4:return b8.AZTEC_PARAM;case 6:return b8.AZTEC_DATA_6;case 8:return b8.AZTEC_DATA_8;case 10:return b8.AZTEC_DATA_10;case 12:return b8.AZTEC_DATA_12;default:throw new bm("Unsupported word size "+a)}},a.stuffBits=function(a,b){for(var c=new bz,d=a.getSize(),e=(1<<b)-2,f=0;f<d;f+=b){for(var g=0,h=0;h<b;h++)(f+h>=d||a.get(f+h))&&(g|=1<<b-1-h);(g&e)===e?(c.appendBits(g&e,b),f--):(g&e)==0?(c.appendBits(1|g,b),f--):c.appendBits(g,b)}return c},a.totalBitsInLayer=function(a,b){return((b?88:112)+16*a)*a},a.DEFAULT_EC_PERCENT=33,a.DEFAULT_AZTEC_LAYERS=0,a.MAX_NB_BITS=32,a.MAX_NB_BITS_COMPACT=4,a.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),a}();function gu(){}gu.prototype.encode=function(a,b,c,d){return this.encodeWithHints(a,b,c,d,null)},gu.prototype.encodeWithHints=function(a,b,c,d,e){var f=fz.ISO_8859_1,g=gt.DEFAULT_EC_PERCENT,h=gt.DEFAULT_AZTEC_LAYERS;return null!=e&&(e.has(fh.CHARACTER_SET)&&(f=fy.forName(e.get(fh.CHARACTER_SET).toString())),e.has(fh.ERROR_CORRECTION)&&(g=by.parseInt(e.get(fh.ERROR_CORRECTION).toString())),e.has(fh.AZTEC_LAYERS)&&(h=by.parseInt(e.get(fh.AZTEC_LAYERS).toString()))),gu.encodeLayers(a,b,c,d,f,g,h)},gu.encodeLayers=function(a,b,c,d,e,f,g){if(b!==b0.AZTEC)throw new bm("Can only encode AZTEC, but got "+b);var h=gt.encode(bI.getBytes(a,e),f,g);return gu.renderResult(h,c,d)},gu.renderResult=function(a,b,c){var d=a.getMatrix();if(null==d)throw new cc;for(var e=d.getWidth(),f=d.getHeight(),g=Math.max(b,e),h=Math.max(c,f),i=Math.min(g/e,h/f),j=(g-e*i)/2,k=(h-f*i)/2,l=new bK(g,h),m=0,n=k;m<f;m++,n+=i)for(var o=0,p=j;o<e;o++,p+=i)d.get(o,m)&&l.setRegion(p,n,i,i);return l};var gv=(aN=function(a,b){return(aN=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}aN(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),gw=function(a){function b(c){var d=a.call(this,c.width,c.height)||this;return d.canvas=c,d.tempCanvasElement=null,d.buffer=b.makeBufferFromCanvasImageData(c),d}return gv(b,a),b.makeBufferFromCanvasImageData=function(a){try{c=a.getContext("2d",{willReadFrequently:!0})}catch(b){c=a.getContext("2d")}if(!c)throw Error("Couldn't get canvas context.");var c,d=c.getImageData(0,0,a.width,a.height);return b.toGrayscaleBuffer(d.data,a.width,a.height)},b.toGrayscaleBuffer=function(a,b,c){for(var d=new Uint8ClampedArray(b*c),e=0,f=0,g=a.length;e<g;e+=4,f++){var h=void 0;h=0===a[e+3]?255:306*a[e]+601*a[e+1]+117*a[e+2]+512>>10,d[f]=h}return d},b.prototype.getRow=function(a,b){if(a<0||a>=this.getHeight())throw new bm("Requested row is outside the image: "+a);var c=this.getWidth(),d=a*c;return null===b?b=this.buffer.slice(d,d+c):(b.length<c&&(b=new Uint8ClampedArray(c)),b.set(this.buffer.slice(d,d+c))),b},b.prototype.getMatrix=function(){return this.buffer},b.prototype.isCropSupported=function(){return!0},b.prototype.crop=function(b,c,d,e){return a.prototype.crop.call(this,b,c,d,e),this},b.prototype.isRotateSupported=function(){return!0},b.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},b.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},b.prototype.invert=function(){return new bT(this)},b.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement},b.prototype.rotate=function(a){var c=this.getTempCanvasElement();if(!c)throw Error("Could not create a Canvas element.");var d=a*b.DEGREE_TO_RADIANS,e=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(d))*e+Math.abs(Math.sin(d))*f),h=Math.ceil(Math.abs(Math.sin(d))*e+Math.abs(Math.cos(d))*f);c.width=g,c.height=h;var i=c.getContext("2d");if(!i)throw Error("Could not create a Canvas Context element.");return i.translate(g/2,h/2),i.rotate(d),i.drawImage(this.canvas,-(e/2),-(f/2)),this.buffer=b.makeBufferFromCanvasImageData(c),this},b.DEGREE_TO_RADIANS=Math.PI/180,b}(bR);function gx(){return"undefined"!=typeof navigator}var gy=function(){return(gy=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},gz=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},gA=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},gB=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},gC={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},gD=function(){function a(a,b,c){void 0===b&&(b=new Map),void 0===c&&(c={}),this.reader=a,this.hints=b,this.options=gy(gy({},gC),c)}return Object.defineProperty(a.prototype,"possibleFormats",{set:function(a){this.hints.set(bA.POSSIBLE_FORMATS,a)},enumerable:!1,configurable:!0}),a.addVideoSource=function(a,b){try{a.srcObject=b}catch(a){console.error("got interrupted by new loading request")}},a.mediaStreamSetTorch=function(a,b){return gz(this,void 0,void 0,function(){return gA(this,function(c){switch(c.label){case 0:return[4,a.applyConstraints({advanced:[{fillLightMode:b?"flash":"off",torch:!!b}]})];case 1:return c.sent(),[2]}})})},a.mediaStreamIsTorchCompatible=function(b){var c,d,e=b.getVideoTracks();try{for(var f=gB(e),g=f.next();!g.done;g=f.next()){var h=g.value;if(a.mediaStreamIsTorchCompatibleTrack(h))return!0}}catch(a){c={error:a}}finally{try{g&&!g.done&&(d=f.return)&&d.call(f)}finally{if(c)throw c.error}}return!1},a.mediaStreamIsTorchCompatibleTrack=function(a){try{var b=a.getCapabilities();return"torch"in b}catch(a){return console.error(a),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},a.isVideoPlaying=function(a){return a.currentTime>0&&!a.paused&&a.readyState>2},a.getMediaElement=function(a,b){var c=document.getElementById(a);if(!c)throw new bk("element with id '".concat(a,"' not found"));if(c.nodeName.toLowerCase()!==b.toLowerCase())throw new bk("element with id '".concat(a,"' must be an ").concat(b," element"));return c},a.createVideoElement=function(b){if(b instanceof HTMLVideoElement)return b;if("string"==typeof b)return a.getMediaElement(b,"video");if(!b&&"undefined"!=typeof document){var c=document.createElement("video");return c.width=200,c.height=200,c}throw Error("Couldn't get videoElement from videoSource!")},a.prepareImageElement=function(b){if(b instanceof HTMLImageElement)return b;if("string"==typeof b)return a.getMediaElement(b,"img");if(void 0===b){var c=document.createElement("img");return c.width=200,c.height=200,c}throw Error("Couldn't get imageElement from imageSource!")},a.prepareVideoElement=function(b){var c=a.createVideoElement(b);return c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c},a.isImageLoaded=function(a){return!!a.complete&&0!==a.naturalWidth},a.createBinaryBitmapFromCanvas=function(a){return new bn(new bQ(new gw(a)))},a.drawImageOnCanvas=function(a,b){a.drawImage(b,0,0)},a.getMediaElementDimensions=function(a){if(a instanceof HTMLVideoElement)return{height:a.videoHeight,width:a.videoWidth};if(a instanceof HTMLImageElement)return{height:a.naturalHeight||a.height,width:a.naturalWidth||a.width};throw Error("Couldn't find the Source's dimensions!")},a.createCaptureCanvas=function(b){if(!b)throw new bk("Cannot create a capture canvas without a media element.");if("undefined"==typeof document)throw Error('The page "Document" is undefined, make sure you\'re running in a browser.');var c=document.createElement("canvas"),d=a.getMediaElementDimensions(b),e=d.width,f=d.height;return c.style.width=e+"px",c.style.height=f+"px",c.width=e,c.height=f,c},a.tryPlayVideo=function(b){return gz(this,void 0,void 0,function(){return gA(this,function(c){switch(c.label){case 0:if(null==b?void 0:b.ended)return console.error("Trying to play video that has ended."),[2,!1];if(a.isVideoPlaying(b))return console.warn("Trying to play video that is already playing."),[2,!0];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,b.play()];case 2:return c.sent(),[2,!0];case 3:return console.warn("It was not possible to play the video.",c.sent()),[2,!1];case 4:return[2]}})})},a.createCanvasFromMediaElement=function(b){var c=a.createCaptureCanvas(b),d=c.getContext("2d");if(!d)throw Error("Couldn't find Canvas 2D Context.");return a.drawImageOnCanvas(d,b),c},a.createBinaryBitmapFromMediaElem=function(b){var c=a.createCanvasFromMediaElement(b);return a.createBinaryBitmapFromCanvas(c)},a.destroyImageElement=function(a){a.src="",a.removeAttribute("src")},a.listVideoInputDevices=function(){return gz(this,void 0,void 0,function(){var a,b,c,d,e,f,g,h,i,j,k,l;return gA(this,function(m){switch(m.label){case 0:if(!gx())throw Error("Can't enumerate devices, navigator is not present.");if(!(gx()&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices))throw Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:a=m.sent(),b=[];try{for(d=(c=gB(a)).next();!d.done;d=c.next())e=d.value,f="video"===e.kind?"videoinput":e.kind,"videoinput"===f&&(g=e.deviceId||e.id,h=e.label||"Video device ".concat(b.length+1),i=e.groupId,j={deviceId:g,label:h,kind:f,groupId:i},b.push(j))}catch(a){k={error:a}}finally{try{d&&!d.done&&(l=c.return)&&l.call(c)}finally{if(k)throw k.error}}return[2,b]}})})},a.findDeviceById=function(b){return gz(this,void 0,void 0,function(){var c;return gA(this,function(d){switch(d.label){case 0:return[4,a.listVideoInputDevices()];case 1:if(!(c=d.sent()))return[2];return[2,c.find(function(a){return a.deviceId===b})]}})})},a.cleanVideoSource=function(a){if(a){try{a.srcObject=null}catch(b){a.src=""}a&&a.removeAttribute("src")}},a.releaseAllStreams=function(){0!==a.streamTracker.length&&a.streamTracker.forEach(function(a){a.getTracks().forEach(function(a){return a.stop()})}),a.streamTracker=[]},a.playVideoOnLoadAsync=function(b,c){return gz(this,void 0,void 0,function(){return gA(this,function(d){switch(d.label){case 0:return[4,a.tryPlayVideo(b)];case 1:if(d.sent())return[2,!0];return[2,new Promise(function(d,e){var f=setTimeout(function(){a.isVideoPlaying(b)||(e(!1),b.removeEventListener("canplay",g))},c),g=function(){a.tryPlayVideo(b).then(function(a){clearTimeout(f),b.removeEventListener("canplay",g),d(a)})};b.addEventListener("canplay",g)})]}})})},a.attachStreamToVideo=function(b,c,d){return void 0===d&&(d=5e3),gz(this,void 0,void 0,function(){var e;return gA(this,function(f){switch(f.label){case 0:return e=a.prepareVideoElement(c),a.addVideoSource(e,b),[4,a.playVideoOnLoadAsync(e,d)];case 1:return f.sent(),[2,e]}})})},a._waitImageLoad=function(b){return new Promise(function(c,d){var e=setTimeout(function(){a.isImageLoaded(b)||(b.removeEventListener("load",f),d())},1e4),f=function(){clearTimeout(e),b.removeEventListener("load",f),c()};b.addEventListener("load",f)})},a.checkCallbackFnOrThrow=function(a){if(!a)throw new bk("`callbackFn` is a required parameter, you cannot capture results without it.")},a.disposeMediaStream=function(a){a.getVideoTracks().forEach(function(a){return a.stop()})},a.prototype.decode=function(b){var c=a.createCanvasFromMediaElement(b);return this.decodeFromCanvas(c)},a.prototype.decodeBitmap=function(a){return this.reader.decode(a,this.hints)},a.prototype.decodeFromCanvas=function(b){var c=a.createBinaryBitmapFromCanvas(b);return this.decodeBitmap(c)},a.prototype.decodeFromImageElement=function(b){return gz(this,void 0,void 0,function(){var c;return gA(this,function(d){switch(d.label){case 0:if(!b)throw new bk("An image element must be provided.");return c=a.prepareImageElement(b),[4,this._decodeOnLoadImage(c)];case 1:return[2,d.sent()]}})})},a.prototype.decodeFromImageUrl=function(b){return gz(this,void 0,void 0,function(){var c;return gA(this,function(d){switch(d.label){case 0:if(!b)throw new bk("An URL must be provided.");(c=a.prepareImageElement()).src=b,d.label=1;case 1:return d.trys.push([1,,3,4]),[4,this.decodeFromImageElement(c)];case 2:return[2,d.sent()];case 3:return a.destroyImageElement(c),[7];case 4:return[2]}})})},a.prototype.decodeFromConstraints=function(b,c,d){return gz(this,void 0,void 0,function(){var e,f;return gA(this,function(g){switch(g.label){case 0:return a.checkCallbackFnOrThrow(d),[4,this.getUserMedia(b)];case 1:e=g.sent(),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this.decodeFromStream(e,c,d)];case 3:return[2,g.sent()];case 4:throw f=g.sent(),a.disposeMediaStream(e),f;case 5:return[2]}})})},a.prototype.decodeFromStream=function(b,c,d){return gz(this,void 0,void 0,function(){var e,f,g,h,i,j,k,l,m=this;return gA(this,function(n){switch(n.label){case 0:return a.checkCallbackFnOrThrow(d),e=this.options.tryPlayVideoTimeout,[4,a.attachStreamToVideo(b,c,e)];case 1:return f=n.sent(),g=function(){a.disposeMediaStream(b),a.cleanVideoSource(f)},h=this.scan(f,d,g),i=b.getVideoTracks(),j=gy(gy({},h),{stop:function(){h.stop()},streamVideoConstraintsApply:function(a,b){return gz(this,void 0,void 0,function(){var c,d,e,f,g;return gA(this,function(h){switch(h.label){case 0:c=b?i.filter(b):i,h.label=1;case 1:h.trys.push([1,6,7,8]),e=(d=gB(c)).next(),h.label=2;case 2:if(e.done)return[3,5];return[4,e.value.applyConstraints(a)];case 3:h.sent(),h.label=4;case 4:return e=d.next(),[3,2];case 5:return[3,8];case 6:return f={error:h.sent()},[3,8];case 7:try{e&&!e.done&&(g=d.return)&&g.call(d)}finally{if(f)throw f.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(a){return i.find(a).getConstraints()},streamVideoSettingsGet:function(a){return i.find(a).getSettings()},streamVideoCapabilitiesGet:function(a){return i.find(a).getCapabilities()}}),a.mediaStreamIsTorchCompatible(b)&&(k=null==i?void 0:i.find(function(b){return a.mediaStreamIsTorchCompatibleTrack(b)}),j.switchTorch=l=function(b){return gz(m,void 0,void 0,function(){return gA(this,function(c){switch(c.label){case 0:return[4,a.mediaStreamSetTorch(k,b)];case 1:return c.sent(),[2]}})})},j.stop=function(){return gz(m,void 0,void 0,function(){return gA(this,function(a){switch(a.label){case 0:return h.stop(),[4,l(!1)];case 1:return a.sent(),[2]}})})}),[2,j]}})})},a.prototype.decodeFromVideoDevice=function(b,c,d){return gz(this,void 0,void 0,function(){var e;return gA(this,function(f){switch(f.label){case 0:return a.checkCallbackFnOrThrow(d),e={video:b?{deviceId:{exact:b}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(e,c,d)];case 1:return[2,f.sent()]}})})},a.prototype.decodeFromVideoElement=function(b,c){return gz(this,void 0,void 0,function(){var d,e;return gA(this,function(f){switch(f.label){case 0:if(a.checkCallbackFnOrThrow(c),!b)throw new bk("A video element must be provided.");return d=a.prepareVideoElement(b),e=this.options.tryPlayVideoTimeout,[4,a.playVideoOnLoadAsync(d,e)];case 1:return f.sent(),[2,this.scan(d,c)]}})})},a.prototype.decodeFromVideoUrl=function(b,c){return gz(this,void 0,void 0,function(){var d,e,f;return gA(this,function(g){switch(g.label){case 0:if(a.checkCallbackFnOrThrow(c),!b)throw new bk("An URL must be provided.");return(d=a.prepareVideoElement()).src=b,e=function(){a.cleanVideoSource(d)},f=this.options.tryPlayVideoTimeout,[4,a.playVideoOnLoadAsync(d,f)];case 1:return g.sent(),[2,this.scan(d,c,e)]}})})},a.prototype.decodeOnceFromConstraints=function(a,b){return gz(this,void 0,void 0,function(){var c;return gA(this,function(d){switch(d.label){case 0:return[4,this.getUserMedia(a)];case 1:return c=d.sent(),[4,this.decodeOnceFromStream(c,b)];case 2:return[2,d.sent()]}})})},a.prototype.decodeOnceFromStream=function(b,c){return gz(this,void 0,void 0,function(){var d,e;return gA(this,function(f){switch(f.label){case 0:return d=!!c,[4,a.attachStreamToVideo(b,c)];case 1:e=f.sent(),f.label=2;case 2:return f.trys.push([2,,4,5]),[4,this.scanOneResult(e)];case 3:return[2,f.sent()];case 4:return d||a.cleanVideoSource(e),[7];case 5:return[2]}})})},a.prototype.decodeOnceFromVideoDevice=function(a,b){return gz(this,void 0,void 0,function(){var c;return gA(this,function(d){switch(d.label){case 0:return c={video:a?{deviceId:{exact:a}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(c,b)];case 1:return[2,d.sent()]}})})},a.prototype.decodeOnceFromVideoElement=function(b){return gz(this,void 0,void 0,function(){var c,d;return gA(this,function(e){switch(e.label){case 0:if(!b)throw new bk("A video element must be provided.");return c=a.prepareVideoElement(b),d=this.options.tryPlayVideoTimeout,[4,a.playVideoOnLoadAsync(c,d)];case 1:return e.sent(),[4,this.scanOneResult(c)];case 2:return[2,e.sent()]}})})},a.prototype.decodeOnceFromVideoUrl=function(b){return gz(this,void 0,void 0,function(){var c,d;return gA(this,function(e){switch(e.label){case 0:if(!b)throw new bk("An URL must be provided.");(c=a.prepareVideoElement()).src=b,d=this.decodeOnceFromVideoElement(c),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,d];case 2:return[2,e.sent()];case 3:return a.cleanVideoSource(c),[7];case 4:return[2]}})})},a.prototype.scanOneResult=function(a,b,c,d){var e=this;return void 0===b&&(b=!0),void 0===c&&(c=!0),void 0===d&&(d=!0),new Promise(function(f,g){e.scan(a,function(a,e,h){if(a){f(a),h.stop();return}if(e){if(e instanceof bM&&b||e instanceof bp&&c||e instanceof bC&&d)return;h.stop(),g(e)}})})},a.prototype.scan=function(b,c,d){var e,f,g=this;a.checkCallbackFnOrThrow(c);var h=a.createCaptureCanvas(b);try{e=h.getContext("2d",{willReadFrequently:!0})}catch(a){e=h.getContext("2d")}if(!e)throw Error("Couldn't create canvas for visual element scan.");var i=function(){e=void 0,h=void 0},j=!1,k={stop:function(){j=!0,clearTimeout(f),i(),d&&d()}},l=function(){if(!j)try{a.drawImageOnCanvas(e,b);var m=g.decodeFromCanvas(h);c(m,void 0,k),f=setTimeout(l,g.options.delayBetweenScanSuccess)}catch(a){c(void 0,a,k);var n=a instanceof bp,o=a instanceof bC,p=a instanceof bM;if(n||o||p){f=setTimeout(l,g.options.delayBetweenScanAttempts);return}i(),d&&d(a)}};return l(),k},a.prototype._decodeOnLoadImage=function(b){return gz(this,void 0,void 0,function(){return gA(this,function(c){switch(c.label){case 0:if(a.isImageLoaded(b))return[3,2];return[4,a._waitImageLoad(b)];case 1:c.sent(),c.label=2;case 2:return[2,this.decode(b)]}})})},a.prototype.getUserMedia=function(b){return gz(this,void 0,void 0,function(){var c;return gA(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.getUserMedia(b)];case 1:return c=d.sent(),a.streamTracker.push(c),[2,c]}})})},a.streamTracker=[],a}();(aO=function(a,b){return(aO=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}aO(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(function(a,b){return aP.call(this,new ct,a,b)||this},aP=gD),(aQ=function(a,b){return(aQ=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}aQ(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(function(a,b){return aR.call(this,new dT(a),a,b)||this},aR=gD),(aS=function(a,b){return(aS=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}aS(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(function(a,b){return aT.call(this,new d4,a,b)||this},aT=gD);var gE=(aU=function(a,b){return(aU=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}aU(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),gF=function(a){function b(b,c){var d=this,e=new ff;return e.setHints(b),(d=a.call(this,e,b,c)||this).reader=e,d}return gE(b,a),Object.defineProperty(b.prototype,"possibleFormats",{set:function(a){this.hints.set(bA.POSSIBLE_FORMATS,a),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),b.prototype.decodeBitmap=function(a){return this.reader.decodeWithState(a)},b.prototype.setHints=function(a){this.hints=a,this.reader.setHints(this.hints)},b}(gD);(aV=function(a,b){return(aV=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}aV(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(function(a,b){return aW.call(this,new fb,a,b)||this},aW=gD),(aX=function(a,b){return(aX=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}aX(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)})(function(a,b){return aY.call(this,new ew,a,b)||this},aY=gD);var gG="http://www.w3.org/2000/svg";function gH(a){if("string"==typeof a){var b=document.getElementById(a);if(!b)throw Error("Could not find a Container element with '".concat(a,"'."));this.containerElement=b}else this.containerElement=a}gH.prototype.write=function(a,b,c,d){if(0===a.length)throw new bm("Found empty contents");if(b<0||c<0)throw new bm("Requested dimensions are too small: "+b+"x"+c);var e=d&&void 0!==d.get(fh.MARGIN)?Number.parseInt(d.get(fh.MARGIN).toString(),10):gH.QUIET_ZONE_SIZE,f=this.encode(d,a);return this.renderResult(f,b,c,e)},gH.prototype.createSVGElement=function(a,b){var c=document.createElementNS(gH.SVG_NS,"svg");return c.setAttributeNS(gG,"width",b.toString()),c.setAttributeNS(gG,"height",a.toString()),c},gH.prototype.createSvgPathPlaceholderElement=function(a,b){var c=document.createElementNS(gH.SVG_NS,"path");return c.setAttributeNS(gG,"d","M0 0h".concat(a,"v").concat(b,"H0z")),c.setAttributeNS(gG,"fill","none"),c},gH.prototype.createSvgRectElement=function(a,b,c,d){var e=document.createElementNS(gH.SVG_NS,"rect");return e.setAttributeNS(gG,"x",a.toString()),e.setAttributeNS(gG,"y",b.toString()),e.setAttributeNS(gG,"height",c.toString()),e.setAttributeNS(gG,"width",d.toString()),e.setAttributeNS(gG,"fill","#000000"),e},gH.prototype.encode=function(a,b){var c=d5.L;if(a&&void 0!==a.get(fh.ERROR_CORRECTION)){var d=a.get(fh.ERROR_CORRECTION).toString();c=d5.fromString(d)}return fs.encode(b,c,a)},gH.prototype.renderResult=function(a,b,c,d){var e=a.getMatrix();if(null===e)throw new cc;var f=e.getWidth(),g=e.getHeight(),h=f+2*d,i=g+2*d,j=Math.max(b,h),k=Math.max(c,i),l=Math.min(Math.floor(j/h),Math.floor(k/i)),m=Math.floor((j-f*l)/2),n=Math.floor((k-g*l)/2),o=this.createSVGElement(j,k),p=this.createSvgPathPlaceholderElement(b,c);o.appendChild(p),this.containerElement.appendChild(o);for(var q=0,r=n;q<g;q++,r+=l)for(var s=0,t=m;s<f;s++,t+=l)if(1===e.get(s,q)){var u=this.createSvgRectElement(t,r,l,l);o.appendChild(u)}return o},gH.QUIET_ZONE_SIZE=4,gH.SVG_NS="http://www.w3.org/2000/svg";var gI="http://www.w3.org/2000/svg";function gJ(){}function gK(){let[a,b]=(0,bd.useState)(!1),[c,d]=(0,bd.useState)(""),[e,f]=(0,bd.useState)(null),[g,h]=(0,bd.useState)(!1),[i,j]=(0,bd.useState)(""),k=(0,bd.useRef)(null),l=(0,bd.useRef)(null),m=async()=>{try{if(j(""),b(!0),!k.current){j("Video element niet gevonden"),b(!1);return}let a=new gF;l.current=a,k.current&&(k.current.setAttribute("playsinline","true"),k.current.setAttribute("webkit-playsinline","true"),k.current.muted=!0,k.current.playsInline=!0),console.log(" Starting barcode scanner..."),await a.decodeFromConstraints({audio:!1,video:{facingMode:"environment"}},k.current,(a,b)=>{if(a){let b=a.getText().trim();/^\d{10}(\d{3})?$/.test(b)&&(console.log(" Barcode detected:",b),navigator.vibrate&&navigator.vibrate(200),n(),r(b))}b&&"NotFoundException"!==b.name&&console.warn("Scanner error:",b)}),console.log(" Scanner started successfully")}catch(a){console.error("Camera error:",a),a instanceof Error?"NotAllowedError"===a.name||"PermissionDeniedError"===a.name?j("Camera toegang geweigerd. Geef toestemming in je browser instellingen."):"NotFoundError"===a.name||"DevicesNotFoundError"===a.name?j("Geen camera gevonden op dit apparaat."):"NotReadableError"===a.name||"TrackStartError"===a.name?j("Camera wordt al gebruikt door een andere app."):j(`Camera fout: ${a.message}`):j(`Camera initialisatie mislukt: ${String(a)}`),b(!1)}},n=()=>{if(console.log(" Stopping camera..."),l.current){try{"function"==typeof l.current.reset?l.current.reset():"function"==typeof l.current.stop&&l.current.stop()}catch(a){console.log("Error stopping controls:",a)}l.current=null}k.current?.srcObject&&(k.current.srcObject.getTracks().forEach(a=>{a.stop(),console.log("Stopped track:",a.kind)}),k.current.srcObject=null),b(!1)};(0,bd.useEffect)(()=>()=>{n()},[]);let o=async a=>{try{let b=`https://openlibrary.org/isbn/${a}.json`;console.log("Trying OpenLibrary ISBN API:",b);let c=await fetch(b);if(!c.ok)return null;let d=await c.json();if(!d.title)return null;let e=[];if(d.authors&&d.authors.length>0){let a=d.authors.slice(0,3).map(async a=>{if(a.key)try{let b=await fetch(`https://openlibrary.org${a.key}.json`);if(b.ok)return(await b.json()).name||""}catch(a){console.error("Error fetching author:",a)}return""});e=(await Promise.all(a)).filter(a=>a)}let f=null,g=[];if(d.works&&d.works.length>0)try{let a=d.works[0].key,b=`https://openlibrary.org${a}.json`,c=await fetch(b);if(c.ok){let a=await c.json();a.description&&("string"==typeof a.description?f=a.description:a.description.value&&(f=a.description.value)),a.subjects&&(g=a.subjects.slice(0,5))}}catch(a){console.log("Could not fetch work details:",a)}return{title:d.title||"Onbekende titel",author:e.join(", ")||"Onbekende auteur",cover:`https://covers.openlibrary.org/b/isbn/${a}-M.jpg`,isbn:a,publishYear:d.publish_date||null,pages:d.number_of_pages||null,description:f,subjects:g}}catch(a){console.log("OpenLibrary failed:",a)}return null},p=async a=>{try{let b=`https://www.googleapis.com/books/v1/volumes?q=isbn:${a}`;console.log("Trying Google Books API:",b);let c=await fetch(b);if(!c.ok)return null;let d=await c.json();if(d.items&&d.items.length>0){let b=d.items[0].volumeInfo;return{title:b.title||"Onbekende titel",author:b.authors?.[0]||b.authors?.join(", ")||"Onbekende auteur",cover:b.imageLinks?.thumbnail||b.imageLinks?.smallThumbnail||b.imageLinks?.medium||null,isbn:a,publishYear:b.publishedDate?.split("-")[0]||null,pages:b.pageCount||null,description:b.description||null,subjects:b.categories||[]}}}catch(a){console.log("Google Books failed:",a)}return null},q=async a=>{try{let b=`https://openlibrary.org/isbn/${a}.json`;console.log("Trying OpenLibrary Works:",b);let c=await fetch(b);if(!c.ok)return null;let d=await c.json();if(d.works&&d.works.length>0){let b=d.works[0].key,c=`https://openlibrary.org${b}.json`,e=await fetch(c);if(e.ok){let b=await e.json(),c=[];if(b.authors&&b.authors.length>0){let a=b.authors.slice(0,3).map(async a=>{if(a.author?.key)try{let b=await fetch(`https://openlibrary.org${a.author.key}.json`);if(b.ok)return(await b.json()).name||""}catch(a){console.error("Error fetching author:",a)}return""});c=(await Promise.all(a)).filter(a=>a)}let f=null,g=[];return b.description&&("string"==typeof b.description?f=b.description:b.description.value&&(f=b.description.value)),b.subjects&&(g=b.subjects.slice(0,5)),{title:b.title||d.title||"Onbekende titel",author:c.join(", ")||"Onbekende auteur",cover:`https://covers.openlibrary.org/b/isbn/${a}-M.jpg`,isbn:a,publishYear:b.first_publish_date||d.publish_date||null,pages:d.number_of_pages||null,description:f,subjects:g}}}}catch(a){console.log("OpenLibrary Works failed:",a)}return null},r=async a=>{h(!0),j(""),f(null);try{let b=a.replace(/[^0-9X]/gi,"");if(console.log("Looking up ISBN:",b),b.length<10||b.length>13){j("Ongeldig ISBN nummer. ISBN moet 10 of 13 cijfers bevatten."),h(!1);return}let c=await o(b);c||(console.log("OpenLibrary failed, trying Google Books..."),c=await p(b)),c||(console.log("Google Books failed, trying OpenLibrary Works..."),c=await q(b)),c?(console.log("Book found:",c),f(c)):(console.warn("Book not found in any API"),j(`Boek met ISBN ${b} niet gevonden in online databases. Controleer het ISBN nummer en probeer het opnieuw.`))}catch(a){console.error("Error in lookupIsbn:",a),a instanceof Error?a.message.includes("Failed to fetch")||a.message.includes("NetworkError")?j("Geen internetverbinding. Controleer je verbinding en probeer het opnieuw."):j(`Er ging iets mis: ${a.message}`):j("Er ging iets mis bij het ophalen van boekgegevens. Probeer het later opnieuw.")}finally{h(!1)}},s=a=>{let b=JSON.parse(localStorage.getItem("shelfie-books")||"[]");b.push({...e,status:a,id:Date.now()}),localStorage.setItem("shelfie-books",JSON.stringify(b)),f(null),d(""),window.location.href="/library"};return(0,bd.useEffect)(()=>()=>{n()},[]),(0,bc.jsxs)("main",{className:"min-h-screen bg-surface-dark",children:[(0,bc.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,bc.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-[150px]"}),(0,bc.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-secondary/10 rounded-full blur-[150px]"})]}),(0,bc.jsxs)("div",{className:"relative z-10",children:[(0,bc.jsx)("header",{className:"sticky top-0 z-20 bg-surface-dark/80 backdrop-blur-lg border-b border-white/10",children:(0,bc.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,bc.jsxs)("div",{className:"flex justify-between items-center",children:[(0,bc.jsxs)(be.default,{href:"/library",className:"flex items-center gap-2 text-neutral-400 hover:text-white",children:[(0,bc.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bc.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),(0,bc.jsx)("h1",{className:"font-display font-bold text-lg text-white",children:"Add Book"}),(0,bc.jsx)("div",{className:"w-16"})]})})}),(0,bc.jsx)("div",{className:"container mx-auto px-4 py-8",children:e?(0,bc.jsxs)("div",{className:"animate-scale-in",children:[(0,bc.jsxs)("div",{className:"glass-card p-6 mb-6",children:[(0,bc.jsxs)("div",{className:"flex gap-6 mb-4",children:[(0,bc.jsx)("div",{className:"flex-shrink-0",children:e.cover?(0,bc.jsx)("img",{src:e.cover,alt:e.title,className:"w-28 h-40 rounded-xl object-cover shadow-lg"}):(0,bc.jsx)("div",{className:"w-28 h-40 rounded-xl bg-surface-light flex items-center justify-center",children:(0,bc.jsx)("span",{className:"text-4xl",children:""})})}),(0,bc.jsxs)("div",{className:"flex-1",children:[(0,bc.jsx)("h2",{className:"text-white font-bold text-xl mb-1",children:e.title}),(0,bc.jsx)("p",{className:"text-neutral-400 mb-2",children:e.author}),e.publishYear&&(0,bc.jsxs)("p",{className:"text-neutral-500 text-sm mb-1",children:[" ",e.publishYear]}),e.pages&&(0,bc.jsxs)("p",{className:"text-neutral-500 text-sm mb-1",children:[" ",e.pages," paginas"]}),(0,bc.jsxs)("p",{className:"text-neutral-600 text-xs mt-2",children:["ISBN: ",e.isbn]})]})]}),e.description&&(0,bc.jsxs)("div",{className:"mb-4",children:[(0,bc.jsx)("h3",{className:"text-white font-semibold text-sm mb-2",children:"Beschrijving"}),(0,bc.jsx)("p",{className:"text-neutral-300 text-sm leading-relaxed line-clamp-4",children:e.description.length>300?e.description.substring(0,300)+"...":e.description})]}),e.subjects&&e.subjects.length>0&&(0,bc.jsxs)("div",{children:[(0,bc.jsx)("h3",{className:"text-white font-semibold text-sm mb-2",children:"Onderwerpen"}),(0,bc.jsx)("div",{className:"flex flex-wrap gap-2",children:e.subjects.map((a,b)=>(0,bc.jsx)("span",{className:"px-3 py-1 rounded-full bg-primary/20 text-primary-light text-xs",children:a},b))})]})]}),(0,bc.jsxs)("div",{className:"space-y-3",children:[(0,bc.jsx)("p",{className:"text-neutral-400 text-center mb-4",children:"Add to shelf as:"}),(0,bc.jsxs)("button",{onClick:()=>s("reading"),className:"w-full glass-card-hover p-4 flex items-center gap-4",children:[(0,bc.jsx)("div",{className:"w-12 h-12 rounded-xl bg-primary/20 flex items-center justify-center",children:(0,bc.jsx)("span",{className:"text-2xl",children:""})}),(0,bc.jsxs)("div",{className:"text-left",children:[(0,bc.jsx)("p",{className:"text-white font-semibold",children:"Currently Reading"}),(0,bc.jsx)("p",{className:"text-neutral-400 text-sm",children:"I am reading this now"})]})]}),(0,bc.jsxs)("button",{onClick:()=>s("tbr"),className:"w-full glass-card-hover p-4 flex items-center gap-4",children:[(0,bc.jsx)("div",{className:"w-12 h-12 rounded-xl bg-secondary/20 flex items-center justify-center",children:(0,bc.jsx)("span",{className:"text-2xl",children:""})}),(0,bc.jsxs)("div",{className:"text-left",children:[(0,bc.jsx)("p",{className:"text-white font-semibold",children:"To Be Read (TBR)"}),(0,bc.jsx)("p",{className:"text-neutral-400 text-sm",children:"On my reading list"})]})]}),(0,bc.jsxs)("button",{onClick:()=>s("finished"),className:"w-full glass-card-hover p-4 flex items-center gap-4",children:[(0,bc.jsx)("div",{className:"w-12 h-12 rounded-xl bg-accent/20 flex items-center justify-center",children:(0,bc.jsx)("span",{className:"text-2xl",children:""})}),(0,bc.jsxs)("div",{className:"text-left",children:[(0,bc.jsx)("p",{className:"text-white font-semibold",children:"Finished"}),(0,bc.jsx)("p",{className:"text-neutral-400 text-sm",children:"Already read this one"})]})]})]}),(0,bc.jsx)("button",{onClick:()=>f(null),className:"w-full mt-6 text-neutral-400 hover:text-white py-3",children:"Scan another book"})]}):(0,bc.jsxs)(bc.Fragment,{children:[(0,bc.jsx)("div",{className:"glass-card p-6 mb-6",children:a?(0,bc.jsxs)("div",{className:"relative pb-24",children:[(0,bc.jsx)("video",{ref:k,className:"w-full h-64 md:h-96 rounded-xl object-cover bg-black",autoPlay:!0,playsInline:!0,muted:!0}),(0,bc.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10",children:(0,bc.jsxs)("div",{className:"w-64 h-40 md:w-80 md:h-48 border-2 border-primary rounded-lg relative shadow-lg",children:[(0,bc.jsx)("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-primary rounded-tl-lg"}),(0,bc.jsx)("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-primary rounded-tr-lg"}),(0,bc.jsx)("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-primary rounded-bl-lg"}),(0,bc.jsx)("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-primary rounded-br-lg"}),(0,bc.jsx)("div",{className:"absolute left-2 right-2 h-1 bg-primary animate-pulse shadow-lg",style:{top:"50%",boxShadow:"0 0 10px rgba(168, 85, 247, 0.8)"}})]})}),(0,bc.jsx)("button",{onClick:n,className:"absolute top-4 right-4 bg-black/70 hover:bg-black/90 backdrop-blur-sm p-3 rounded-full text-white transition-all z-20","aria-label":"Stop camera",children:(0,bc.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bc.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,bc.jsxs)("div",{className:"absolute -bottom-16 left-0 right-0 px-4 z-20",children:[(0,bc.jsx)("p",{className:"text-center text-white text-sm font-medium mb-1 bg-black/70 backdrop-blur-sm rounded-full py-2 px-4 inline-block",children:" Richt de camera op de barcode"}),(0,bc.jsx)("p",{className:"text-center text-neutral-300 text-xs mt-2",children:"Zorg dat de barcode goed verlicht is"})]})]}):(0,bc.jsxs)("button",{onClick:m,className:"w-full h-48 rounded-xl border-2 border-dashed border-white/20 flex flex-col items-center justify-center gap-4 hover:border-primary/50 hover:bg-white/5 transition-all",children:[(0,bc.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:(0,bc.jsxs)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,bc.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,bc.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,bc.jsxs)("div",{className:"text-center",children:[(0,bc.jsx)("p",{className:"text-white font-semibold",children:"Scan ISBN Barcode"}),(0,bc.jsx)("p",{className:"text-neutral-400 text-sm",children:"Tap to open camera"})]})]})}),(0,bc.jsxs)("div",{className:"flex items-center gap-4 my-6",children:[(0,bc.jsx)("div",{className:"flex-1 h-px bg-white/10"}),(0,bc.jsx)("span",{className:"text-neutral-500 text-sm",children:"or enter manually"}),(0,bc.jsx)("div",{className:"flex-1 h-px bg-white/10"})]}),(0,bc.jsxs)("form",{onSubmit:a=>{a.preventDefault(),c.trim()&&r(c)},className:"space-y-4",children:[(0,bc.jsxs)("div",{children:[(0,bc.jsx)("label",{htmlFor:"isbn",className:"block text-sm text-neutral-400 mb-2",children:"ISBN Number"}),(0,bc.jsx)("input",{type:"text",id:"isbn",value:c,onChange:a=>d(a.target.value),placeholder:"978-0-123456-78-9",className:"input-modern"})]}),i&&(0,bc.jsx)("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:i}),(0,bc.jsx)("button",{type:"submit",disabled:g||!c.trim(),className:"w-full btn-gradient py-4 disabled:opacity-50",children:g?"Searching...":"Look up book"})]}),(0,bc.jsxs)("div",{className:"mt-8 glass-card p-4",children:[(0,bc.jsx)("p",{className:"text-neutral-500 text-sm mb-3",children:"Try these popular BookTok reads:"}),(0,bc.jsx)("div",{className:"flex flex-wrap gap-2",children:[{isbn:"9780062060624",title:"Song of Achilles"},{isbn:"9781649374042",title:"Fourth Wing"},{isbn:"9780316769174",title:"Catcher in the Rye"}].map(a=>(0,bc.jsx)("button",{onClick:()=>{console.log("Button clicked for:",a.title,"ISBN:",a.isbn),d(a.isbn),r(a.isbn)},className:"px-3 py-1.5 rounded-full bg-white/5 text-neutral-400 text-sm hover:bg-primary/20 hover:text-primary-light",children:a.title},a.isbn))})]})]})}),(0,bc.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-surface-dark/90 backdrop-blur-lg border-t border-white/10",children:(0,bc.jsx)("div",{className:"container mx-auto px-4",children:(0,bc.jsxs)("div",{className:"flex justify-around py-2",children:[(0,bc.jsxs)(be.default,{href:"/library",className:"nav-item",children:[(0,bc.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bc.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),(0,bc.jsx)("span",{className:"text-xs",children:"Library"})]}),(0,bc.jsxs)(be.default,{href:"/scan",className:"nav-item active",children:[(0,bc.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bc.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h2M4 12h2m14 0h2M6 20h2m-4-8h2m14 0h2"})}),(0,bc.jsx)("span",{className:"text-xs",children:"Scan"})]}),(0,bc.jsxs)(be.default,{href:"/stats",className:"nav-item",children:[(0,bc.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bc.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,bc.jsx)("span",{className:"text-xs",children:"Stats"})]}),(0,bc.jsxs)(be.default,{href:"/profile",className:"nav-item",children:[(0,bc.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,bc.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,bc.jsx)("span",{className:"text-xs",children:"Profile"})]})]})})})]})]})}gJ.prototype.write=function(a,b,c,d){if(0===a.length)throw new bm("Found empty contents");if(b<0||c<0)throw new bm("Requested dimensions are too small: "+b+"x"+c);var e=d5.L,f=gJ.QUIET_ZONE_SIZE;if(d){if(void 0!==d.get(fh.ERROR_CORRECTION)){var g=d.get(fh.ERROR_CORRECTION).toString();e=d5.fromString(g)}void 0!==d.get(fh.MARGIN)&&(f=Number.parseInt(d.get(fh.MARGIN).toString(),10))}var h=fs.encode(a,e,d);return this.renderResult(h,b,c,f)},gJ.prototype.writeToDom=function(a,b,c,d,e){if("string"==typeof a){var f=document.querySelector(a);if(!f)throw Error("Could no find the target HTML element.");a=f}var g=this.write(b,c,d,e);a instanceof HTMLElement&&a.appendChild(g)},gJ.prototype.renderResult=function(a,b,c,d){var e=a.getMatrix();if(null===e)throw new cc;for(var f=e.getWidth(),g=e.getHeight(),h=f+2*d,i=g+2*d,j=Math.max(b,h),k=Math.max(c,i),l=Math.min(Math.floor(j/h),Math.floor(k/i)),m=Math.floor((j-f*l)/2),n=Math.floor((k-g*l)/2),o=this.createSVGElement(j,k),p=0,q=n;p<g;p++,q+=l)for(var r=0,s=m;r<f;r++,s+=l)if(1===e.get(r,p)){var t=this.createSvgRectElement(s,q,l,l);o.appendChild(t)}return o},gJ.prototype.createSVGElement=function(a,b){var c=document.createElementNS(gI,"svg"),d=a.toString(),e=b.toString();return c.setAttribute("height",e),c.setAttribute("width",d),c.setAttribute("viewBox","0 0 "+d+" "+e),c},gJ.prototype.createSvgRectElement=function(a,b,c,d){var e=document.createElementNS(gI,"rect");return e.setAttribute("x",a.toString()),e.setAttribute("y",b.toString()),e.setAttribute("height",c.toString()),e.setAttribute("width",d.toString()),e.setAttribute("fill","#000000"),e},gJ.QUIET_ZONE_SIZE=4,a.s(["default",()=>gK],34458)}];

//# sourceMappingURL=shelfie-ease_8b563d53._.js.map